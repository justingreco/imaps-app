{"version":3,"file":"static/js/2113.7553930e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwner as i}from\"../../core/HandleOwner.js\";import{clone as n}from\"../../core/lang.js\";import{isNone as r,isSome as o,destroyMaybe as s,unwrap as a,applySome as p,equalsMaybe as c}from\"../../core/maybe.js\";import{ignoreAbortErrors as h}from\"../../core/promiseUtils.js\";import{watch as d,syncAndInitial as l}from\"../../core/reactiveUtils.js\";import{createScreenPoint as m}from\"../../core/screenUtils.js\";import{property as g}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as v}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as y}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as _}from\"../ViewingMode.js\";import{defaultDrawingMode as x}from\"./DrawingMode.js\";import{DrawManipulator as f}from\"./DrawManipulator.js\";import{createCoordinateHelper as w}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as S,sceneSnappingAtLocation as V}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as O,Component as T}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as b}from\"../interactive/editGeometry/EditGeometryOperations.js\";import M from\"../interactive/sketch/SketchLabelOptions.js\";import D from\"../interactive/sketch/SketchTooltipOptions.js\";import{SnappingContext as I}from\"../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as P}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as E}from\"../interactive/snapping/SnappingOperation.js\";let C=class extends(t.EventedMixin(i)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new P,this.isDraped=!0,this.labelOptions=new M,this.tooltipOptions=new D,this.snapToSceneEnabled=null,this.lastVertex=null,r(e.elevationInfo)&&(this.elevationInfo=y(e.hasZ))}initialize(){const{geometryType:e,view:t}=this,{spatialReference:i}=t,n=\"viewingMode\"in t.state?t.state.viewingMode:_.Local,s=\"segment\"===e||\"multipoint\"===e?\"polyline\":e;this.coordinateHelper=w(this.hasZ,this.hasM,i),this._editGeometryOperations=new b(new O(s,this.coordinateHelper)),this._snappingOperation=new E({view:t,constrainResult:e=>r(e)?e:this._getEffectiveDrawSurface().constrainZ(e)}),this.handles.add(d((()=>this.stagedVertex),(e=>{r(e)||this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}),{sync:!0,equals:(e,t)=>c(e,t,v)})),this._activeComponent=new T(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const a=this.segmentLabels;o(a)&&(a.context={view:t,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.handles.add([d((()=>this.labelOptions.enabled),(e=>{a.visible=e}),l),this.on(\"cursor-update\",(()=>{const e=this.stagedVertex;a.stagedVertex=o(e)?this.coordinateHelper.pointToVector(e):null}))])),this.handles.add(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}const n=this._activeComponent.getLastVertex(),s=o(n)?this.coordinateHelper.vectorToDehydratedPoint(n.pos):null;(r(s)||r(this.lastVertex)||!v(this.lastVertex,s))&&(this.lastVertex=s)}))),this._manipulator=new f({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==e,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),this._manipulator.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e)))])}destroy(){s(this.segmentLabels),s(this._snappingOperation),this._editGeometryOperations=s(this._editGeometryOperations)}get _snappingEnabled(){return o(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const e=this._getEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==e}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",e??x)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return o(this.stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get stagedVertex(){return this._snappingOperation.stagedPoint}set stagedVertex(e){this._snappingOperation.stagedPoint=n(e)}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return o(this.stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this.stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),o(this.stagedVertex)){const{stagedVertex:e}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;this._snappingOperation.abort(),o(this.snappingManager)&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.stagedVertex=null;const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){o(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(a(this.drawingMode)){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return S(e,((e,t,i,n)=>{const r=\"touch\"===n&&this._snappingEnabled;!this.isCompleted&&r&&(i=i.next((e=>(r&&o(this.snappingManager)&&this.snappingManager.doneSnapping(),e))),t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||r&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(V(this.view,this.elevationInfo)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>r,cancel:i,snappingManager:this.snappingManager,snappingContext:new I({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:n,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles,useZ:!this._requiresScenePoint}),this._snappingPipeline.next).next((e=>(r&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))))}))}_createManipulatorDragPipelineFreehand(e){return S(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(r(this.stagedVertex)&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return S(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(r(this.stagedVertex)&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}get _drawAtFixedElevation(){return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&this.numCommittedVertices>0}_getEffectiveDrawSurface(){if(r(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ())return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;return o(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),o(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),o(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1),this._drawAtFixedElevation&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getEffectiveDrawSurface().mapToScreen(e)}_onHold(e){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(\"mouse\"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(o(i))return e.stopPropagation(),void this.complete();const n=this._screenToMap(e.screenPoint);if(o(n))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(o(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(n)),this.complete());break;case\"click\":case\"hybrid\":this._snappingOperation.abort(),o(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(n)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){const t=m(e.x,e.y),i=this._snappingOperation;if(this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return void i.abort();e.stopPropagation();const n=this._closeOnClickVertexIndex(t);if(o(n))return this._closeOnVertex(n),void i.abort();const s=this._screenToMap(t),a=this._requiresScenePoint?this.drawSurface.screenToMap(t):null;if(this._manipulator.cursor=o(s)?\"crosshair\":null,r(s))return void i.abort();const c=this.snappingManager;if(r(c))return this.stagedVertex=s,void i.abort();const d=this._drawAtFixedElevation?p(this.elevationDrawSurface,(({defaultZ:e})=>e)):null,l=new I({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:this.snappingVisualizer,selfSnappingZ:o(d)?{value:d,elevationInfo:this.elevationInfo}:null});this.updatingHandles.addPromise(h(i.snap({point:s,scenePoint:a},c,l)))}_closeOnVertex(e){this.stagedVertex=null;const t={componentIndex:0,vertexIndex:e,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[e].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[t],operation:\"apply\",type:\"vertex-update\"})}_screenToMap(e){return this._getEffectiveDrawSurface().screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),r(e))return null;const i=this._screenToMap(t.screenEnd);return o(i)?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!o(n)&&k(n,t,i)}};function k(e,t,i){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r<=i}e([g()],C.prototype,\"_snappingEnabled\",null),e([g()],C.prototype,\"defaultZ\",void 0),e([g()],C.prototype,\"isDraped\",void 0),e([g({value:x})],C.prototype,\"drawingMode\",null),e([g({constructOnly:!0})],C.prototype,\"elevationDrawSurface\",void 0),e([g({constructOnly:!0})],C.prototype,\"elevationInfo\",void 0),e([g({constructOnly:!0,type:M})],C.prototype,\"labelOptions\",void 0),e([g({constructOnly:!0,type:D})],C.prototype,\"tooltipOptions\",void 0),e([g({constructOnly:!0})],C.prototype,\"geometryType\",void 0),e([g({constructOnly:!0})],C.prototype,\"hasM\",void 0),e([g({constructOnly:!0})],C.prototype,\"hasZ\",void 0),e([g({constructOnly:!0})],C.prototype,\"manipulators\",void 0),e([g({constructOnly:!0})],C.prototype,\"drawSurface\",void 0),e([g({constructOnly:!0})],C.prototype,\"segmentLabels\",void 0),e([g({constructOnly:!0})],C.prototype,\"snappingManager\",void 0),e([g({constructOnly:!0})],C.prototype,\"snappingVisualizer\",void 0),e([g()],C.prototype,\"snapToSceneEnabled\",void 0),e([g()],C.prototype,\"_snappingOperation\",void 0),e([g()],C.prototype,\"stagedVertex\",null),e([g()],C.prototype,\"lastVertex\",void 0),e([g()],C.prototype,\"updating\",null),e([g({constructOnly:!0})],C.prototype,\"view\",void 0),C=e([u(\"esri.views.draw.DrawOperation\")],C);export{C as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{createScreenPointArray as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as s}from\"../../layers/graphics/dehydratedFeatures.js\";import{clonePoint as i}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as r,getZForElevationMode as n}from\"../../support/elevationInfoUtils.js\";class o{constructor(e,t,s,i=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=i}screenToMap(s){if(e(this.defaultZ))return this._view.sceneIntersectionHelper.intersectElevationFromScreen(t(s.x,s.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);const i=this._view.sceneIntersectionHelper.intersectElevationFromScreen(t(s.x,s.y),this._elevationInfo,0,this._excludeGraphics);return e(i)&&(i.z=void 0),i}mapToScreen(e){const t=s(e.x,e.y,r(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(t){const{defaultZ:s}=this;return e(s)&&t.z!==s&&((t=i(t)).z=s),t}}class c{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(t){const s=this.view.toMap(t,{exclude:this.exclude});return e(s)&&(s.z=n(s,this.view,this.elevationInfo)),s}mapToScreen(t){let i=t;return e(this.elevationInfo)&&(i=s(t.x,t.y,r(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(i)}constrainZ(e){return e}}class a{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const i=e.toMap(t);return i.z=s,i}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=i(e)).z=t),e}}export{o as ElevationDrawSurface,a as MapDrawSurface,c as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{c as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i}from\"../../../chunks/quat.js\";import{a as n}from\"../../../chunks/quatf64.js\";import{g as l,e as h,b as m,n as c,f,q as p}from\"../../../chunks/vec3.js\";import{c as d}from\"../../../chunks/vec3f64.js\";import{Axis as u}from\"../../../geometry/support/Axis.js\";import w from\"../../../geometry/Point.js\";function g(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function R(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class W{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class v extends W{constructor(t,r,o=null){super(r),this._defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return g(t,r,this._defaultZ)}mapToLocal(t){return R(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return g(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class F extends W{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=d(),this.tangentFrameUpWS=d(),this.tangentFrameRightWS=d(),this.tangentFrameForwardWS=d(),this.localFrameRightWS=d(),this.localFrameUpWS=d(),this.worldToLocalTransform=n(),this.localToWorldTransform=n(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Z,this.tangentFrameForwardWS);const s=d();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),i(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return g(t,r,this.defaultZ)}mapToLocal(r){const e=d();this.view.renderCoordsHelper.toRenderCoords(new w({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),p(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?R(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=d();this.view.renderCoordsHelper.toRenderCoords(new w({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),p(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x,s.y,this.defaultZ):null}}function S(t,r){if(\"2d\"===t.type)return new v(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new w({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new w({x:r[0],y:r[1],spatialReference:t.spatialReference});return new F(t,e)}return null}export{v as AffineCoordinateSystem,F as SceneViewCoordinateSystem,W as SurfaceCoordinateSystem,S as createViewAlignedCoordinateSystem,g as makeMapPoint,R as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,abortMaybe as n}from\"../../../core/maybe.js\";import{ignoreAbortErrors as a,debounce as o}from\"../../../core/promiseUtils.js\";import{pointEquals as i}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{clonePoint as r}from\"../../../layers/graphics/hydratedFeatures.js\";import{EventPipeline as s}from\"../dragEventPipeline.js\";import{SnappingContext as p}from\"./SnappingContext.js\";import{TaskPriority as l,ImmediateTask as c}from\"../../support/Scheduler.js\";class u{constructor(){this.next=new s}createSnapDragEventPipelineStep({predicate:o=(()=>!0),cancel:i,snappingManager:r,snappingContext:p,updatingHandles:l,useZ:c=!0}){if(e(r))return e=>e;let u=null,d=null;const f=()=>{u=n(u),r.doneSnapping(),t(d)&&d.frameTask.remove(),d=null};i.next((e=>(f(),e))),this.next=new s;const m=this._createSnapFunction(r,c);let h=null,S=null,x=null;return n=>{if(!o(n))return n;if(\"start\"===n.action){const e=this._createFrameTask(r.view);if(d=this._createSnappingInfo(p,n,e),d.context.selfSnappingZ=null,!c&&t(n.info)){const e=this._extractSelfSnappingZ(p.coordinateHelper,n.info.handle.component);t(e)&&(d.context.selfSnappingZ={value:e,elevationInfo:p.elevationInfo})}}if(t(d)){const{context:t,originalScenePos:o,originalPos:i}=d,{mapEnd:s,mapStart:p,action:f,scenePoints:P}=n,g=this._updatePosition(i,this._computeMapDelta(s,p)),_=this._computeMapDelta(p,i),y={...n,action:\"update\"},v=d.context,Z=this._updateScenePosition(o,P),T=r.update({point:g,scenePoint:Z,context:t});if(x=T,this._applySnappedUpdate(s,T,_,c),h=g,S=Z,\"end\"!==f){const{frameTask:t}=d;e(u)&&(u=new AbortController),l.addPromise(a(m({frameTask:t,event:y,context:v,point:g,scenePoint:Z,delta:_,lastPos:h,lastScenePos:S,lastUpdate:x},u.signal)))}}return\"end\"===n.action&&f(),n}}_createSnapFunction(e,n){return o((async({frameTask:a,point:o,scenePoint:r,context:s,event:p,delta:l,lastPos:c,lastScenePos:u,lastUpdate:d},f)=>{const m=await a.schedule((()=>e.snap({point:o,scenePoint:r,context:s,signal:f})),f);if(m.valid){let r=await a.schedule((()=>m.apply()),f);o!==c&&t(c)&&(r=e.update({point:c,scenePoint:u,context:s})),i(r,d)||(this._applySnappedUpdate(p.mapEnd,r,l,n),this.next.execute(p))}}))}_createFrameTask(e){return\"3d\"===e.type?e.resourceController.scheduler.registerTask(l.SNAPPING):c}_createSnappingInfo(e,n,a){return{context:new p({editGeometryOperations:e.editGeometryOperations,elevationInfo:e.elevationInfo,pointer:e.pointer,vertexHandle:t(n.info)?n.info.handle:null,excludeFeature:e.excludeFeature,visualizer:e.visualizer}),originalPos:t(n.snapOrigin)?e.coordinateHelper.vectorToDehydratedPoint(n.snapOrigin):n.mapStart,originalScenePos:t(n.scenePoints)?n.scenePoints.sceneStart:null,frameTask:a}}_updatePosition(e,[t,n,a]){const o=r(e);return o.x+=t,o.y+=n,o.hasZ&&(o.z+=a),o}_updateScenePosition(t,n){return e(t)||e(n)?null:this._updatePosition(t,this._computeMapDelta(n.sceneEnd,n.sceneStart))}_computeMapDelta(e,t){const n=e.hasZ&&t.hasZ?e.z-t.z:0;return[e.x-t.x,e.y-t.y,n]}_applySnappedUpdate(e,t,[n,a,o],i){e.x=t.x+n,e.y=t.y+a,i&&e.hasZ&&t.hasZ&&(e.z=t.z+o)}_extractSelfSnappingZ(n,a){if(!n.hasZ())return null;const o=a.vertices;let i=null;for(const r of o){const a=n.getZ(r.pos);if(t(i)&&Math.abs(a-i)>1e-6)return null;e(i)&&(i=a)}return i}}export{u as SnappingPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{isSome as o,abortMaybe as r,removeMaybe as e,isNone as i}from\"../../../core/maybe.js\";import{debounce as n}from\"../../../core/promiseUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as l,ImmediateTask as c}from\"../../support/Scheduler.js\";let h=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._abortController=null,this._stagedPoint=null,this._snap=n((async(t,s,r,e)=>{const i=await this._frameTask.schedule((()=>s.snap({...t,context:r,signal:e})),e);i.valid&&await this._frameTask.schedule((()=>{this.stagedPoint=i.apply(),t!==this._snapPoints&&o(this._snapPoints)&&(this.stagedPoint=s.update({...this._snapPoints,context:r}))}),e)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=o(t)?t.registerTask(l.SNAPPING):c}destroy(){this._abortController=r(this._abortController),this._frameTask=e(this._frameTask)}async snap(t,s,o){const{point:r,scenePoint:e}=t;return this.stagedPoint=s.update({point:r,scenePoint:e,context:o}),this._snapPoints=t,i(this._abortController)&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}abort(){this._abortController=r(this._abortController)}};t([a({constructOnly:!0})],h.prototype,\"view\",void 0),t([a()],h.prototype,\"stagedPoint\",null),t([a()],h.prototype,\"constrainResult\",void 0),t([a()],h.prototype,\"_stagedPoint\",void 0),h=t([p(\"esri.views.interactive.snapping.SnappingOperation\")],h);export{h as SnappingOperation};\n"],"names":["e","constructor","grabbableForEvent","this","events","t","interactive","selectable","cursor","grabbable","intersectionDistance","attach","detach","C","i","super","_createOperationCompleted","_pointerDownStates","Set","_snappingPipeline","P","isDraped","labelOptions","M","tooltipOptions","D","snapToSceneEnabled","lastVertex","r","elevationInfo","y","hasZ","initialize","geometryType","view","spatialReference","n","state","viewingMode","_","s","coordinateHelper","w","hasM","_editGeometryOperations","b","O","_snappingOperation","E","constrainResult","_getEffectiveDrawSurface","constrainZ","handles","add","d","stagedVertex","emit","updated","vertices","componentIndex","vertexIndex","_activeComponent","length","coordinates","pointToArray","operation","type","sync","equals","c","v","T","data","components","push","a","segmentLabels","o","context","editGeometryOperations","enabled","visible","l","on","pointToVector","map","index","vectorToArray","pos","added","removed","getLastVertex","vectorToDehydratedPoint","_manipulator","f","drawingMode","pointerType","_snappingEnabled","size","manipulators","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","destroy","snappingManager","options","effectiveEnabled","_requiresScenePoint","drawSurface","canRedo","canUndo","committedVertices","_set","x","isCompleted","numCommittedVertices","numVertices","stagedPoint","updating","updatingHandles","cancel","complete","aborted","commitStagedVertex","abort","appendVertex","doneSnapping","onInputEvent","pointerId","delete","_onPointerMove","_onHold","redo","undo","_closeOnClickVertexIndex","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","S","next","_screenToMapDragEventStep","action","mapStart","V","createSnapDragEventPipelineStep","predicate","snappingContext","I","pointer","visualizer","snappingVisualizer","useZ","mapEnd","_drawAtFixedElevation","elevationDrawSurface","defaultZ","mode","getZ","_mapToScreen","mapToScreen","mapPoint","stopPropagation","button","dragging","screenPoint","_screenToMap","m","has","grabbing","_closeOnVertex","screenToMap","p","selfSnappingZ","value","addPromise","h","snap","point","scenePoint","screenStart","screenEnd","k","g","prototype","constructOnly","u","_elevationInfo","_view","_excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","z","toScreen","exclude","toMap","R","W","mapToLocalMultiple","mapToLocal","doUnnormalization","_defaultZ","transform","transformInv","makeMapPoint","localToMap","F","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","scale","resolution","referenceMapPoint","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","fromRenderCoords","frameTask","remove","_createSnapFunction","_createFrameTask","_createSnappingInfo","info","_extractSelfSnappingZ","handle","component","originalScenePos","originalPos","scenePoints","_updatePosition","_computeMapDelta","Z","_updateScenePosition","update","_applySnappedUpdate","AbortController","event","delta","lastPos","lastScenePos","lastUpdate","signal","async","schedule","valid","apply","execute","resourceController","scheduler","registerTask","vertexHandle","excludeFeature","snapOrigin","sceneStart","sceneEnd","Math","abs","_snapPoints","_abortController","_stagedPoint","_snap","_frameTask"],"sourceRoot":""}