"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[4448],{14448:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var l=o(72791),n=(o(90521),o(89401),o(85580)),i=o(97426),a=o(33513),s=o(61459),r=o(16851),c=o(58009),d=o(80045),p=o(76200);let u,x,m,h,y,v,g,b,j,S="",f=new s.Z({color:[255,0,0,.5],style:"solid",outline:{width:2,color:[255,0,0,1]}}),w=new r.Z({width:1,color:[255,0,0,1],style:"solid",cap:"round",join:"round"}),k=new c.Z({color:[255,0,0,1],haloColor:[255,255,255,1],haloSize:"1px",text:"",xoffset:3,yoffset:3,font:{size:10,family:"Aerial",weight:"bold"}});function C(e,t,o){const l=new i.Z({view:t,layer:e,updateOnGraphicClick:!0});return l.on("create",Z),l}function Z(e){"complete"===e.state&&("polygon"===e.graphic.geometry.type&&(e.graphic.symbol=f,y.polygonLayer.add(e.graphic),console.log(e.graphic.symbol.color),b.create(e.tool)),"polyline"===e.graphic.geometry.type&&(e.graphic.symbol=w,y.polylineLayer.add(e.graphic),g.create(e.tool)),"text"===S&&(e.graphic.symbol=k,y.textLayer.add(e.graphic),j.create("point")))}function L(e,t,o){S=e,o(e===t?"":e),""===t&&T(),["polygon","rectangle","circle"].includes(e)&&b.create(e),["polyline"].includes(e)&&g.create(e),"text"===e&&g.create("point")}function I(e,t,o){f.color=e,console.log(f.color),f.outline.color=t,f.outline.width=o,b.activeFillSymbol=f,b.updateGraphics.forEach((e=>{e.symbol=f}))}function U(e,t){w.color=e,w.width=t,g.activeFillSymbol=w,g.updateGraphics.forEach((e=>{e.symbol=w}))}function F(e,t,o,l,n,i){k.color=t,k.font.size=e,k.haloColor=l,k.haloSize=n?o:0,k.text=i,j.pointSymbol=k}function T(){v.cancel(),g.cancel(),b.cancel(),j.cancel()}o(24929),o(95817),o(9946),o(50186),o(21775),o(11151),o(5176);var z=o(51995),G=o(80184);function $(e){const t=(0,l.useRef)(null),o=(0,l.useRef)(null),[i,a]=(0,l.useState)(),[s,r]=(0,l.useState)(0);return(0,l.useEffect)((()=>{e.color&&(a(new z.Z(e.color)),r(100*(1-e.color[3])))}),[e.color]),(0,G.jsxs)("div",{id:e.id,children:[(0,G.jsxs)(n.ZK,{children:[e.label," Color",(0,G.jsx)(n.ln,{id:`${e.id}-popover-button`,width:"half",iconEnd:"pencil",color:"neutral",appearance:"outline",children:(0,G.jsx)(n.jv,{color:null===i||void 0===i?void 0:i.toHex()})})]}),(0,G.jsx)(n.qZ,{ref:t,overlayPositioning:"fixed",placement:"top-leading",label:"",referenceElement:`${e.id}-popover-button`,children:(0,G.jsxs)(n.N$,{heading:"Color",children:[(0,G.jsx)(n.G1,{icon:"x",text:"",slot:"header-actions-end",onClick:()=>{var o;null===(o=t.current)||void 0===o||o.toggle();const l=new z.Z(i);l.a=1-s/100,e.colorSet(l)}}),(0,G.jsx)(n.ne,{ref:o,hideSaved:!0,hideHex:!0,hideChannels:!0,value:i?i.toHex():"#FF0000",onCalciteColorPickerInput:e=>a(new z.Z(e.target.value))})]})}),!e.hideTransparency&&(0,G.jsxs)(n.ZK,{children:[e.label," Transparency",(0,G.jsxs)("div",{className:"slider-input",children:[(0,G.jsx)(n.XQ,{max:100,min:0,value:s,onCalciteSliderInput:t=>{let o=t.target.value;o>100&&(o=100),o<0&&(o=0),r(o);const l=new z.Z(i);l.a=1-s/100,e.colorSet(l)}}),(0,G.jsx)(n.e,{max:100,min:0,type:"number",numberButtonType:"none",suffixText:"%",value:s,onCalciteInputInput:t=>{let o=parseInt(t.target.value);o>100&&(o=100),o<0&&(o=0),r(o);const l=new z.Z(i);l.a=1-s/100,e.colorSet(l)}})]})]})]})}const E=l.memo($);function R(e){const[t,o]=(0,l.useState)();return(0,l.useEffect)((()=>{o(e.value)}),[e.value]),(0,G.jsxs)(n.ZK,{children:[e.label,(0,G.jsxs)("div",{className:"slider-input",children:[(0,G.jsx)(n.XQ,{max:e.max,min:e.min,value:t,onCalciteSliderInput:t=>{o(t.target.value),e.sizeSet(t.target.value)}}),(0,G.jsx)(n.e,{type:"number",numberButtonType:"none",min:e.min,max:e.max,value:t,suffixText:"px",onCalciteInputInput:t=>{o(parseFloat(t.target.value)),e.sizeSet(parseFloat(t.target.value))}})]})]})}const N=l.memo(R);function A(e){const[t,o]=(0,l.useState)(new z.Z([255,0,0,1])),[n,i]=(0,l.useState)(2);return(0,G.jsxs)("div",{id:"line-symbols",children:[(0,G.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:n.toString(),children:[(0,G.jsx)("defs",{}),(0,G.jsx)("g",{transform:"matrix(1,0,0,1,0,0)",children:(0,G.jsx)("path",{fill:"none",fillRule:"evenodd",stroke:null===t||void 0===t?void 0:t.toString(),strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",d:`M ${(n/2).toString()} ${(n/2).toString()} L 49.5 ${(n/2).toString()}`})})]}),(0,G.jsx)(E,{id:"line",label:"Line",color:t.toRgba(),colorSet:t=>{o(t),e.polylineSymbolUpdated(t,n)}}),(0,G.jsx)(N,{value:n,min:.1,max:18,label:"Width",sizeSet:o=>{i(o),e.polylineSymbolUpdated(t,n)}})]})}const K=l.memo(A);function M(e){const[t,o]=(0,l.useState)(new z.Z([255,0,0,.5])),[n,i]=(0,l.useState)(new z.Z([255,0,0,1])),[a,s]=(0,l.useState)(2);return(0,G.jsxs)("div",{id:"polygon-symbols",children:[(0,G.jsx)("div",{children:(0,G.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:(23+a).toString(),height:(23+a).toString(),children:[(0,G.jsx)("defs",{}),(0,G.jsx)("g",{transform:`matrix(${(1.09523809-.004328966*a).toString()},0,0,${(1.09523809-.004328966*a).toString()},${(.5*a+11).toString()},${(.5*a+11).toString()})`,children:(0,G.jsx)("path",{vectorEffect:"non-scaling-stroke",fill:null===t||void 0===t?void 0:t.toString(),fillRule:"evenodd",stroke:null===n||void 0===n?void 0:n.toString(),strokeWidth:a,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",strokeMiterlimit:"4",d:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"})})]})}),(0,G.jsx)(E,{id:"polygon-fill",color:t.toRgba(),label:"Fill",colorSet:t=>{o(t),console.log(t),e.polygonSymbolUpdated(t,n,a)}}),(0,G.jsx)(E,{id:"polygon-outline",color:n.toRgba(),label:"Outline",colorSet:o=>{i(o),e.polygonSymbolUpdated(t,o,a)}}),(0,G.jsx)(N,{label:"Outline Width",min:.1,max:18,value:a,sizeSet:o=>{s(o),e.polygonSymbolUpdated(t,n,a)}})]})}const H=l.memo(M);function P(e){const[t,o]=(0,l.useState)(new z.Z([255,0,0,1])),[i,a]=(0,l.useState)(10),[s,r]=(0,l.useState)(!1),[c,d]=(0,l.useState)(1),[p,u]=(0,l.useState)(new z.Z([255,255,255,1])),[x,m]=(0,l.useState)("");return(0,G.jsxs)("div",{id:"text-symbols",children:[(0,G.jsxs)(n.ZK,{children:["Text",(0,G.jsx)(n.e,{type:"textarea",scale:"m",value:x,onCalciteInputInput:e=>{m(e.target.value)},onCalciteInputChange:o=>{requestAnimationFrame((()=>{e.textSymbolUpdated(i,t,c,p,s,x)}))}})]}),(0,G.jsx)(E,{id:"font",label:"Font",color:t.toRgba(),hideTransparency:!0,colorSet:t=>{o(t),e.textSymbolUpdated(i,t,c,p,s,x)}}),(0,G.jsxs)(n.ZK,{children:["Font Size",(0,G.jsx)(n.e,{type:"number",min:5,max:125,value:i.toString(),onCalciteInputInput:o=>{a(parseFloat(o.target.value)),e.textSymbolUpdated(i,t,c,p,s,x)}})]}),(0,G.jsxs)(n.ZK,{layout:"inline",children:["Halo",(0,G.jsx)(n.$p,{checked:!!s||void 0,onCalciteSwitchChange:o=>{r(o.target.checked),e.textSymbolUpdated(i,t,c,p,s,x)}})]}),(0,G.jsxs)("div",{id:"halo",hidden:!s||void 0,children:[(0,G.jsx)(E,{id:"halo",label:"",color:p.toRgba(),hideTransparency:!0,colorSet:o=>{u(o),e.textSymbolUpdated(i,t,c,o,s,x)}}),(0,G.jsxs)(n.ZK,{children:["Size",(0,G.jsx)(n.e,{type:"number",min:1,max:10,value:c.toString(),onCalciteInputInput:o=>{d(parseFloat(o.target.value)),e.textSymbolUpdated(i,t,c,p,s,x)}})]})]})]})}const W=l.memo(P);o(78159),o(45946);function q(e){const[t,o]=(0,l.useState)([]);return(0,l.useEffect)((()=>{new Promise(((e,t)=>{const o=new d.Z({styleUrl:"http://www.arcgis.com/sharing/rest/content/items/70ccf6bcbd304773a164be896e76edd3/data",name:"Centered Sphere"});(0,p.default)(o.styleUrl).then((t=>{e(t.data.items)}))})).then((e=>o(e)))}),[]),(0,G.jsxs)("div",{id:"point-symbols",children:[(0,G.jsx)(n.qZ,{label:"Icons",referenceElement:"popover-button",children:(0,G.jsx)("div",{id:"symbols",children:t.map(((e,t)=>(0,G.jsx)("div",{id:`pin-${t}`},t)))})}),(0,G.jsx)(n.ln,{id:"popover-button",children:"Activate Popover"})]})}const O=l.memo(q);function B(e){const t=(0,l.useRef)(!1),[o,i]=(0,l.useState)("");return(0,l.useEffect)((()=>{var o;t.current||(o=e.view,y=new a.default({listMode:"hide",id:"notes-layer"}),o.map.add(y),u=y.pointLayer,x=y.polylineLayer,m=y.polygonLayer,h=y.textLayer,v=C(u,o),g=C(x,o),b=C(m,o),b.activeFillSymbol=f,g.activeLineSymbol=w,j=C(h,o))}),[]),(0,G.jsxs)("div",{id:"sketch-tools",children:[(0,G.jsxs)("div",{className:"sticky",children:[(0,G.jsxs)(n.Te,{layout:"horizontal",children:[(0,G.jsx)(n.G1,{active:"point"===o||void 0,icon:"pin",text:"",onClick:()=>L("point",o,i)}),(0,G.jsx)(n.G1,{active:"polyline"===o||void 0,icon:"line",text:"",onClick:()=>L("polyline",o,i)}),(0,G.jsx)(n.G1,{active:"polygon"===o||void 0,icon:"polygon",text:"",onClick:()=>L("polygon",o,i)}),(0,G.jsx)(n.G1,{active:"rectangle"===o||void 0,icon:"rectangle",text:"",onClick:()=>L("rectangle",o,i)}),(0,G.jsx)(n.G1,{active:"circle"===o||void 0,icon:"circle",text:"",onClick:()=>L("circle",o,i)}),(0,G.jsx)(n.G1,{active:"text"===o||void 0,icon:"text",text:"",onClick:()=>L("text",o,i)})]}),(0,G.jsxs)(n.Te,{layout:"horizontal",children:[(0,G.jsx)(n.G1,{icon:"cursor",text:""}),(0,G.jsx)(n.G1,{icon:"trash",text:"",onClick:()=>function(e){e(""),T(),y.polygonLayer.graphics.removeAll(),y.pointLayer.graphics.removeAll(),y.polylineLayer.graphics.removeAll(),y.textLayer.graphics.removeAll()}(i)})]})]}),(0,G.jsx)("div",{id:"point-symbols",className:"symbol",hidden:"point"!==o||void 0,children:(0,G.jsx)(O,{})}),(0,G.jsx)("div",{id:"line-symbols",className:"symbol",hidden:"polyline"!==o||void 0,children:(0,G.jsx)(K,{polylineSymbolUpdated:U})}),(0,G.jsx)("div",{id:"polygon-symbols",className:"symbol",hidden:!["polygon","rectangle","circle"].includes(o)||void 0,children:(0,G.jsx)(H,{polygonSymbolUpdated:I})}),(0,G.jsx)("div",{id:"text-symbols",className:"symbol",hidden:"text"!==o||void 0,children:(0,G.jsx)(W,{textSymbolUpdated:F})})]})}const D=l.memo(B)}}]);
//# sourceMappingURL=4448.32bd4a1d.chunk.js.map