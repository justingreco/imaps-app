"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[9450],{69450:(e,t,r)=>{r.r(t),r.d(t,{Services:()=>p,default:()=>g});var i=r(85580),a=r(72791),n=r(68438),s=r(83942),l=r(80184);const u=e=>{const t=(0,a.useRef)(null);return(0,a.useEffect)((()=>{e.feature&&new s.Z({container:t.current,graphic:e.feature})}),[e.feature]),(0,l.jsx)("div",{ref:t})};var o=r(2170),c=r(26834);function f(e,t,r,i,a){null===e||void 0===e||e.forEach((e=>{"feature"===e.type&&a.push(e.queryFeatures({geometry:o.geodesicBuffer(t.geometry,-5,9002),outFields:["*"],returnGeometry:!0}))}));const n=[];if(a.length)return Promise.all(a).then((e=>{e.forEach((e=>{e.features.length&&e.features.forEach((e=>{n.push(e)}))})),i(!1),r(n)}))}function h(e,t,r,i,a,n){requestAnimationFrame((()=>{if(e.target.hasAttribute("active")){n(!0),a([]);const l=e.target.getAttribute("item-title"),u=t.find((e=>e.group.title===l)),o=[];if(u){let e=null===r||void 0===r?void 0:r.map.allLayers.filter((e=>u.group.layers.includes(e.title)));e.length!==u.group.layers.length?(s=u.group.layers,new Promise(((e,t)=>{const r=new c.Z({portalItem:{id:"95092428774c4b1fb6a3b6f5fed9fbc4"}});r.load().then((()=>{const t=r.allLayers.filter((e=>s.includes(e.title)));e(t.toArray())}))}))).then((e=>{f(e,i,a,n,o)})):f(e.toArray(),i,a,n,o)}}var s}))}const p=e=>{const[t,r]=(0,a.useState)(),[s,o]=(0,a.useState)(),[c,f]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{e.view&&r(e.view),e.graphic&&o(e.graphic)}),[]),(0,l.jsxs)(i.pu,{selectionMode:"single",children:[n.u.map((e=>(0,l.jsxs)(i.k9,{"item-title":e.group.title,heading:e.group.title,onClick:e=>{t&&s&&h(e,n.u,t,s,f,g)},children:[c.map(((e,t)=>(0,l.jsx)(u,{feature:e},t))),0===c.length&&(0,l.jsx)("div",{children:"No information available."})]},e.group.title))),(0,l.jsx)(i.Ed,{loading:!0,hidden:!p||void 0})]})},g=p}}]);
//# sourceMappingURL=9450.43d16cc0.chunk.js.map