"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[2999],{72741:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(62357);class o extends r.Z{constructor(e){super(),this.immutable=!1,this.setField("url",e),this.immutable=!0}}},19191:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(62357);class o extends r.Z{constructor(e,n,t,r,o,a){super(),this.attachmentUrl=o,this.immutable=!1,this.setField("id",e),this.setField("name",n),this.setField("contenttype",t),this.setField("size",r),this.setField("exifinfo",a),this.immutable=!0}}},95435:(e,n,t)=>{t.d(n,{AW:()=>a,Ay:()=>m,B9:()=>E,Es:()=>I,RI:()=>y,_R:()=>l,nB:()=>S,s9:()=>d,ws:()=>b});var r=t(7882),o=t(66504);function a(e,n,t){return Math.sqrt((e[0]-n[0])**2+(e[1]-n[1])**2+(void 0!==e[2]&&void 0!==n[2]?(e[2]*t-n[2]*t)**2:0))}const i=[];for(const A of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const e=A[0];for(let n=1;n<A.length;n++)i[A[n]]=e}const s=[];function l(e){return e.vcsWkid&&void 0!==i[e.vcsWkid]?s[i[e.vcsWkid]]:e.latestVcsWkid&&void 0!==i[e.latestVcsWkid]?s[i[e.latestVcsWkid]]:1}function c(e,n,t){const r={x:0,y:0};n&&(r.z=0),t&&(r.m=0);let o=0,a=e[0];for(let i=0;i<e.length;i++){const s=e[i];if(!1===h(s,a)){const e=p(a,s,n),i=u(a,s,n,t);i.x*=e,i.y*=e,r.x+=i.x,r.y+=i.y,n&&(i.z*=e,r.z+=i.z),t&&(i.m*=e,r.m+=i.m),o+=e,a=s}}return o>0?(r.x/=o,r.y/=o,n&&(r.z/=o),t&&(r.m/=o)):(r.x=e[0][0],r.y=e[0][1],n&&(r.z=e[0][2]),t&&n?r.m=e[0][3]:t&&(r.m=e[0][2])),r}function u(e,n,t,r){const o={x:(e[0]+n[0])/2,y:(e[1]+n[1])/2};return t&&(o.z=(e[2]+n[2])/2),t&&r?o.m=(e[3]+n[3])/2:r&&(o.m=(e[2]+n[2])/2),o}function f(e,n){if(e.length<=1)return 0;let t=0;for(let r=1;r<e.length;r++)t+=p(e[r-1],e[r],n);return t}function p(e,n,t){const r=n[0]-e[0],o=n[1]-e[1];if(t){const e=n[2]-n[2];return Math.sqrt(r*r+o*o+e*e)}return Math.sqrt(r*r+o*o)}function h(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function d(e){const n={x:0,y:0,spatialReference:e.spatialReference.toJSON()},t={x:0,y:0,spatialReference:e.spatialReference.toJSON()};let o=0,a=0;for(let r=0;r<e.paths.length;r++){if(0===e.paths[r].length)continue;const i=f(e.paths[r],!0===e.hasZ);if(0===i){const t=c(e.paths[r],!0===e.hasZ,!0===e.hasM);n.x+=t.x,n.y+=t.y,!0===e.hasZ&&(n.z+=t.z),!0===e.hasM&&(n.m+=t.m),++o}else{const n=c(e.paths[r],!0===e.hasZ,!0===e.hasM);t.x+=n.x*i,t.y+=n.y*i,!0===e.hasZ&&(t.z+=n.z*i),!0===e.hasM&&(t.m+=n.m*i),a+=i}}return a>0?(t.x/=a,t.y/=a,!0===e.hasZ&&(t.z/=a),!0===e.hasM&&(t.m/=a),new r.Z(t)):o>0?(n.x/=o,n.y/=o,!0===e.hasZ&&(t.z/=o),!0===e.hasM&&(n.m/=o),new r.Z(n)):null}function m(e){if(0===e.points.length)return null;let n=0,t=0,o=0,a=0;for(let r=0;r<e.points.length;r++){const i=e.getPoint(r);!0===i.hasZ&&(o+=i.z),!0===i.hasM&&(a+=i.m),n+=i.x,t+=i.y,a+=i.m}const i={x:n/e.points.length,y:t/e.points.length,spatialReference:null};return i.spatialReference=e.spatialReference.toJSON(),!0===e.hasZ&&(i.z=o/e.points.length),!0===e.hasM&&(i.m=a/e.points.length),new r.Z(i)}function g(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(;e<t;)e+=n;const r=t+n;for(;e>=r;)e-=n;return e}function w(e,n){return Math.atan2(n.y-e.y,n.x-e.x)}function y(e,n){return g(w(e,n),2*Math.PI)*(180/Math.PI)}function E(e,n){return g(Math.PI/2-w(e,n),2*Math.PI)*(180/Math.PI)}function v(e,n,t){const r={x:e.x-n.x,y:e.y-n.y},o={x:t.x-n.x,y:t.y-n.y};return Math.atan2(function(e,n){return e.x*n.y-n.x*e.y}(r,o),function(e,n){return e.x*n.x+e.y*n.y}(r,o))}function b(e,n,t){return g(v(e,n,t),2*Math.PI)*(180/Math.PI)}function I(e,n,t){return g(-1*v(e,n,t),2*Math.PI)*(180/Math.PI)}s[9002]=.3048,s[9003]=.3048006096012192,s[9095]=.3048007491;const N=[0,0];function S(e){for(let n=0;n<e.length;n++){const t=e[n];for(let a=0;a<t.length-1;a++){const r=t[a],i=t[a+1];for(let t=n+1;t<e.length;t++)for(let n=0;n<e[t].length-1;n++){const a=e[t][n],s=e[t][n+1];if((0,o.UT)(r,i,a,s,N)&&!(N[0]===r[0]&&N[1]===r[1]||N[0]===a[0]&&N[1]===a[1]||N[0]===i[0]&&N[1]===i[1]||N[0]===s[0]&&N[1]===s[1]))return!0}}const r=t.length;if(!(r<3))for(let e=0;e<=r-2;e++){const n=t[e],a=t[e+1];for(let i=e+2;i<=r-2;i++){const e=t[i],r=t[i+1];if((0,o.UT)(n,a,e,r,N)&&!(N[0]===n[0]&&N[1]===n[1]||N[0]===e[0]&&N[1]===e[1]||N[0]===a[0]&&N[1]===a[1]||N[0]===r[0]&&N[1]===r[1]))return!0}}}return!1}},97512:(e,n,t)=>{t.d(n,{r:()=>p});var r=t(44715),o=t(36257),a=t(73700);function i(e){const n=new Date(e.getTime()),t=n.getFullYear(),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const o=s(r),a=new Date(0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const i=s(a);return n.getTime()>=o.getTime()?t+1:n.getTime()>=i.getTime()?t:t-1}function s(e){const n=new Date(e.getTime()),t=n.getDay(),r=(t<1?7:0)+t-1;return n.setDate(n.getDate()-r),n.setHours(0,0,0,0),n}function l(e,n,t){return e+(function(e){return e%4==0&&(e%100!=0||e%400==0)}(t)?u:c)[n]}const c=[0,31,59,90,120,151,181,212,243,273,304,334],u=[0,31,60,91,121,152,182,213,244,274,305,335];function f(e){return null===e?e:isNaN(e.getTime())?null:e}function p(e,n){e.today=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,0,0);const o=new Date;return o.setHours(0,0,0,0),o}))},e.now=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,0,0),new Date}))},e.timestamp=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,0,0);let o=new Date;return o=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),o}))},e.toutc=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?null:new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds())}))},e.tolocal=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?null:a.ou.utc(o.getFullYear(),o.getMonth()+1,o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).toJSDate()}))},e.day=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getDate()}))},e.month=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getMonth()}))},e.year=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getFullYear()}))},e.hour=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getHours()}))},e.second=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getSeconds()}))},e.millisecond=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getMilliseconds()}))},e.minute=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getMinutes()}))},e.week=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,2);const o=(0,r.k)(t[0]);if(null===o)return NaN;const a=(0,r.f)((0,r.C)(t[1],0));if(a<0||a>6)throw new Error("Invalid Parameter");const i=o.getDate(),s=o.getMonth(),c=o.getFullYear(),u=o.getDay(),f=l(i,s,c)-1,p=Math.floor(f/7);return u-a+(u-a<0?7:0)<f-7*p?p+1:p}))},e.weekday=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getDay()}))},e.isoweekday=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);if(null===o)return NaN;let a=o.getDay();return 0===a&&(a=7),a}))},e.isomonth=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:o.getMonth()+1}))},e.isoweek=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);if(null===o)return NaN;const a=s(o).getTime()-function(e){const n=i(e),t=new Date(0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),s(t)}(o).getTime();return Math.round(a/6048e5)+1}))},e.isoyear=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=(0,r.k)(t[0]);return null===o?NaN:i(o)}))},e.date=function(e,t){return n(e,t,(function(e,n,t){if((0,r.p)(t,0,7),3===t.length)return f(new Date((0,r.f)(t[0]),(0,r.f)(t[1]),(0,r.f)(t[2]),0,0,0,0));if(4===t.length)return f(new Date((0,r.f)(t[0]),(0,r.f)(t[1]),(0,r.f)(t[2]),(0,r.f)(t[3]),0,0,0));if(5===t.length)return f(new Date((0,r.f)(t[0]),(0,r.f)(t[1]),(0,r.f)(t[2]),(0,r.f)(t[3]),(0,r.f)(t[4]),0,0));if(6===t.length)return f(new Date((0,r.f)(t[0]),(0,r.f)(t[1]),(0,r.f)(t[2]),(0,r.f)(t[3]),(0,r.f)(t[4]),(0,r.f)(t[5]),0));if(7===t.length)return f(new Date((0,r.f)(t[0]),(0,r.f)(t[1]),(0,r.f)(t[2]),(0,r.f)(t[3]),(0,r.f)(t[4]),(0,r.f)(t[5]),(0,r.f)(t[6])));if(2===t.length){let e,n=(0,r.h)(t[1]);return""===n?null:(n=(0,r.D)(n),e="X"===n?a.ou.fromSeconds((0,r.f)(t[0])):"x"===n?a.ou.fromMillis((0,r.f)(t[0])):a.ou.fromFormat((0,r.h)(t[0]),n,{locale:(0,o.Kd)(),numberingSystem:"latn"}),e.isValid?e.toJSDate():null)}if(1===t.length){if((0,r.b)(t[0])){if(""===t[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(t[0]))return(0,r.k)(t[0]+"-01-01")}const e=(0,r.f)(t[0]);return!1===isNaN(e)?f(new Date(e)):(0,r.k)(t[0])}return 0===t.length?new Date:void 0}))},e.datediff=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,2,3);const o=(0,r.E)(t[0]),a=(0,r.E)(t[1]);if(null===o||null===a)return NaN;switch((0,r.h)(t[2]).toLowerCase()){case"days":case"day":case"d":return o.diff(a,"days").days;case"months":case"month":return o.diff(a,"months").months;case"minutes":case"minute":case"m":return"M"===t[2]?o.diff(a,"months").months:o.diff(a,"minutes").minutes;case"seconds":case"second":case"s":return o.diff(a,"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return o.diff(a).milliseconds;case"hours":case"hour":case"h":return o.diff(a,"hours").hours;case"years":case"year":case"y":return o.diff(a,"years").years}}))},e.dateadd=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,2,3);const o=(0,r.E)(t[0]);if(null===o)return null;let a=(0,r.f)(t[1]);if(isNaN(a))return o.toJSDate();let i="milliseconds";switch((0,r.h)(t[2]).toLowerCase()){case"days":case"day":case"d":i="days",a=(0,r.F)(a);break;case"months":case"month":i="months",a=(0,r.F)(a);break;case"minutes":case"minute":case"m":i="M"===t[2]?"months":"minutes";break;case"seconds":case"second":case"s":i="seconds";break;case"milliseconds":case"millisecond":case"ms":i="milliseconds";break;case"hours":case"hour":case"h":i="hours";break;case"years":case"year":case"y":i="years"}return o.plus({[i]:a}).toJSDate()}))}}},93106:(e,n,t)=>{t.d(n,{t:()=>l});var r=t(44715);function o(e){let n=0;for(let t=0;t<e.length;t++)n+=e[t];return n/e.length}function a(e){const n=o(e);let t=0;for(let r=0;r<e.length;r++)t+=(n-e[r])**2;return t/e.length}function i(e){let n=0;for(let t=0;t<e.length;t++)n+=e[t];return n}function s(e,n){const t=[],o={},a=[];for(let i=0;i<e.length;i++){if(void 0!==e[i]&&null!==e[i]&&e[i]!==r.v){const n=e[i];if((0,r.a)(n)||(0,r.b)(n))void 0===o[n]&&(t.push(n),o[n]=1);else{let e=!1;for(let t=0;t<a.length;t++)!0===(0,r.m)(a[t],n)&&(e=!0);!1===e&&(a.push(n),t.push(n))}}if(t.length>=n&&-1!==n)return t}return t}function l(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;switch(e.toLowerCase()){case"distinct":return s(n,t);case"avg":case"mean":return o((0,r.W)(n));case"min":return Math.min.apply(Math,(0,r.W)(n));case"sum":return i((0,r.W)(n));case"max":return Math.max.apply(Math,(0,r.W)(n));case"stdev":case"stddev":return Math.sqrt(a((0,r.W)(n)));case"var":case"variance":return a((0,r.W)(n));case"count":return n.length}return 0}},12271:(e,n,t)=>{t.d(n,{r:()=>w});var r=t(62357),o=t(5431),a=t(23606),i=t(44715),s=t(53866),l=t(32238),c=t(77577),u=t(7882),f=t(80885),p=t(29909),h=t(95435),d=t(77981),m=t(69662);function g(e){return e&&"esri.arcade.Feature"===e.arcadeDeclaredClass}function w(e,n){e.ringisclockwise=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,1,1);let r=[],o=!1,s=!1;if(null===t[0])return!1;if((0,i.l)(t[0])){for(const e of t[0]){if(!(e instanceof u.Z))throw new Error("Invalid Argument");r.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])}r.length>0&&(o=t[0][0].hasZ,s=t[0][0].hasM)}else if(t[0]instanceof a.Z)r=t[0]._elements,r.length>0&&(o=t[0]._hasZ,s=t[0]._hasM);else{if(!(0,i.n)(t[0]))throw new Error("Invalid Argument");for(const e of t[0].toArray()){if(!(e instanceof u.Z))throw new Error("Invalid Argument");r.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])}r.length>0&&(o=t[0].get(0).hasZ,s=t[0].get(0).hasM)}return!(r.length<3)&&(0,m.bu)(r,s,o)}))},e.polygon=function(e,t){return n(e,t,(function(n,t,a){(0,i.p)(a,1,1);let s=null;if(a[0]instanceof r.Z){if(s=(0,i.A)(o.Z.parseGeometryFromDictionary(a[0]),e.spatialReference),s instanceof f.Z==0)throw new Error("Illegal Parameter")}else s=a[0]instanceof f.Z?(0,d.im)(a[0].toJSON()):(0,i.A)(new f.Z(JSON.parse(a[0])),e.spatialReference);if(null!==s&&!1===s.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,i.G)(s)}))},e.polyline=function(e,t){return n(e,t,(function(n,t,a){(0,i.p)(a,1,1);let s=null;if(a[0]instanceof r.Z){if(s=(0,i.A)(o.Z.parseGeometryFromDictionary(a[0]),e.spatialReference),s instanceof p.Z==0)throw new Error("Illegal Parameter")}else s=a[0]instanceof p.Z?(0,d.im)(a[0].toJSON()):(0,i.A)(new p.Z(JSON.parse(a[0])),e.spatialReference);if(null!==s&&!1===s.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,i.G)(s)}))},e.point=function(e,t){return n(e,t,(function(n,t,a){(0,i.p)(a,1,1);let s=null;if(a[0]instanceof r.Z){if(s=(0,i.A)(o.Z.parseGeometryFromDictionary(a[0]),e.spatialReference),s instanceof u.Z==0)throw new Error("Illegal Parameter")}else s=a[0]instanceof u.Z?(0,d.im)(a[0].toJSON()):(0,i.A)(new u.Z(JSON.parse(a[0])),e.spatialReference);if(null!==s&&!1===s.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,i.G)(s)}))},e.multipoint=function(e,t){return n(e,t,(function(n,t,a){(0,i.p)(a,1,1);let s=null;if(a[0]instanceof r.Z){if(s=(0,i.A)(o.Z.parseGeometryFromDictionary(a[0]),e.spatialReference),s instanceof c.Z==0)throw new Error("Illegal Parameter")}else s=a[0]instanceof c.Z?(0,d.im)(a[0].toJSON()):(0,i.A)(new c.Z(JSON.parse(a[0])),e.spatialReference);if(null!==s&&!1===s.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,i.G)(s)}))},e.extent=function(e,t){return n(e,t,(function(n,t,a){a=(0,i.H)(a),(0,i.p)(a,1,1);let l=null;if(a[0]instanceof r.Z)l=(0,i.A)(o.Z.parseGeometryFromDictionary(a[0]),e.spatialReference);else if(a[0]instanceof u.Z){const e={xmin:a[0].x,ymin:a[0].y,xmax:a[0].x,ymax:a[0].y,spatialReference:a[0].spatialReference.toJSON()},n=a[0];n.hasZ?(e.zmin=n.z,e.zmax=n.z):n.hasM&&(e.mmin=n.m,e.mmax=n.m),l=(0,d.im)(e)}else l=a[0]instanceof f.Z||a[0]instanceof p.Z||a[0]instanceof c.Z?(0,d.im)(a[0].extent.toJSON()):a[0]instanceof s.Z?(0,d.im)(a[0].toJSON()):(0,i.A)(new s.Z(JSON.parse(a[0])),e.spatialReference);if(null!==l&&!1===l.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,i.G)(l)}))},e.geometry=function(e,t){return n(e,t,(function(n,t,a){(0,i.p)(a,1,1);let s=null;if(null===a[0])return null;if(s=g(a[0])?(0,i.A)(a[0].geometry(),e.spatialReference):a[0]instanceof r.Z?(0,i.A)(o.Z.parseGeometryFromDictionary(a[0]),e.spatialReference):(0,i.A)((0,d.im)(JSON.parse(a[0])),e.spatialReference),null!==s&&!1===s.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,i.G)(s)}))},e.setgeometry=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,2,2),!g(t[0]))throw new Error("Illegal Argument");if(!0===t[0].immutable)throw new Error("Feature is Immutable");if(!(t[1]instanceof l.Z||null===t[1]))throw new Error("Illegal Argument");return t[0]._geometry=t[1],i.v}))},e.feature=function(e,t){return n(e,t,(function(n,t,a){if(0===a.length)throw new Error("Missing Parameters");let s=null;if(1===a.length)if((0,i.b)(a[0]))s=o.Z.fromJson(JSON.parse(a[0]));else if(g(a[0]))s=o.Z.createFromArcadeFeature(a[0]);else if(a[0]instanceof l.Z)s=o.Z.createFromGraphicLikeObject(a[0],null,null);else{if(!(a[0]instanceof r.Z))throw new Error("Illegal Argument");{let e=a[0].hasField("geometry")?a[0].field("geometry"):null,n=a[0].hasField("attributes")?a[0].field("attributes"):null;null!==e&&e instanceof r.Z&&(e=o.Z.parseGeometryFromDictionary(e)),null!==n&&(n=o.Z.parseAttributesFromDictionary(n)),s=o.Z.createFromGraphicLikeObject(e,n,null)}}else if(2===a.length){let e=null,n=null;if(null!==a[0])if(a[0]instanceof l.Z)e=a[0];else{if(!(e instanceof r.Z))throw new Error("Illegal Argument");e=o.Z.parseGeometryFromDictionary(a[0])}if(null!==a[1]){if(!(a[1]instanceof r.Z))throw new Error("Illegal Argument");n=o.Z.parseAttributesFromDictionary(a[1])}s=o.Z.createFromGraphicLikeObject(e,n,null)}else{let e=null;const n={};if(null!==a[0])if(a[0]instanceof l.Z)e=a[0];else{if(!(e instanceof r.Z))throw new Error("Illegal Argument");e=o.Z.parseGeometryFromDictionary(a[0])}for(let t=1;t<a.length;t+=2){const e=(0,i.h)(a[t]),r=a[t+1];if(!(null==r||(0,i.b)(r)||isNaN(r)||(0,i.j)(r)||(0,i.a)(r)||(0,i.i)(r)))throw new Error("Illegal Argument");if((0,i.o)(r)||!1===(0,i.e)(r))throw new Error("Illegal Argument");n[e]=r===i.v?null:r}s=o.Z.createFromGraphicLikeObject(e,n,null)}return s._geometry=(0,i.A)(s.geometry(),e.spatialReference),s.immutable=!1,s}))},e.dictionary=function(e,t){return n(e,t,(function(e,n,t){if(0===t.length){const e=new r.Z;return e.immutable=!1,e}if(1===t.length&&(0,i.b)(t[0]))try{const e=JSON.parse(t[0]),n=r.Z.convertObjectToArcadeDictionary(e,!1);return n.immutable=!1,n}catch(s){throw new Error("Missing Parameters or Illegal Json")}if(t.length%2!=0)throw new Error("Missing Parameters");const o={};for(let r=0;r<t.length;r+=2){const e=(0,i.h)(t[r]),n=t[r+1];if(!(null==n||(0,i.b)(n)||isNaN(n)||(0,i.j)(n)||(0,i.a)(n)||(0,i.i)(n)||(0,i.l)(n)||(0,i.n)(n)))throw new Error("Illegal Argument");if((0,i.o)(n))throw new Error("Illegal Argument");o[e]=n===i.v?null:n}const a=new r.Z(o);return a.immutable=!1,a}))},e.haskey=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,2,2);const o=(0,i.h)(t[1]);if(g(t[0]))return t[0].hasField(o);if(t[0]instanceof r.Z)return t[0].hasField(o);throw new Error("Illegal Argument")}))},e.indexof=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,2,2);const r=t[1];if((0,i.l)(t[0])){for(let e=0;e<t[0].length;e++)if((0,i.m)(r,t[0][e]))return e;return-1}if((0,i.n)(t[0])){const e=t[0].length();for(let n=0;n<e;n++)if((0,i.m)(r,t[0].get(n)))return n;return-1}throw new Error("Illegal Argument")}))},e.angle=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,i.H)(t),(0,i.p)(t,2,3),!(t[0]instanceof u.Z))throw new Error("Illegal Argument");if(!(t[1]instanceof u.Z))throw new Error("Illegal Argument");if(t.length>2&&!(t[2]instanceof u.Z))throw new Error("Illegal Argument");return 2===t.length?(0,h.RI)(t[0],t[1]):(0,h.ws)(t[0],t[1],t[2])}))},e.bearing=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,i.H)(t),(0,i.p)(t,2,3),!(t[0]instanceof u.Z))throw new Error("Illegal Argument");if(!(t[1]instanceof u.Z))throw new Error("Illegal Argument");if(t.length>2&&!(t[2]instanceof u.Z))throw new Error("Illegal Argument");return 2===t.length?(0,h.B9)(t[0],t[1]):(0,h.Es)(t[0],t[1],t[2])}))},e.isselfintersecting=function(e,t){return n(e,t,(function(n,t,r){r=(0,i.H)(r),(0,i.p)(r,1,1);let o=r[0];if(o instanceof f.Z)return o.isSelfIntersecting;if(o instanceof p.Z)return o=o.paths,(0,h.nB)(o);if(o instanceof c.Z){const e=o.points;for(let n=0;n<e.length;n++)for(let t=0;t<e.length;t++)if(t!==n){let r=!0;for(let o=0;o<e[n].length;o++)if(e[n][o]!==e[t][o]){r=!1;break}if(!0===r)return!0}}return!(!(0,i.l)(o)&&!(0,i.n)(o))&&(o=(0,i.J)(o,e.spatialReference),null!==o&&(o=o.paths),(0,h.nB)(o))}))}}},72568:(e,n,t)=>{t.r(n),t.d(n,{registerFunctions:()=>E,setGeometryEngine:()=>w});var r=t(19545),o=t(47238),a=t(44715),i=t(95435),s=t(53866),l=t(32238),c=t(77577),u=t(7882),f=t(80885),p=t(29909),h=t(77981),d=t(68860);let m=null;function g(e){return 0===r.i8.indexOf("4.")?f.Z.fromExtent(e):new f.Z({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}function w(e){m=e}function y(e,n){if("polygon"!==e.type&&"polyline"!==e.type&&"extent"!==e.type)return 0;let t=1;(e.spatialReference.vcsWkid||e.spatialReference.latestVcsWkid)&&(t=(0,i._R)(e.spatialReference)/(0,d.c9)(e.spatialReference));let r=0;if("polyline"===e.type)for(const a of e.paths)for(let e=1;e<a.length;e++)r+=(0,i.AW)(a[e],a[e-1],t);else if("polygon"===e.type)for(const a of e.rings){for(let e=1;e<a.length;e++)r+=(0,i.AW)(a[e],a[e-1],t);(a[0][0]!==a[a.length-1][0]||a[0][1]!==a[a.length-1][1]||void 0!==a[0][2]&&a[0][2]!==a[a.length-1][2])&&(r+=(0,i.AW)(a[0],a[a.length-1],t))}else"extent"===e.type&&(r+=2*(0,i.AW)([e.xmin,e.ymin,0],[e.xmax,e.ymin,0],t),r+=2*(0,i.AW)([e.xmin,e.ymin,0],[e.xmin,e.ymax,0],t),r*=2,r+=4*Math.abs((0,a.C)(e.zmax,0)*t-(0,a.C)(e.zmin,0)*t));const o=new p.Z({hasZ:!1,hasM:!1,spatialReference:e.spatialReference,paths:[[0,0],[0,r]]});return m.planarLength(o,n)}function E(e,n){function t(e){if((0,a.p)(e,2,2),e[0]instanceof l.Z&&e[1]instanceof l.Z);else if(e[0]instanceof l.Z&&null===e[1]);else if(e[1]instanceof l.Z&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new Error("Illegal Argument")}e.disjoint=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null===r[0]||null===r[1]||m.disjoint(r[0],r[1])}))},e.intersects=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null!==r[0]&&null!==r[1]&&m.intersects(r[0],r[1])}))},e.touches=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null!==r[0]&&null!==r[1]&&m.touches(r[0],r[1])}))},e.crosses=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null!==r[0]&&null!==r[1]&&m.crosses(r[0],r[1])}))},e.within=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null!==r[0]&&null!==r[1]&&m.within(r[0],r[1])}))},e.contains=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null!==r[0]&&null!==r[1]&&m.contains(r[0],r[1])}))},e.overlaps=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null!==r[0]&&null!==r[1]&&m.overlaps(r[0],r[1])}))},e.equals=function(e,t){return n(e,t,(function(e,n,t){return(0,a.p)(t,2,2),t[0]===t[1]||(t[0]instanceof l.Z&&t[1]instanceof l.Z?m.equals(t[0],t[1]):!(!(0,a.j)(t[0])||!(0,a.j)(t[1]))&&t[0].getTime()===t[1].getTime())}))},e.relate=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,3,3),t[0]instanceof l.Z&&t[1]instanceof l.Z)return m.relate(t[0],t[1],(0,a.h)(t[2]));if(t[0]instanceof l.Z&&null===t[1])return!1;if(t[1]instanceof l.Z&&null===t[0])return!1;if(null===t[0]&&null===t[1])return!1;throw new Error("Illegal Argument")}))},e.intersection=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null===r[0]||null===r[1]?null:m.intersect(r[0],r[1])}))},e.union=function(e,t){return n(e,t,(function(n,t,r){const i=[];if(0===(r=(0,a.H)(r)).length)throw new Error("Function called with wrong number of Parameters");if(1===r.length)if((0,a.l)(r[0])){const e=(0,a.H)(r[0]);for(let n=0;n<e.length;n++)if(null!==e[n]){if(!(e[n]instanceof l.Z))throw new Error("Illegal Argument");i.push(e[n])}}else{if(!(0,a.n)(r[0])){if(r[0]instanceof l.Z)return(0,a.A)((0,o.r1)(r[0]),e.spatialReference);if(null===r[0])return null;throw new Error("Illegal Argument")}{const e=(0,a.H)(r[0].toArray());for(let n=0;n<e.length;n++)if(null!==e[n]){if(!(e[n]instanceof l.Z))throw new Error("Illegal Argument");i.push(e[n])}}}else for(let e=0;e<r.length;e++)if(null!==r[e]){if(!(r[e]instanceof l.Z))throw new Error("Illegal Argument");i.push(r[e])}return 0===i.length?null:m.union(i)}))},e.difference=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null!==r[0]&&null===r[1]?(0,o.r1)(r[0]):null===r[0]?null:m.difference(r[0],r[1])}))},e.symmetricdifference=function(e,r){return n(e,r,(function(e,n,r){return t(r=(0,a.H)(r)),null===r[0]&&null===r[1]?null:null===r[0]?(0,o.r1)(r[1]):null===r[1]?(0,o.r1)(r[0]):m.symmetricDifference(r[0],r[1])}))},e.clip=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,2),!(t[1]instanceof s.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return null;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");return null===t[1]?null:m.clip(t[0],t[1])}))},e.cut=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,2),!(t[1]instanceof p.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return[];if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");return null===t[1]?[(0,o.r1)(t[0])]:m.cut(t[0],t[1])}))},e.area=function(e,t){return n(e,t,(function(n,t,r){if((0,a.p)(r,1,2),null===(r=(0,a.H)(r))[0])return 0;if((0,a.l)(r[0])||(0,a.n)(r[0])){const n=(0,a.K)(r[0],e.spatialReference);return null===n?0:m.planarArea(n,(0,o.EI)((0,a.C)(r[1],-1)))}if(!(r[0]instanceof l.Z))throw new Error("Illegal Argument");return m.planarArea(r[0],(0,o.EI)((0,a.C)(r[1],-1)))}))},e.areageodetic=function(e,t){return n(e,t,(function(n,t,r){if((0,a.p)(r,1,2),null===(r=(0,a.H)(r))[0])return 0;if((0,a.l)(r[0])||(0,a.n)(r[0])){const n=(0,a.K)(r[0],e.spatialReference);return null===n?0:m.geodesicArea(n,(0,o.EI)((0,a.C)(r[1],-1)))}if(!(r[0]instanceof l.Z))throw new Error("Illegal Argument");return m.geodesicArea(r[0],(0,o.EI)((0,a.C)(r[1],-1)))}))},e.length=function(e,t){return n(e,t,(function(n,t,r){if((0,a.p)(r,1,2),null===(r=(0,a.H)(r))[0])return 0;if((0,a.l)(r[0])||(0,a.n)(r[0])){const n=(0,a.J)(r[0],e.spatialReference);return null===n?0:m.planarLength(n,(0,o.Lz)((0,a.C)(r[1],-1)))}if(!(r[0]instanceof l.Z))throw new Error("Illegal Argument");return m.planarLength(r[0],(0,o.Lz)((0,a.C)(r[1],-1)))}))},e.length3d=function(e,t){return n(e,t,(function(n,t,r){if((0,a.p)(r,1,2),null===(r=(0,a.H)(r))[0])return 0;if((0,a.l)(r[0])||(0,a.n)(r[0])){const n=(0,a.J)(r[0],e.spatialReference);return null===n?0:!0===n.hasZ?y(n,(0,o.Lz)((0,a.C)(r[1],-1))):m.planarLength(n,(0,o.Lz)((0,a.C)(r[1],-1)))}if(!(r[0]instanceof l.Z))throw new Error("Illegal Argument");return!0===r[0].hasZ?y(r[0],(0,o.Lz)((0,a.C)(r[1],-1))):m.planarLength(r[0],(0,o.Lz)((0,a.C)(r[1],-1)))}))},e.lengthgeodetic=function(e,t){return n(e,t,(function(n,t,r){if((0,a.p)(r,1,2),null===(r=(0,a.H)(r))[0])return 0;if((0,a.l)(r[0])||(0,a.n)(r[0])){const n=(0,a.J)(r[0],e.spatialReference);return null===n?0:m.geodesicLength(n,(0,o.Lz)((0,a.C)(r[1],-1)))}if(!(r[0]instanceof l.Z))throw new Error("Illegal Argument");return m.geodesicLength(r[0],(0,o.Lz)((0,a.C)(r[1],-1)))}))},e.distance=function(e,t){return n(e,t,(function(n,t,r){r=(0,a.H)(r),(0,a.p)(r,2,3);let i=r[0];((0,a.l)(r[0])||(0,a.n)(r[0]))&&(i=(0,a.L)(r[0],e.spatialReference));let s=r[1];if(((0,a.l)(r[1])||(0,a.n)(r[1]))&&(s=(0,a.L)(r[1],e.spatialReference)),!(i instanceof l.Z))throw new Error("Illegal Argument");if(!(s instanceof l.Z))throw new Error("Illegal Argument");return m.distance(i,s,(0,o.Lz)((0,a.C)(r[2],-1)))}))},e.distancegeodetic=function(e,t){return n(e,t,(function(e,n,t){t=(0,a.H)(t),(0,a.p)(t,2,3);const r=t[0],i=t[1];if(!(r instanceof u.Z))throw new Error("Illegal Argument");if(!(i instanceof u.Z))throw new Error("Illegal Argument");const s=new p.Z({paths:[],spatialReference:r.spatialReference});return s.addPath([r,i]),m.geodesicLength(s,(0,o.Lz)((0,a.C)(t[2],-1)))}))},e.densify=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");const r=(0,a.f)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof f.Z||t[0]instanceof p.Z?m.densify(t[0],r,(0,o.Lz)((0,a.C)(t[2],-1))):t[0]instanceof s.Z?m.densify(g(t[0]),r,(0,o.Lz)((0,a.C)(t[2],-1))):t[0]}))},e.densifygeodetic=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");const r=(0,a.f)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof f.Z||t[0]instanceof p.Z?m.geodesicDensify(t[0],r,(0,o.Lz)((0,a.C)(t[2],-1))):t[0]instanceof s.Z?m.geodesicDensify(g(t[0]),r,(0,o.Lz)((0,a.C)(t[2],-1))):t[0]}))},e.generalize=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,4),null===t[0])return null;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");const r=(0,a.f)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return m.generalize(t[0],r,(0,a.g)((0,a.C)(t[2],!0)),(0,o.Lz)((0,a.C)(t[3],-1)))}))},e.buffer=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");const r=(0,a.f)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,o.r1)(t[0]):m.buffer(t[0],r,(0,o.Lz)((0,a.C)(t[2],-1)))}))},e.buffergeodetic=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");const r=(0,a.f)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,o.r1)(t[0]):m.geodesicBuffer(t[0],r,(0,o.Lz)((0,a.C)(t[2],-1)))}))},e.offset=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,2,6),null===t[0])return null;if(!(t[0]instanceof f.Z||t[0]instanceof p.Z))throw new Error("Illegal Argument");const r=(0,a.f)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");const i=(0,a.f)((0,a.C)(t[4],10));if(isNaN(i))throw new Error("Illegal Argument");const s=(0,a.f)((0,a.C)(t[5],0));if(isNaN(s))throw new Error("Illegal Argument");return m.offset(t[0],r,(0,o.Lz)((0,a.C)(t[2],-1)),(0,a.h)((0,a.C)(t[3],"round")).toLowerCase(),i,s)}))},e.rotate=function(e,t){return n(e,t,(function(e,n,t){t=(0,a.H)(t),(0,a.p)(t,2,3);let r=t[0];if(null===r)return null;if(!(r instanceof l.Z))throw new Error("Illegal Argument");r instanceof s.Z&&(r=f.Z.fromExtent(r));const o=(0,a.f)(t[1]);if(isNaN(o))throw new Error("Illegal Argument");const i=(0,a.C)(t[2],null);if(null===i)return m.rotate(r,o);if(i instanceof u.Z)return m.rotate(r,o,i);throw new Error("Illegal Argument")}))},e.centroid=function(e,t){return n(e,t,(function(n,t,r){if(r=(0,a.H)(r),(0,a.p)(r,1,1),null===r[0])return null;let h=r[0];if(((0,a.l)(r[0])||(0,a.n)(r[0]))&&(h=(0,a.L)(r[0],e.spatialReference)),null===h)return null;if(!(h instanceof l.Z))throw new Error("Illegal Argument");return h instanceof u.Z?(0,a.A)((0,o.r1)(r[0]),e.spatialReference):h instanceof f.Z?h.centroid:h instanceof p.Z?(0,i.s9)(h):h instanceof c.Z?(0,i.Ay)(h):h instanceof s.Z?h.center:null}))},e.multiparttosinglepart=function(e,t){return n(e,t,(function(n,t,r){r=(0,a.H)(r),(0,a.p)(r,1,1);const i=[];if(null===r[0])return null;if(!(r[0]instanceof l.Z))throw new Error("Illegal Argument");if(r[0]instanceof u.Z)return[(0,a.A)((0,o.r1)(r[0]),e.spatialReference)];if(r[0]instanceof s.Z)return[(0,a.A)((0,o.r1)(r[0]),e.spatialReference)];const d=m.simplify(r[0]);if(d instanceof f.Z){const e=[],n=[];for(let t=0;t<d.rings.length;t++)if(d.isClockwise(d.rings[t])){const n=(0,h.im)({rings:[d.rings[t]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});e.push(n)}else n.push({ring:d.rings[t],pt:d.getPoint(t,0)});for(let t=0;t<n.length;t++)for(let r=0;r<e.length;r++)if(e[r].contains(n[t].pt)){e[r].addRing(n[t].ring);break}return e}if(d instanceof p.Z){const e=[];for(let n=0;n<d.paths.length;n++){const t=(0,h.im)({paths:[d.paths[n]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});e.push(t)}return e}if(r[0]instanceof c.Z){const n=(0,a.A)((0,o.r1)(r[0]),e.spatialReference);for(let e=0;e<n.points.length;e++)i.push(n.getPoint(e));return i}return null}))},e.issimple=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,1,1),null===t[0])return!0;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");return m.isSimple(t[0])}))},e.simplify=function(e,t){return n(e,t,(function(e,n,t){if(t=(0,a.H)(t),(0,a.p)(t,1,1),null===t[0])return null;if(!(t[0]instanceof l.Z))throw new Error("Illegal Argument");return m.simplify(t[0])}))}}},85265:(e,n,t)=>{t.d(n,{r:()=>i});var r=t(44715),o=t(29616);function a(e,n,t){return void 0===t||0==+t?Math[e](n):(n=+n,t=+t,isNaN(n)||"number"!=typeof t||t%1!=0?NaN:(n=n.toString().split("e"),+((n=(n=Math[e](+(n[0]+"e"+(n[1]?+n[1]-t:-t)))).toString().split("e"))[0]+"e"+(n[1]?+n[1]+t:t))))}function i(e,n){function t(e,n,t){const o=(0,r.f)(e);return isNaN(o)?o:isNaN(n)||isNaN(t)||n>t?NaN:o<n?n:o>t?t:o}e.number=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,2);const a=t[0];if((0,r.a)(a))return a;if(null===a)return 0;if((0,r.j)(a))return Number(a);if((0,r.i)(a))return Number(a);if((0,r.l)(a))return NaN;if(""===a)return Number(a);if(void 0===a)return Number(a);if((0,r.b)(a)){if(void 0!==t[1]){let e=(0,r.M)(t[1],"\u2030","");return e=(0,r.M)(e,"\xa4",""),(0,o.Qc)(a,{pattern:e})}return Number(a.trim())}return Number(a)}))},e.abs=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.abs((0,r.f)(t[0]))}))},e.acos=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.acos((0,r.f)(t[0]))}))},e.asin=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.asin((0,r.f)(t[0]))}))},e.atan=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.atan((0,r.f)(t[0]))}))},e.atan2=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,2,2),Math.atan2((0,r.f)(t[0]),(0,r.f)(t[1]))}))},e.ceil=function(e,t){return n(e,t,(function(e,n,t){if((0,r.p)(t,1,2),2===t.length){let e=(0,r.f)(t[1]);return isNaN(e)&&(e=0),a("ceil",(0,r.f)(t[0]),-1*e)}return Math.ceil((0,r.f)(t[0]))}))},e.round=function(e,t){return n(e,t,(function(e,n,t){if((0,r.p)(t,1,2),2===t.length){let e=(0,r.f)(t[1]);return isNaN(e)&&(e=0),a("round",(0,r.f)(t[0]),-1*e)}return Math.round((0,r.f)(t[0]))}))},e.floor=function(e,t){return n(e,t,(function(e,n,t){if((0,r.p)(t,1,2),2===t.length){let e=(0,r.f)(t[1]);return isNaN(e)&&(e=0),a("floor",(0,r.f)(t[0]),-1*e)}return Math.floor((0,r.f)(t[0]))}))},e.cos=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.cos((0,r.f)(t[0]))}))},e.isnan=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),"number"==typeof t[0]&&isNaN(t[0])}))},e.exp=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.exp((0,r.f)(t[0]))}))},e.log=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.log((0,r.f)(t[0]))}))},e.pow=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,2,2),(0,r.f)(t[0])**(0,r.f)(t[1])}))},e.random=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,0,0),Math.random()}))},e.sin=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.sin((0,r.f)(t[0]))}))},e.sqrt=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.sqrt((0,r.f)(t[0]))}))},e.tan=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),Math.tan((0,r.f)(t[0]))}))},e.defaultvalue=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,2,2),null===t[0]||""===t[0]||void 0===t[0]?t[1]:t[0]}))},e.isempty=function(e,t){return n(e,t,(function(e,n,t){return(0,r.p)(t,1,1),null===t[0]||""===t[0]||void 0===t[0]}))},e.boolean=function(e,t){return n(e,t,(function(e,n,t){(0,r.p)(t,1,1);const o=t[0];return(0,r.g)(o)}))},e.constrain=function(e,o){return n(e,o,(function(e,n,o){(0,r.p)(o,3,3);const a=(0,r.f)(o[1]),i=(0,r.f)(o[2]);if((0,r.l)(o[0])){const e=[];for(const n of o[0])e.push(t(n,a,i));return e}if((0,r.n)(o[0])){const e=[];for(let n=0;n<o[0].length();n++)e.push(t(o[0].get(n),a,i));return e}return t(o[0],a,i)}))}}},82197:(e,n,t)=>{t.d(n,{r:()=>i});var r=t(44715),o=t(93106);function a(e,n,t,a){if(1===a.length){if((0,r.l)(a[0]))return(0,o.t)(e,a[0],-1);if((0,r.n)(a[0]))return(0,o.t)(e,a[0].toArray(),-1)}return(0,o.t)(e,a,-1)}function i(e,n){e.stdev=function(e,t){return n(e,t,(function(e,n,t){return a("stdev",0,0,t)}))},e.variance=function(e,t){return n(e,t,(function(e,n,t){return a("variance",0,0,t)}))},e.average=function(e,t){return n(e,t,(function(e,n,t){return a("mean",0,0,t)}))},e.mean=function(e,t){return n(e,t,(function(e,n,t){return a("mean",0,0,t)}))},e.sum=function(e,t){return n(e,t,(function(e,n,t){return a("sum",0,0,t)}))},e.min=function(e,t){return n(e,t,(function(e,n,t){return a("min",0,0,t)}))},e.max=function(e,t){return n(e,t,(function(e,n,t){return a("max",0,0,t)}))},e.distinct=function(e,t){return n(e,t,(function(e,n,t){return a("distinct",0,0,t)}))},e.count=function(e,t){return n(e,t,(function(e,n,t){if((0,r.p)(t,1,1),(0,r.l)(t[0])||(0,r.b)(t[0]))return t[0].length;if((0,r.n)(t[0]))return t[0].length();throw new Error("Invalid Parameters for Count")}))}}},63425:(e,n,t)=>{t.d(n,{r:()=>de});var r=t(72741),o=t(19191),a=t(62357),i=t(44715),s=t(29876);const l=e=>(n,t,r)=>(r=r||14,+e(n,t).toFixed(r)),c=(e,n)=>e+n,u=(e,n)=>e*n,f=(e,n)=>e/n,p=(e,n,t)=>l(c)(e,n,t),h=(e,n,t)=>l(u)(e,n,t),d=(e,n,t)=>l(f)(e,n,t),m=360,g=2*Math.PI,w=3600,y=60,E=180*w/Math.PI,v=60*m*y,b=90*w,I=180*w,N=String.fromCharCode(7501),S="\xb0";function A(e){if(!1===(0,i.b)(e))throw new Error("Invalid Parameter");return e}function x(e,n){const t=10**n;return Math.round(e*t)/t}function R(e){const n=parseFloat(e.toString().replace(Math.trunc(e).toString(),"0"))*Math.sign(e);return e<0?{fraction:n,integer:Math.ceil(e)}:{fraction:n,integer:Math.floor(e)}}var M,_,T,F;function C(e,n){switch(e){case M.north:return"SHORT"===n?"N":"North";case M.east:return"SHORT"===n?"E":"East";case M.south:return"SHORT"===n?"S":"South";case M.west:return"SHORT"===n?"W":"West"}}function O(e,n,t){for(;e.length<t;)e=n+e;return e}function Z(e,n){return e-Math.floor(e/n)*n}function U(e){switch(e){case _.truncated_degrees:case _.decimal_degrees:return m;case _.radians:return g;case _.gradians:return 400;case _.seconds:return v;case _.fractional_degree_minutes:return 60;case _.fractional_minute_seconds:return y;default:throw new Error("Unnexpected evaluations")}}function D(e){switch(e.toUpperCase().trim()){case"NORTH":case"NORTHAZIMUTH":case"NORTH AZIMUTH":return T.north_azimuth;case"POLAR":return T.polar;case"QUADRANT":return T.quadrant;case"SOUTH":case"SOUTHAZIMUTH":case"SOUTH AZIMUTH":return T.south_azimuth}throw new Error("Unsupported direction type")}function P(e){switch(e.toUpperCase().trim()){case"D":case"DD":case"DECIMALDEGREE":case"DECIMAL DEGREE":case"DEGREE":case"DECIMALDEGREES":case"DECIMAL DEGREES":case"DEGREES":return _.decimal_degrees;case"DMS":case"DEGREESMINUTESSECONDS":case"DEGREES MINUTES SECONDS":return _.degrees_minutes_seconds;case"R":case"RAD":case"RADS":case"RADIAN":case"RADIANS":return _.radians;case"G":case"GON":case"GONS":case"GRAD":case"GRADS":case"GRADIAN":case"GRADIANS":return _.gradians}throw new Error("Unsupported units")}!function(e){e[e.north=0]="north",e[e.east=1]="east",e[e.south=2]="south",e[e.west=3]="west"}(M||(M={})),function(e){e[e.decimal_degrees=1]="decimal_degrees",e[e.seconds=2]="seconds",e[e.degrees_minutes_seconds=3]="degrees_minutes_seconds",e[e.radians=4]="radians",e[e.gradians=5]="gradians",e[e.truncated_degrees=6]="truncated_degrees",e[e.fractional_degree_minutes=7]="fractional_degree_minutes",e[e.fractional_minute_seconds=8]="fractional_minute_seconds"}(_||(_={})),function(e){e[e.north_azimuth=1]="north_azimuth",e[e.polar=2]="polar",e[e.quadrant=3]="quadrant",e[e.south_azimuth=4]="south_azimuth"}(T||(T={})),function(e){e[e.meridian=0]="meridian",e[e.direction=1]="direction"}(F||(F={}));class k{constructor(e,n,t){this.m_degrees=e,this.m_minutes=n,this.m_seconds=t}getField(e){switch(e){case _.decimal_degrees:case _.truncated_degrees:return this.m_degrees;case _.fractional_degree_minutes:return this.m_minutes;case _.seconds:case _.fractional_minute_seconds:return this.m_seconds;default:throw new Error("Unnexpected evaluation")}}static secondsToDMS(e){const n=R(e).fraction;let t=R(e).integer;const r=Math.floor(t/w);t-=r*w;const o=Math.floor(t/y);return t-=o*y,new k(r,o,t+n)}static numberToDms(e){const n=R(e).fraction,t=R(e).integer,r=h(R(100*n).fraction,100),o=R(100*n).integer;return new k(t,o,r)}format(e,n){let t=x(this.m_seconds,n),r=this.m_minutes,o=this.m_degrees;if(e===_.seconds||e===_.fractional_minute_seconds)y<=t&&(t-=y,++r),60<=r&&(r=0,++o),m<=o&&(o=0);else if(e===_.fractional_degree_minutes)t=0,r=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,o=this.m_degrees,60<=r&&(r=0,++o),m<=o&&(o=0);else if(e===_.decimal_degrees||e===_.truncated_degrees){const e=d(this.m_seconds,w),n=d(this.m_minutes,60);o=Math.round(this.m_degrees+n+e),r=0,t=0}return new k(o,r,t)}static dmsToSeconds(e,n,t){return e*w+n*y+t}}class H{constructor(e,n,t){this.meridian=e,this.angle=n,this.direction=t}fetchAzimuth(e){return e===F.meridian?this.meridian:this.direction}}class L{constructor(e){this.m_angle=e}static createFromAngleAndDirection(e,n){return new L(new G(L._convertDirectionFormat(e.extractAngularUnits(_.seconds),n,T.north_azimuth)))}getAngle(e){const n=this.m_angle.extractAngularUnits(_.seconds);switch(e){case T.north_azimuth:case T.south_azimuth:case T.polar:return new G(L._convertDirectionFormat(n,T.north_azimuth,e));case T.quadrant:{const e=L.secondsNorthAzimuthToQuadrant(n);return new G(e.angle)}}}getMeridian(e){const n=this.m_angle.extractAngularUnits(_.seconds);switch(e){case T.north_azimuth:return M.north;case T.south_azimuth:return M.south;case T.polar:return M.east;case T.quadrant:return L.secondsNorthAzimuthToQuadrant(n).meridian}}getDirection(e){const n=this.m_angle.extractAngularUnits(_.seconds);switch(e){case T.north_azimuth:return M.east;case T.south_azimuth:return M.west;case T.polar:return M.north;case T.quadrant:return L.secondsNorthAzimuthToQuadrant(n).direction}}static secondsNorthAzimuthToQuadrant(e){const n=e<=b||e>=972e3?M.north:M.south,t=n===M.north?Math.min(v-e,e):Math.abs(e-I),r=e>I?M.west:M.east;return new H(n,t,r)}static createFromAngleMeridianAndDirection(e,n,t){return new L(new G(L.secondsQuadrantToNorthAzimuth(e.extractAngularUnits(_.seconds),n,t)))}static secondsQuadrantToNorthAzimuth(e,n,t){return n===M.north?t===M.east?e:v-e:t===M.east?I-e:I+e}static _convertDirectionFormat(e,n,t){let r=0;switch(n){case T.north_azimuth:r=e;break;case T.polar:r=b-e;break;case T.quadrant:throw new Error("Unnexpected evaluation");case T.south_azimuth:r=e+I}let o=0;switch(t){case T.north_azimuth:o=r;break;case T.polar:o=b-r;break;case T.quadrant:throw new Error("Unnexpected evaluation");case T.south_azimuth:o=r-I}return o=function(e,n){return e%n}(o,v),o<0?v+o:o}}function z(e,n,t){let r=null;switch(n){case _.decimal_degrees:r=h(e,w);break;case _.seconds:r=e;break;case _.gradians:r=h(e,3240);break;case _.radians:r=h(e,E);break;default:throw new Error("Unnexpected evaluation")}switch(t){case _.decimal_degrees:return d(r,w);case _.seconds:return r;case _.gradians:return d(r,3240);case _.radians:return r/E;default:throw new Error("Unnexpected evaluation")}}class G{constructor(e){this.m_seconds=e}static createFromAngleAndUnits(e,n){return new G(z(e,n,_.seconds))}extractAngularUnits(e){return z(this.m_seconds,_.seconds,q(e))}static createFromDegreesMinutesSeconds(e,n,t){return new G(p(p(h(e,w),h(n,y)),t))}}function q(e){switch(e){case _.decimal_degrees:case _.truncated_degrees:case _.degrees_minutes_seconds:return _.decimal_degrees;case _.gradians:return _.gradians;case _.fractional_degree_minutes:return _.fractional_degree_minutes;case _.radians:return _.radians;case _.seconds:case _.fractional_minute_seconds:return _.seconds}}class j{constructor(e,n,t,r){this.m_view=e,this.m_angle=n,this.m_merdian=t,this.m_direction=r,this.m_dms=null,this.m_formatted_dms=null}static createFromStringAndBearing(e,n,t){return new j(e,n.getAngle(t),n.getMeridian(t),n.getDirection(t))}fetchAngle(){return this.m_angle}fetchMeridian(){return this.m_merdian}fetchDirection(){return this.m_direction}fetchView(){return this.m_view}fetchDms(){return null===this.m_dms&&this._calculateDms(),this.m_dms}fetchFormattedDms(){return null===this.m_formatted_dms&&this._calculateDms(),this.m_formatted_dms}_calculateDms(){let e=null,n=_.truncated_degrees,t=0;for(let r=0;r<this.m_view.length;r++){const o=this.m_view[r];switch(o){case"m":e=Q(this.m_view,r,o),n=n===_.truncated_degrees?_.fractional_degree_minutes:n,r=e.newpos;continue;case"s":e=Q(this.m_view,r,o),n=_.fractional_minute_seconds,t=t<e.rounding?e.rounding:t,r=e.newpos;continue;default:continue}}this.m_dms=k.secondsToDMS(this.m_angle.extractAngularUnits(_.seconds)),this.m_formatted_dms=k.secondsToDMS(this.m_angle.extractAngularUnits(_.seconds)).format(n,t)}}function V(e,n,t,r,o){let a=null;switch(n){case _.decimal_degrees:case _.radians:case _.gradians:return a=Z(x(e.extractAngularUnits(n),r),U(n)),O(a.toFixed(r),"0",t+r+(r>0?1:0));case _.truncated_degrees:case _.fractional_degree_minutes:return a=Z(o.fetchFormattedDms().getField(n),U(n)),O(a.toFixed(r),"0",t+r+(r>0?1:0));case _.fractional_minute_seconds:return a=Z(x(o.fetchDms().getField(n),r),U(n)),O(a.toFixed(r),"0",t+r+(r>0?1:0));default:throw new Error("Unnexepected evaluation")}}function B(e){switch(e.toUpperCase().trim()){case"N":case"NORTH":return M.north;case"E":case"EAST":return M.east;case"S":case"SOUTH":return M.south;case"W":case"WEST":return M.west}return null}function Y(e){const n=parseFloat(e);if((0,i.a)(n)){if(isNaN(n))throw new Error("Invalid conversion");return n}throw new Error("Invalid conversion")}function J(e,n,t){const r=t===T.quadrant;let o=null,a=null,s=0,l=0,c=0;if(r){if(e.length<2)throw new Error("Conversion Error");c=1;const n=function(e){switch((0,i.f)(e)){case 1:return{first:M.north,second:M.east};case 2:return{first:M.south,second:M.east};case 3:return{first:M.south,second:M.west};case 4:return{first:M.north,second:M.west}}return null}((0,i.h)(e[e.length-1]));if(n?(o=n.first,a=n.second):(s=1,o=B((0,i.h)(e[0])),a=B((0,i.h)(e[e.length-1]))),null===o||null===a)throw new Error("Invalid Conversion")}switch(n){case _.decimal_degrees:case _.radians:case _.gradians:if(0===e.length)throw new Error("Invalid Conversion");return r?L.createFromAngleMeridianAndDirection(G.createFromAngleAndUnits(Y(e[s]),q(n)),o,a):L.createFromAngleAndDirection(G.createFromAngleAndUnits(Y(e[s]),q(n)),t);case _.degrees_minutes_seconds:if(l=e.length-c-s,3===l){const n=G.createFromDegreesMinutesSeconds(Y(e[s]),Y(e[s+1]),Y(e[s+2]));return r?L.createFromAngleMeridianAndDirection(n,o,a):L.createFromAngleAndDirection(n,t)}if(1===l){const n=Y(e[s]),i=k.numberToDms(n),l=G.createFromDegreesMinutesSeconds(i.m_degrees,i.m_minutes,i.m_seconds);return r?L.createFromAngleMeridianAndDirection(l,o,a):L.createFromAngleAndDirection(l,t)}}throw new Error("Conversion Error")}function W(e,n,t){if((0,i.a)(e))return function(e,n,t){if(t===T.quadrant)throw new Error("Conversion error");if(n===_.degrees_minutes_seconds){const n=k.numberToDms(e);return L.createFromAngleAndDirection(G.createFromDegreesMinutesSeconds(n.m_degrees,n.m_minutes,n.m_seconds),t)}return L.createFromAngleAndDirection(G.createFromAngleAndUnits(e,q(n)),t)}((0,i.f)(e),n,t);if((0,i.b)(e))return J(function(e){const n=[" ","-","/","'",'"',"\\","^",S,N,"\t","\r","\n","*"];let t="";for(let r=0;r<e.length;r++){const o=e.charAt(r);n.includes(o)?t+="RRSPLITRRSPLITRR":t+=o}return t.split("RRSPLITRRSPLITRR").filter((e=>""!==e))}(e),n,t);if((0,i.l)(e))return J(e,n,t);if((0,i.n)(e))return J(e.toArray(),n,t);throw new Error("Conversion Error")}function Q(e,n,t){const r={padding:0,rounding:0,newpos:n};let o=!1;for(;n<e.length;){const a=e[n];if(a===t)o?r.rounding++:r.padding++,n++;else{if("."!==a)break;o=!0,n++}}return r.newpos=n-1,r}function $(e,n,t){const r={escaped:"",newpos:n};for(n++;n<e.length;){const t=e[n];if(n++,"]"===t)break;r.escaped+=t}return r.newpos=n-1,r}function K(e,n,t){if(!(n instanceof a.Z))throw new Error("Invalid Parameter");if(!1===n.hasField("directionType"))throw new Error("Invalid Parameter - Missing directionType");if(!1===n.hasField("angleType"))throw new Error("Invalid Parameter - Missing directionType");const r=D(A(n.field("directiontype"))),o=W(e,P(A(n.field("angletype"))),r);if(!(t instanceof a.Z))throw new Error("Invalid Parameter");if(!1===t.hasField("directionType"))throw new Error("Invalid Parameter - Missing directionType");if(!1===t.hasField("outputType"))throw new Error("Invalid Parameter - Missing directionType");const s=D(A(t.field("directiontype"))),l=t.hasField("angleType")?P(A(t.field("angletype"))):null,c=A(t.field("outputType")).toUpperCase().trim();if(!s||!c)throw new Error("Conversion error");if(!(l||"TEXT"===c&&t.hasField("format")))throw new Error("Invalid unit");switch(c){case"VALUE":return s===T.quadrant||l===_.degrees_minutes_seconds?function(e,n,t){const r=e.getAngle(n);if(n===T.quadrant&&t===_.degrees_minutes_seconds){const t=k.secondsToDMS(r.extractAngularUnits(_.seconds));return[C(e.getMeridian(n),"SHORT"),t.m_degrees,t.m_minutes,t.m_seconds,C(e.getDirection(n),"SHORT")]}if(t===_.degrees_minutes_seconds){const e=k.secondsToDMS(r.extractAngularUnits(_.seconds));return[e.m_degrees,e.m_minutes,e.m_seconds]}return n===T.quadrant?[C(e.getMeridian(n),"SHORT"),r.extractAngularUnits(t),C(e.getDirection(n),"SHORT")]:[r.extractAngularUnits(t)]}(o,s,l):function(e,n,t){const r=q(t);if(r&&t!==_.degrees_minutes_seconds)return e.getAngle(n).extractAngularUnits(r);throw new Error("Conversion Error")}(o,s,l);case"TEXT":{let e="";return t.hasField("format")&&(e=(0,i.h)(t.field("format"))),null!==e&&""!==e||(e=function(e,n){let t="";switch(e){case _.decimal_degrees:t=n===T.quadrant?"DD.DD\xb0":"DDD.DD\xb0";break;case _.degrees_minutes_seconds:t=n===T.quadrant?"dd\xb0 mm' ss\"":"ddd\xb0 mm' ss.ss\"";break;case _.radians:t="R.RR";break;case _.gradians:t="GGG.GG"+N;break;default:throw new Error("Conversion error")}return n===T.quadrant&&(t="p "+t+" b"),t}(l,s)),function(e,n,t){let r="",o=null,a=null;const i=j.createFromStringAndBearing(n,e,t),s={D:_.decimal_degrees,d:_.truncated_degrees,m:_.fractional_degree_minutes,s:_.fractional_minute_seconds,R:_.radians,G:_.gradians};for(let l=0;l<n.length;l++){const c=n[l];switch(c){case"[":o=$(n,l),r+=o.escaped,l=o.newpos;continue;case"D":case"d":case"m":case"s":case"R":case"G":o=Q(n,l,c),a=e.getAngle(t),r+=V(a,s[c],o.padding,o.rounding,i),l=o.newpos;continue;case"P":case"p":r+=C(i.fetchMeridian(),"p"===c?"SHORT":"LONG");continue;case"B":case"b":r+=C(i.fetchDirection(),"b"===c?"SHORT":"LONG");continue;default:r+=c}}return r}(o,e,s)}default:throw new Error("Invalid Parameter")}}const X=2654435761,ee=2246822519,ne=3266489917,te=668265263,re=374761393;function oe(e){const n=[];for(let t=0,r=e.length;t<r;t++){let r=e.charCodeAt(t);r<128?n.push(r):r<2048?n.push(192|r>>6,128|63&r):r<55296||r>=57344?n.push(224|r>>12,128|r>>6&63,128|63&r):(t++,r=65536+((1023&r)<<10|1023&e.charCodeAt(t)),n.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return new Uint8Array(n)}class ae{constructor(e){this.seed=e,this.totallen=0,this.bufs=[],this.init()}init(){return this.bufs=[],this.totallen=0,this}updateFloatArray(e){const n=[];for(const t of e)isNaN(t)?n.push("NaN"):t===1/0?n.push("Infinity"):t===-1/0?n.push("-Infinity"):0===t?n.push("0"):n.push(t.toString(16));this.update(oe(n.join("")))}updateIntArray(e){const n=Int32Array.from(e);this.update(new Uint8Array(n.buffer))}updateUint8Array(e){this.update(Uint8Array.from(e))}updateWithString(e){return this.update(oe(e))}update(e){return this.bufs.push(e),this.totallen+=e.length,this}digest(){const e=new Uint8Array(this.totallen);let n=0;for(const t of this.bufs)e.set(t,n),n+=t.length;return this.init(),this._xxHash32(e,this.seed)}_xxHash32(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const t=e;let r=n+re&4294967295,o=0;if(t.length>=16){const t=[n+X+ee&4294967295,n+ee&4294967295,n+0&4294967295,n-X&4294967295],a=e,i=a.length-16;let s=0;for(o=0;(4294967280&o)<=i;o+=4){const e=o,n=a[e+0]+(a[e+1]<<8),r=a[e+2]+(a[e+3]<<8),i=n*ee+(r*ee<<16);let l=t[s]+i&4294967295;l=l<<13|l>>>19;const c=65535&l,u=l>>>16;t[s]=c*X+(u*X<<16)&4294967295,s=s+1&3}r=(t[0]<<1|t[0]>>>31)+(t[1]<<7|t[1]>>>25)+(t[2]<<12|t[2]>>>20)+(t[3]<<18|t[3]>>>14)&4294967295}r=r+e.length&4294967295;const a=e.length-4;for(;o<=a;o+=4){const e=o,n=t[e+0]+(t[e+1]<<8),a=t[e+2]+(t[e+3]<<8);r=r+(n*ne+(a*ne<<16))&4294967295,r=r<<17|r>>>15,r=(65535&r)*te+((r>>>16)*te<<16)&4294967295}for(;o<t.length;++o)r+=t[o]*re,r=r<<11|r>>>21,r=(65535&r)*X+((r>>>16)*X<<16)&4294967295;return r^=r>>>15,r=((65535&r)*ee&4294967295)+((r>>>16)*ee<<16),r^=r>>>13,r=((65535&r)*ne&4294967295)+((r>>>16)*ne<<16),r^=r>>>16,r<0?r+4294967296:r}}var ie=t(53866),se=t(77577),le=t(7882),ce=t(80885),ue=t(29909),fe=t(78952);function pe(e,n){if(e.x===n.x&&e.y===n.y){if(e.hasZ){if(e.z!==n.z)return!1}else if(n.hasZ)return!1;if(e.hasM){if(e.m!==n.m)return!1}else if(n.hasM)return!1;return!0}return!1}function he(e,n,t){if(null!==e)if((0,i.l)(e)){if(n.updateUint8Array([61]),t.map.has(e)){const r=t.map.get(e);n.updateIntArray([61237541^r])}else{t.map.set(e,t.currentLength++);for(const r of e)he(r,n,t);t.map.delete(e),t.currentLength--}n.updateUint8Array([199])}else if((0,i.n)(e)){if(n.updateUint8Array([61]),t.map.has(e)){const r=t.map.get(e);n.updateIntArray([61237541^r])}else{t.map.set(e,t.currentLength++);for(const r of e.toArray())he(r,n,t);t.map.delete(e),t.currentLength--}n.updateUint8Array([199])}else{if((0,i.j)(e))return n.updateIntArray([e.getTime()]),void n.updateUint8Array([241]);if((0,i.b)(e))return n.updateIntArray([e.length]),n.updateWithString(e),void n.updateUint8Array([41]);if((0,i.i)(e))n.updateUint8Array([!0===e?1:0,113]);else{if((0,i.a)(e))return n.updateFloatArray([e]),void n.updateUint8Array([173]);if(e instanceof o.Z)throw new Error("Type not supported in Hash");if(e instanceof r.Z)throw new Error("Type not supported in Hash");if(!(e instanceof a.Z)){if((0,i.s)(e))throw new Error("Type not supported in Hash");if(e instanceof le.Z)return n.updateIntArray([3833836621]),n.updateIntArray([0]),n.updateFloatArray([e.x]),n.updateIntArray([1]),n.updateFloatArray([e.y]),e.hasZ&&(n.updateIntArray([2]),n.updateFloatArray([e.z])),e.hasM&&(n.updateIntArray([3]),n.updateFloatArray([e.m])),n.updateIntArray([3765347959]),void he(e.spatialReference.wkid,n,t);if(e instanceof ce.Z){n.updateIntArray([1266616829]);for(let r=0;r<e.rings.length;r++){const o=e.rings[r],a=[];let i=null,s=null;for(let n=0;n<o.length;n++){const t=e.getPoint(r,n);if(0===n)i=t;else if(pe(s,t))continue;s=t,n===o.length-1&&pe(i,t)||a.push(t)}n.updateIntArray([1397116793,a.length]);for(let e=0;e<a.length;e++){const r=a[e];n.updateIntArray([3962308117,e]),he(r,n,t),n.updateIntArray([2716288009])}n.updateIntArray([2278822459])}return n.updateIntArray([3878477243]),void he(e.spatialReference.wkid,n,t)}if(e instanceof ue.Z){n.updateIntArray([4106883559]);for(let r=0;r<e.paths.length;r++){const o=e.paths[r];n.updateIntArray([1397116793,o.length]);for(let a=0;a<o.length;a++)n.updateIntArray([3962308117,a]),he(e.getPoint(r,a),n,t),n.updateIntArray([2716288009]);n.updateIntArray([2278822459])}return n.updateIntArray([2568784753]),void he(e.spatialReference.wkid,n,t)}if(e instanceof se.Z){n.updateIntArray([588535921,e.points.length]);for(let r=0;r<e.points.length;r++){const o=e.getPoint(r);n.updateIntArray([r]),he(o,n,t)}return n.updateIntArray([1700171621]),void he(e.spatialReference.wkid,n,t)}if(e instanceof ie.Z)return n.updateIntArray([3483648373]),n.updateIntArray([0]),n.updateFloatArray([e.xmax]),n.updateIntArray([1]),n.updateFloatArray([e.xmin]),n.updateIntArray([2]),n.updateFloatArray([e.ymax]),n.updateIntArray([3]),n.updateFloatArray([e.ymin]),e.hasZ&&(n.updateIntArray([4]),n.updateFloatArray([e.zmax]),n.updateIntArray([5]),n.updateFloatArray([e.zmin])),e.hasM&&(n.updateIntArray([6]),n.updateFloatArray([e.mmax]),n.updateIntArray([7]),n.updateFloatArray([e.mmin])),n.updateIntArray([3622027469]),void he(e.spatialReference.wkid,n,t);if(e instanceof fe.Z)return n.updateIntArray([14]),void 0!==e.wkid&&null!==e.wkid&&n.updateIntArray([e.wkid]),void(e.wkt&&n.updateWithString(e.wkt));if((0,i.o)(e))throw new Error("Type not supported in Hash");if((0,i.y)(e))throw new Error("Type not supported in Hash");if((0,i.z)(e))throw new Error("Type not supported in Hash");if(e===i.v)throw new Error("Type not supported in Hash");throw new Error("Type not supported in Hash")}if(n.updateUint8Array([223]),t.map.has(e)){const r=t.map.get(e);n.updateIntArray([61237541^r])}else{t.map.set(e,t.currentLength++);for(const r of e.keys())n.updateIntArray([r.length]),n.updateWithString(r),n.updateUint8Array([251]),he(e.field(r),n,t),n.updateUint8Array([239]);t.map.delete(e),t.currentLength--}n.updateUint8Array([73])}}else n.updateUint8Array([0,139])}function de(e,n){e.portal=function(e,t){return n(e,t,(function(e,n,t){return(0,i.p)(t,1,1),new r.Z((0,i.h)(t[0]))}))},e.trim=function(e,t){return n(e,t,(function(e,n,t){return(0,i.p)(t,1,1),(0,i.h)(t[0]).trim()}))},e.tohex=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,1,1);const r=(0,i.f)(t[0]);return isNaN(r)?r:r.toString(16)}))},e.upper=function(e,t){return n(e,t,(function(e,n,t){return(0,i.p)(t,1,1),(0,i.h)(t[0]).toUpperCase()}))},e.proper=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,1,2);let r=1;2===t.length&&"firstword"===(0,i.h)(t[1]).toLowerCase()&&(r=2);const o=/\s/,a=(0,i.h)(t[0]);let s="",l=!0;for(let i=0;i<a.length;i++){let e=a[i];o.test(e)?1===r&&(l=!0):e.toUpperCase()!==e.toLowerCase()&&(l?(e=e.toUpperCase(),l=!1):e=e.toLowerCase()),s+=e}return s}))},e.lower=function(e,t){return n(e,t,(function(e,n,t){return(0,i.p)(t,1,1),(0,i.h)(t[0]).toLowerCase()}))},e.guid=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,0,1),t.length>0)switch((0,i.h)(t[0]).toLowerCase()){case"digits":return(0,i.O)().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return(0,i.O)();case"digits-hyphen-braces":return"{"+(0,i.O)()+"}";case"digits-hyphen-parentheses":return"("+(0,i.O)()+")"}return"{"+(0,i.O)()+"}"}))},e.console=function(e,t){return n(e,t,(function(n,t,r){return 0===r.length||(1===r.length?e.console((0,i.h)(r[0])):e.console((0,i.h)(r))),i.v}))},e.mid=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,2,3);let r=(0,i.f)(t[1]);if(isNaN(r))return"";if(r<0&&(r=0),2===t.length)return(0,i.h)(t[0]).substr(r);let o=(0,i.f)(t[2]);return isNaN(o)?"":(o<0&&(o=0),(0,i.h)(t[0]).substr(r,o))}))},e.find=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,2,3);let r=0;if(t.length>2){if(r=(0,i.f)((0,i.C)(t[2],0)),isNaN(r))return-1;r<0&&(r=0)}return(0,i.h)(t[1]).indexOf((0,i.h)(t[0]),r)}))},e.left=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,2,2);let r=(0,i.f)(t[1]);return isNaN(r)?"":(r<0&&(r=0),(0,i.h)(t[0]).substr(0,r))}))},e.right=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,2,2);let r=(0,i.f)(t[1]);return isNaN(r)?"":(r<0&&(r=0),(0,i.h)(t[0]).substr(-1*r,r))}))},e.split=function(e,t){return n(e,t,(function(e,n,t){let r;(0,i.p)(t,2,4);let o=(0,i.f)((0,i.C)(t[2],-1));const a=(0,i.g)((0,i.C)(t[3],!1));if(-1===o||null===o||!0===a?r=(0,i.h)(t[0]).split((0,i.h)(t[1])):(isNaN(o)&&(o=-1),o<-1&&(o=-1),r=(0,i.h)(t[0]).split((0,i.h)(t[1]),o)),!1===a)return r;const s=[];for(let i=0;i<r.length&&!(-1!==o&&s.length>=o);i++)""!==r[i]&&void 0!==r[i]&&s.push(r[i]);return s}))},e.text=function(e,t){return n(e,t,(function(e,n,t){return(0,i.p)(t,1,2),(0,i.t)(t[0],t[1])}))},e.concatenate=function(e,t){return n(e,t,(function(e,n,t){const r=[];if(t.length<1)return"";if((0,i.l)(t[0])){const e=(0,i.C)(t[2],"");for(let n=0;n<t[0].length;n++)r[n]=(0,i.t)(t[0][n],e);return t.length>1?r.join(t[1]):r.join("")}if((0,i.n)(t[0])){const e=(0,i.C)(t[2],"");for(let n=0;n<t[0].length();n++)r[n]=(0,i.t)(t[0].get(n),e);return t.length>1?r.join(t[1]):r.join("")}for(let o=0;o<t.length;o++)r[o]=(0,i.t)(t[o]);return r.join("")}))},e.reverse=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,1,1),(0,i.l)(t[0])){const e=t[0].slice(0);return e.reverse(),e}if((0,i.n)(t[0])){const e=t[0].toArray().slice(0);return e.reverse(),e}throw new Error("Invalid Parameter")}))},e.replace=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,3,4);const r=(0,i.h)(t[0]),o=(0,i.h)(t[1]),a=(0,i.h)(t[2]);return 4!==t.length||(0,i.g)(t[3])?(0,i.M)(r,o,a):r.replace(o,a)}))},e.schema=function(e,t){return n(e,t,(function(e,n,t){if((0,i.s)(t[0])){const e=(0,i.P)(t[0]);return e?a.Z.convertObjectToArcadeDictionary(e):null}throw new Error("Invalid Parameter")}))},e.subtypes=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,1,1),(0,i.s)(t[0])){const e=(0,i.Q)(t[0]);return e?a.Z.convertObjectToArcadeDictionary(e):null}throw new Error("Invalid Parameter")}))},e.subtypecode=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,1,1),(0,i.s)(t[0])){const e=(0,i.Q)(t[0]);if(!e)return null;if(e.subtypeField&&t[0].hasField(e.subtypeField)){const n=t[0].field(e.subtypeField);for(const t of e.subtypes)if(t.code===n)return t.code;return null}return null}throw new Error("Invalid Parameter")}))},e.subtypename=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,1,1),(0,i.s)(t[0])){const e=(0,i.Q)(t[0]);if(!e)return"";if(e.subtypeField&&t[0].hasField(e.subtypeField)){const n=t[0].field(e.subtypeField);for(const t of e.subtypes)if(t.code===n)return t.name;return""}return""}throw new Error("Invalid Parameter")}))},e.gdbversion=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,1,1),(0,i.s)(t[0]))return t[0].gdbVersion();throw new Error("Invalid Parameter")}))},e.domain=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,2,3),(0,i.s)(t[0])){const e=(0,i.T)(t[0],(0,i.h)(t[1]),void 0===t[2]?void 0:(0,i.f)(t[2]));return e&&e.domain?"coded-value"===e.domain.type||"codedValue"===e.domain.type?a.Z.convertObjectToArcadeDictionary({type:"codedValue",name:e.domain.name,dataType:s.yE[e.field.type],codedValues:e.domain.codedValues.map((e=>({name:e.name,code:e.code})))}):a.Z.convertObjectToArcadeDictionary({type:"range",name:e.domain.name,dataType:s.yE[e.field.type],min:e.domain.min,max:e.domain.max}):null}throw new Error("Invalid Parameter")}))},e.domainname=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,2,4),(0,i.s)(t[0]))return(0,i.U)(t[0],(0,i.h)(t[1]),t[2],void 0===t[3]?void 0:(0,i.f)(t[3]));throw new Error("Invalid Parameter")}))},e.domaincode=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,2,4),(0,i.s)(t[0]))return(0,i.V)(t[0],(0,i.h)(t[1]),t[2],void 0===t[3]?void 0:(0,i.f)(t[3]));throw new Error("Invalid Parameter")}))},e.urlencode=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,1,1),null===t[0])return"";if(t[0]instanceof a.Z){let e="";for(const n of t[0].keys()){const r=t[0].field(n);""!==e&&(e+="&"),e+=null===r?encodeURIComponent(n)+"=":encodeURIComponent(n)+"="+encodeURIComponent(r)}return e}return encodeURIComponent((0,i.h)(t[0]))}))},e.hash=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,1,1);const r=new ae(0);return he(t[0],r,{map:new Map,currentLength:0}),r.digest()}))},e.convertdirection=function(e,t){return n(e,t,(function(e,n,t){return(0,i.p)(t,3,3),K(t[0],t[1],t[2])}))},e.fromjson=function(e,t){return n(e,t,(function(e,n,t){if((0,i.p)(t,1,1),!1===(0,i.b)(t[0]))throw new Error("Invalid Parameter");return a.Z.convertJsonToArcade(JSON.parse((0,i.h)(t[0])))}))},e.expects=function(e,t){return n(e,t,(function(e,n,t){if(t.length<1)throw new Error("Function called with wrong number of Parameters");return i.v}))},e.tocharcode=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,1,2);const r=(0,i.f)((0,i.C)(t[1],0)),o=(0,i.h)(t[0]);if(0===o.length&&1===t.length)return null;if(o.length<=r||r<0)throw new Error("Illegal argument");return o.charCodeAt(r)}))},e.tocodepoint=function(e,t){return n(e,t,(function(e,n,t){(0,i.p)(t,1,2);const r=(0,i.f)((0,i.C)(t[1],0)),o=(0,i.h)(t[0]);if(0===o.length&&1===t.length)return null;if(o.length<=r||r<0)throw new Error("Illegal argument");return o.codePointAt(r)}))},e.fromcharcode=function(e,t){return n(e,t,(function(e,n,t){if(t.length<1)throw new Error("Function called with wrong number of Parameters");const r=t.map((e=>Math.trunc((0,i.f)(e)))).filter((e=>e>=0&&e<=65535));return 0===r.length?null:String.fromCharCode.apply(null,r)}))},e.fromcodepoint=function(e,t){return n(e,t,(function(e,n,t){if(t.length<1)throw new Error("Function called with wrong number of Parameters");let r;try{r=t.map((e=>Math.trunc((0,i.f)(e)))).filter((e=>e<=1114111&&e>>>0===e))}catch(c){return null}return 0===r.length?null:String.fromCodePoint.apply(null,r)}))}}},47238:(e,n,t)=>{t.d(n,{EI:()=>o,Lz:()=>i,SV:()=>a,r1:()=>s});var r=t(53866);function o(e){if(void 0===e)return null;if("number"==typeof e)return e;let n=e.toLowerCase();switch(n=n.replace(/\s/g,""),n=n.replace(/-/g,""),n){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109413;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function a(e){if(null===e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new r.Z({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function i(e){if(void 0===e)return null;if("number"==typeof e)return e;let n=e.toLowerCase();switch(n=n.replace(/\s/g,""),n=n.replace(/-/g,""),n){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9035;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function s(e){if(null===e)return null;const n=e.clone();return void 0!==e.cache._geVersion&&(n.cache._geVersion=e.cache._geVersion),n}},44241:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(790),o=t(97246),a=t(44715),i=t(66978);const s=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:function(e){function n(n,t){if(t instanceof r.Z)return e.arcadeCustomFunctionHandler(t);if(t instanceof a.N)return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.fn(n,{preparsed:!0,arguments:r})};if(t instanceof a.S)return function(){if(arguments.length!==t.paramCount)throw new Error("Invalid parameters");return t.fn(...arguments)};throw new Error("Invalid Parameter")}function t(e){if(e instanceof o.Z)return e.toArray();if((0,a.l)(e))return e;throw new Error("Invalid Parameter")}e.functions.array=function(n,t){return e.standardFunction(n,t,(function(e,n,t){(0,a.p)(t,1,2);const r=(0,a.f)(t[0]);if(isNaN(r)||!1===(0,a.B)(r))throw new Error("Invalid Parameter");const o=(0,a.C)(t[1],null),i=new Array(r);return i.fill(o),i}))},e.functions.front=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,1,1),(0,a.n)(t[0])){if(t[0].length()<=0)throw new Error("Array is empty");return t[0].get(0)}if((0,a.l)(t[0])){if(t[0].length<=0)throw new Error("Array is empty");return t[0][0]}throw new Error("Invalid Parameter")}))},e.functions.back=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,1,1),(0,a.n)(t[0])){if(t[0].length()<=0)throw new Error("Array is empty");return t[0].get(t[0].length()-1)}if((0,a.l)(t[0])){if(t[0].length<=0)throw new Error("Array is empty");return t[0][t[0].length-1]}throw new Error("Invalid Parameter")}))},e.functions.push=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,1,2),(0,a.l)(t[0]))return t[0][t[0].length]=t[1],t[0].length;throw new Error("Invalid Parameter")}))},e.functions.pop=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,1,1),(0,a.l)(t[0])){if(t[0].length<=0)throw new Error("Array is empty");const e=t[0][t[0].length-1];return t[0].length=t[0].length-1,e}throw new Error("Invalid Parameter")}))},e.functions.erase=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,2,2),(0,a.l)(t[0])){let e=(0,a.f)(t[1]);if(isNaN(e)||!1===(0,a.B)(e))throw new Error("Invalid Parameter");const n=t[0];if(n.length<=0)throw new Error("Array is empty");if(e<0&&(e=n.length+e),e<0)throw new Error("Element not found");if(e>=n.length)throw new Error("Index is greater than array");return n.splice(e,1),a.v}throw new Error("Invalid Parameter")}))},e.functions.insert=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,3,3),(0,a.l)(t[0])){const e=(0,a.f)(t[1]);if(isNaN(e)||!1===(0,a.B)(e))throw new Error("Invalid Parameter");const n=t[2],r=t[0];if(e>r.length)throw new Error("Index is greater than array");if(e<0&&e<-1*r.length)throw new Error("Index is greater than array");return e===r.length?(r[e]=n,a.v):(r.splice(e,0,n),a.v)}throw new Error("Invalid Parameter")}))},e.functions.resize=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,2,3),(0,a.l)(t[0])){const e=(0,a.f)(t[1]);if(isNaN(e)||!1===(0,a.B)(e))throw new Error("Invalid Parameter");if(e<0)throw new Error("Size cannot be negative");const n=(0,a.C)(t[2],null),r=t[0];if(r.length>=e)return r.length=e,a.v;const o=r.length;r.length=e;for(let t=o;t<r.length;t++)r[t]=n;return a.v}throw new Error("Invalid Parameter")}))},e.functions.includes=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,2,2),(0,a.l)(t[0])){const e=t[1];return t[0].findIndex((n=>(0,a.m)(n,e)))>-1}if((0,a.n)(t[0])){const e=t[1];return t[0].toArray().findIndex((n=>(0,a.m)(n,e)))>-1}throw new Error("Invalid Parameter")}))},e.functions.slice=function(n,t){return e.standardFunction(n,t,(function(e,n,t){if((0,a.p)(t,1,3),(0,a.l)(t[0])){const e=(0,a.f)((0,a.C)(t[1],0)),n=(0,a.f)((0,a.C)(t[2],t[0].length));if(isNaN(e)||!1===(0,a.B)(e))throw new Error("Invalid Parameter");if(isNaN(n)||!1===(0,a.B)(n))throw new Error("Invalid Parameter");return t[0].slice(e,n)}if((0,a.n)(t[0])){const e=t[0],n=(0,a.f)((0,a.C)(t[1],0)),r=(0,a.f)((0,a.C)(t[2],e.length()));if(isNaN(n)||!1===(0,a.B)(n))throw new Error("Invalid Parameter");if(isNaN(r)||!1===(0,a.B)(r))throw new Error("Invalid Parameter");return e.toArray().slice(n,r)}throw new Error("Invalid Parameter")}))},e.functions.splice=function(n,t){return e.standardFunction(n,t,(function(e,n,t){const r=[];for(let o=0;o<t.length;o++)(0,a.l)(t[o])?r.push(...t[o]):(0,a.n)(t[o])?r.push(...t[o].toArray()):r.push(t[o]);return r}))},"sync"===e.mode&&(e.functions.any=function(r,o){return e.standardFunction(r,o,(function(e,o,i){(0,a.p)(i,2,2);const s=n(r,i[1]),l=t(i[0]);for(const n of l){const e=s(n);if((0,a.i)(e)&&!0===e)return!0}return!1}))},e.functions.all=function(r,o){return e.standardFunction(r,o,(function(e,o,i){(0,a.p)(i,2,2);const s=n(r,i[1]),l=t(i[0]);for(const n of l)if(!0!==s(n))return!1;return!0}))},e.functions.none=function(r,o){return e.standardFunction(r,o,(function(e,o,i){(0,a.p)(i,2,2);const s=n(r,i[1]),l=t(i[0]);for(const n of l)if(!0===s(n))return!1;return!0}))},e.functions.reduce=function(r,o){return e.standardFunction(r,o,(function(e,o,i){(0,a.p)(i,2,3);const s=n(r,i[1]),l=t(i[0]);return 2===i.length?0===l.length?null:l.reduce(((e,n)=>{const t=s(e,n);return void 0!==t&&t!==a.v?t:null})):l.reduce(((e,n)=>{const t=s(e,n);return void 0!==t&&t!==a.v?t:null}),i[2])}))},e.functions.map=function(r,o){return e.standardFunction(r,o,(function(e,o,i){(0,a.p)(i,2,2);const s=n(r,i[1]),l=t(i[0]),c=[];for(const n of l){const e=s(n);void 0!==e&&e!==a.v?c.push(e):c.push(null)}return c}))},e.functions.filter=function(r,o){return e.standardFunction(r,o,(function(e,o,i){(0,a.p)(i,2,2);const s=n(r,i[1]),l=t(i[0]),c=[];for(const n of l)!0===s(n)&&c.push(n);return c}))}),"async"===e.mode&&(e.functions.any=function(r,o){return e.standardFunctionAsync(r,o,(async function(e,o,s){(0,a.p)(s,2,2);const l=n(r,s[1]),c=t(s[0]);for(const n of c){const e=await l(n);let t=null;if(t=(0,i.y8)(t)?await e:e,(0,a.i)(t)&&!0===t)return!0}return!1}))},e.functions.all=function(r,o){return e.standardFunctionAsync(r,o,(async function(e,o,s){(0,a.p)(s,2,2);const l=n(r,s[1]),c=t(s[0]);for(const n of c){const e=await l(n);let t=null;if(t=(0,i.y8)(t)?await e:e,!0!==t)return!1}return!0}))},e.functions.none=function(r,o){return e.standardFunctionAsync(r,o,(async function(e,o,s){(0,a.p)(s,2,2);const l=n(r,s[1]),c=t(s[0]);for(const n of c){const e=await l(n);let t=null;if(t=(0,i.y8)(t)?await e:e,!0===t)return!1}return!0}))},e.functions.filter=function(r,o){return e.standardFunctionAsync(r,o,(async function(e,o,s){(0,a.p)(s,2,2);const l=n(r,s[1]),c=t(s[0]),u=[];for(const n of c){const e=await l(n);let t=null;t=(0,i.y8)(t)?await e:e,!0===t&&u.push(n)}return u}))},e.functions.reduce=function(r,o){return e.standardFunctionAsync(r,o,(function(e,o,i){(0,a.p)(i,2,3);const s=n(r,i[1]),l=t(i[0]);let c=null;if(i.length>2){const e=(0,a.C)(i[2],null);c=l.reduce((async(e,n)=>{let t=await e;return void 0!==t&&t!==a.v||(t=null),s(t,n)}),Promise.resolve(e))}else{if(0===l.length)return null;c=l.reduce((async(e,n,t)=>{if(t<=1)return s(e,n);let r=await e;return void 0!==r&&r!==a.v||(r=null),s(r,n)}))}return c.then((e=>void 0!==e&&e!==a.v?e:null))}))},e.functions.map=function(r,o){return e.standardFunctionAsync(r,o,(async function(e,o,s){(0,a.p)(s,2,2);const l=n(r,s[1]),c=t(s[0]),u=[];for(const n of c){const e=await l(n);let t=null;t=(0,i.y8)(t)?await e:e,void 0!==t&&t!==a.v?u.push(t):u.push(null)}return u}))})}},Symbol.toStringTag,{value:"Module"}))},22999:(e,n,t)=>{t.r(n),t.d(n,{Dictionary:()=>a.Z,arcade:()=>Qe,arcadeFeature:()=>i.Z,convertFeatureLayerToFeatureSet:()=>wn,convertMapToFeatureSetCollection:()=>yn,convertServiceUrlToWorkspace:()=>gn,createExecContext:()=>an,createFeature:()=>sn,createFunction:()=>on,createSyntaxTree:()=>rn,dependsOnView:()=>hn,enableFeatureSetOperations:()=>bn,enableGeometryOperations:()=>vn,evalSyntaxTree:()=>cn,executeAsyncFunction:()=>fn,executeFunction:()=>un,extractFieldNames:()=>pn,getArcadeType:()=>tn,getViewInfo:()=>mn,hasGeometryFunctions:()=>Sn,hasGeometryOperations:()=>xn,hasVariable:()=>dn,loadScriptDependencies:()=>En,updateExecContext:()=>ln});t(59486);var r=t(72741),o=t(19191),a=t(62357),i=t(5431),s=t(47488),l=t(23606),c=t(44715),u=t(28183),f=t(44241),p=t(97512),h=t(12271),d=t(72568),m=t(85265),g=t(82197),w=t(63425),y=t(66978),E=t(53866),v=t(32238),b=t(77577),I=t(7882),N=t(80885),S=t(29909),A=t(78952);function x(e,n,t){try{return t(e,null,n.arguments)}catch(r){throw r}}function R(e,n){try{switch(n.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function(e,n){let t=null===n.init?null:R(e,n.init);t===c.v&&(t=null);const r=n.id.name.toLowerCase();if(null!==e.localScope){if(void 0!==e.localScope[r])return"lscope['"+r+"']="+t+"; ";if(void 0!==e.localScope._SymbolsMap[r])return"lscope['"+e.localScope._SymbolsMap[r]+"']="+t+"; ";{const n=k(e);return e.localScope._SymbolsMap[r]=n,e.mangleMap[r]=n,"lscope['"+n+"']="+t+"; "}}if(void 0!==e.globalScope[r])return"gscope['"+r+"']="+t+"; ";if(void 0!==e.globalScope._SymbolsMap[r])return"gscope['"+e.globalScope._SymbolsMap[r]+"']="+t+"; ";{const n=k(e);return e.globalScope._SymbolsMap[r]=n,e.mangleMap[r]=n,"gscope['"+n+"']="+t+"; "}}(e,n);case"VariableDeclaration":return function(e,n){const t=[];for(let r=0;r<n.declarations.length;r++)t.push(R(e,n.declarations[r]));return t.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(e,n);case"BlockStatement":return _(e,n);case"FunctionDeclaration":return function(e,n){const t=n.id.name.toLowerCase(),r={isAsync:e.isAsync,spatialReference:e.spatialReference,console:e.console,lrucache:e.lrucache,interceptor:e.interceptor,services:e.services,symbols:e.symbols,mangleMap:e.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:e.depthCounter+1,globalScope:e.globalScope};if(r.depthCounter>64)throw new Error("Exceeded maximum function depth");let o="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";for(let a=0;a<n.params.length;a++){const t=n.params[a].name.toLowerCase(),i=k(e);r.localScope._SymbolsMap[t]=i,r.mangleMap[t]=i,o+="lscope['"+i+"']=arguments["+a.toString()+"];\n"}if(!0===e.isAsync?(o+="return lang.__awaiter(this, void 0, void 0, function* () {\n",o+=_(r,n.body)+"\n return lastStatement; ",o+="});  }",o+=", runtimeCtx),"+n.params.length+")",o+="\n lastStatement = lc.voidOperation; \n"):(o+=_(r,n.body)+"\n return lastStatement; }, runtimeCtx),"+n.params.length+")",o+="\n lastStatement = lc.voidOperation; \n"),void 0!==e.globalScope[t])return"gscope['"+t+"']="+o;if(void 0!==e.globalScope._SymbolsMap[t])return"gscope['"+e.globalScope._SymbolsMap[t]+"']="+o;{const n=k(e);return e.globalScope._SymbolsMap[t]=n,e.mangleMap[t]=n,"gscope['"+n+"']="+o}}(e,n);case"ReturnStatement":return function(e,n){return null===n.argument?"return lc.voidOperation":"return "+R(e,n.argument)}(e,n);case"IfStatement":return function(e,n){if("AssignmentExpression"===n.test.type||"UpdateExpression"===n.test.type)throw new Error((0,u.H5)(n.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const t=R(e,n.test),r=H(e);let o="var "+r+" = "+t+";\n if ("+r+" === true) {\n"+M(e,n.consequent)+"\n }\n";return null!==n.alternate?o+="else if ("+r+"===false)   { \n"+M(e,n.alternate)+"}\n":o+="else if ("+r+"===false) { \n lastStatement = lc.voidOperation;\n }\n",o+="else { lang.error({type: '"+n.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n",o}(e,n);case"ExpressionStatement":return function(e,n){return"AssignmentExpression"===n.expression.type?"lastStatement = lc.voidOperation; "+R(e,n.expression)+"; \n ":(n.expression.type,"lastStatement = "+R(e,n.expression)+"; ")}(e,n);case"AssignmentExpression":return function(e,n){const t=R(e,n.right);let r=null,o="";if("MemberExpression"===n.left.type)return r=R(e,n.left.object),o=!0===n.left.computed?R(e,n.left.property):"'"+n.left.property.name+"'","lang.assignmember("+r+","+o+",'"+n.operator+"',"+t+")";if(r=n.left.name.toLowerCase(),null!==e.localScope){if(void 0!==e.localScope[r])return"lscope['"+r+"']=lang.assign("+t+",'"+n.operator+"', lscope['"+r+"'])";if(void 0!==e.localScope._SymbolsMap[r])return"lscope['"+e.localScope._SymbolsMap[r]+"']=lang.assign("+t+",'"+n.operator+"', lscope['"+e.localScope._SymbolsMap[r]+"'])"}if(void 0!==e.globalScope[r])return"gscope['"+r+"']=lang.assign("+t+",'"+n.operator+"', gscope['"+r+"'])";if(void 0!==e.globalScope._SymbolsMap[r])return"gscope['"+e.globalScope._SymbolsMap[r]+"']=lang.assign("+t+",'"+n.operator+"', gscope['"+e.globalScope._SymbolsMap[r]+"'])";throw new Error("Variable not recognised")}(e,n);case"UpdateExpression":return function(e,n){let t=null,r="";if("MemberExpression"===n.argument.type)return t=R(e,n.argument.object),r=!0===n.argument.computed?R(e,n.argument.property):"'"+n.argument.property.name+"'","lang.memberupdate("+t+","+r+",'"+n.operator+"',"+n.prefix+")";if(t=n.argument.name.toLowerCase(),null!==e.localScope){if(void 0!==e.localScope[t])return"lang.update(lscope, '"+t+"','"+n.operator+"',"+n.prefix+")";if(void 0!==e.localScope._SymbolsMap[t])return"lang.update(lscope, '"+e.localScope._SymbolsMap[t]+"','"+n.operator+"',"+n.prefix+")"}if(void 0!==e.globalScope[t])return"lang.update(gscope, '"+t+"','"+n.operator+"',"+n.prefix+")";if(void 0!==e.globalScope._SymbolsMap[t])return"lang.update(gscope, '"+e.globalScope._SymbolsMap[t]+"','"+n.operator+"',"+n.prefix+")";throw new Error("Variable not recognised")}(e,n);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function(e,n){try{const t=[];let r=0;for(const o of n.quasis)t.push(o.value?JSON.stringify(o.value.cooked):JSON.stringify("")),!1===o.tail&&(t.push(n.expressions[r]?"lang.castString(lang.aCheck("+R(e,n.expressions[r])+", 'TemplateLiteral'))":""),r++);return"(["+t.join(",")+"]).join('')"}catch(t){throw t}}(e,n);case"TemplateElement":return JSON.stringify(n.value?n.value.cooked:"");case"ForStatement":return function(e,n){let t="lastStatement = lc.voidOperation; \n";null!==n.init&&(t+=R(e,n.init)+"; ");const r=H(e),o=H(e);return t+="var "+r+" = true; ",t+="\n do { ",null!==n.update&&(t+=" if ("+r+"===false) {\n "+R(e,n.update)+"  \n}\n "+r+"=false; \n"),null!==n.test&&(t+="var "+o+" = "+R(e,n.test)+"; ",t+="if ("+o+"===false) { break; } else if ("+o+"!==true) { lang.error({type: '"+n.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n"),t+=R(e,n.body),null!==n.update&&(t+="\n "+R(e,n.update)),t+="\n"+r+" = true; \n} while(true);  lastStatement = lc.voidOperation; ",t}(e,n);case"ForInStatement":return function(e,n){const t=H(e),r=H(e),o=H(e);let a="var "+t+" = "+R(e,n.right)+";\n";"VariableDeclaration"===n.left.type&&(a+=R(e,n.left));let i="VariableDeclaration"===n.left.type?n.left.declarations[0].id.name:n.left.name;i=i.toLowerCase();let s="";return null!==e.localScope&&(void 0!==e.localScope[i]?s="lscope['"+i+"']":void 0!==e.localScope._SymbolsMap[i]&&(s="lscope['"+e.localScope._SymbolsMap[i]+"']")),""===s&&(void 0!==e.globalScope[i]?s="gscope['"+i+"']":void 0!==e.globalScope._SymbolsMap[i]&&(s="gscope['"+e.globalScope._SymbolsMap[i]+"']")),a+="if ("+t+"===null) {  lastStatement = lc.voidOperation; }\n ",a+="else if (lc.isArray("+t+") || lc.isString("+t+")) {",a+="var "+r+"="+t+".length; \n",a+="for(var "+o+"=0; "+o+"<"+r+"; "+o+"++) {\n",a+=s+"="+o+";\n",a+=R(e,n.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",a+="else if (lc.isImmutableArray("+t+")) {",a+="var "+r+"="+t+".length(); \n",a+="for(var "+o+"=0; "+o+"<"+r+"; "+o+"++) {\n",a+=s+"="+o+";\n",a+=R(e,n.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",a+="else if (( "+t+" instanceof lang.Dictionary) || ( "+t+" instanceof lang.Feature)) {",a+="var "+r+"="+t+".keys(); \n",a+="for(var "+o+"=0; "+o+"<"+r+".length; "+o+"++) {\n",a+=s+"="+r+"["+o+"];\n",a+=R(e,n.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",e.isAsync&&(a+="else if (lc.isFeatureSet("+t+")) {",a+="var "+r+"="+t+".iterator(runtimeCtx.abortSignal); \n",a+="for(var "+o+"=lang. graphicToFeature( yield "+r+".next(),"+t+"); "+o+"!=null; "+o+"=lang. graphicToFeature( yield "+r+".next(),"+t+")) {\n",a+=s+"="+o+";\n",a+=R(e,n.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n"),a+="else { lastStatement = lc.voidOperation; } \n",a}(e,n);case"Identifier":return function(e,n){try{const t=n.name.toLowerCase();if(null!==e.localScope){if(void 0!==e.localScope[t])return"lscope['"+t+"']";if(void 0!==e.localScope._SymbolsMap[t])return"lscope['"+e.localScope._SymbolsMap[t]+"']"}if(void 0!==e.globalScope[t])return"gscope['"+t+"']";if(void 0!==e.globalScope._SymbolsMap[t])return"gscope['"+e.globalScope._SymbolsMap[t]+"']";throw new Error((0,u.H5)(n,"RUNTIME","VARIABLENOTFOUND"))}catch(t){throw t}}(e,n);case"MemberExpression":return function(e,n){try{let t;return t=!0===n.computed?R(e,n.property):"'"+n.property.name+"'","lang.member("+R(e,n.object)+","+t+")"}catch(t){throw t}}(e,n);case"Literal":return null===n.value||void 0===n.value?"null":JSON.stringify(n.value);case"ThisExpression":case"ConditionalExpression":case"Array":throw new Error((0,u.H5)(n,"RUNTIME","NOTSUPPORTED"));case"CallExpression":return function(e,n){try{if("Identifier"!==n.callee.type)throw new Error((0,u.H5)(n,"RUNTIME","ONLYNODESSUPPORTED"));const t=n.callee.name.toLowerCase();let r="";if(null!==e.localScope&&(void 0!==e.localScope[t]?r="lscope['"+t+"']":void 0!==e.localScope._SymbolsMap[t]&&(r="lscope['"+e.localScope._SymbolsMap[t]+"']")),""===r&&(void 0!==e.globalScope[t]?r="gscope['"+t+"']":void 0!==e.globalScope._SymbolsMap[t]&&(r="gscope['"+e.globalScope._SymbolsMap[t]+"']")),""!==r){let t="[";for(let r=0;r<n.arguments.length;r++)r>0&&(t+=", "),t+=R(e,n.arguments[r]);return t+="]",e.isAsync?"(yield lang.callfunc("+r+","+t+",runtimeCtx) )":"lang.callfunc("+r+","+t+",runtimeCtx)"}throw new Error((0,u.H5)(n,"RUNTIME","NOTFOUND"))}catch(t){throw t}}(e,n);case"UnaryExpression":return function(e,n){try{return"lang.unary("+R(e,n.argument)+",'"+n.operator+"')"}catch(t){throw t}}(e,n);case"BinaryExpression":return function(e,n){try{return"lang.binary("+R(e,n.left)+","+R(e,n.right)+",'"+n.operator+"')"}catch(t){throw t}}(e,n);case"LogicalExpression":return function(e,n){try{if("AssignmentExpression"===n.left.type||"UpdateExpression"===n.left.type)throw new Error((0,u.H5)(n.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===n.right.type||"UpdateExpression"===n.right.type)throw new Error((0,u.H5)(n.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("&&"===n.operator||"||"===n.operator)return"(lang.logicalCheck("+R(e,n.left)+") "+n.operator+" lang.logicalCheck("+R(e,n.right)+"))";throw new Error((0,u.H5)(n,"RUNTIME","ONLYORORAND"))}catch(t){throw t}}(e,n);case"ArrayExpression":return function(e,n){try{const t=[];for(let r=0;r<n.elements.length;r++)"Literal"===n.elements[r].type?t.push(R(e,n.elements[r])):t.push("lang.aCheck("+R(e,n.elements[r])+",'ArrayExpression')");return"["+t.join(",")+"]"}catch(t){throw t}}(e,n);case"ObjectExpression":return function(e,n){let t="lang.dictionary([";for(let r=0;r<n.properties.length;r++){const o=n.properties[r];r>0&&(t+=","),t+="lang.strCheck("+("Identifier"===o.key.type?"'"+o.key.name+"'":R(e,o.key))+",'ObjectExpression'),lang.aCheck("+R(e,o.value)+", 'ObjectExpression')"}return t+="])",t}(e,n);case"Property":return function(e,n){throw new Error("Should not get here")}();default:throw new Error((0,u.H5)(n,"RUNTIME","UNREOGNISED"))}}catch(t){throw t}}function M(e,n){return"BlockStatement"===n.type?R(e,n):"ReturnStatement"===n.type||"BreakStatement"===n.type||"ContinueStatement"===n.type?R(e,n)+"; ":"UpdateExpression"===n.type?"lastStatement = "+R(e,n)+"; ":"ExpressionStatement"===n.type?R(e,n):"ObjectExpression"===n.type?"lastStatement = "+R(e,n)+"; ":R(e,n)+"; "}function _(e,n){let t="";for(let r=0;r<n.body.length;r++)"ReturnStatement"===n.body[r].type||"BreakStatement"===n.body[r].type||"ContinueStatement"===n.body[r].type?t+=R(e,n.body[r])+"; \n":"UpdateExpression"===n.body[r].type||"ObjectExpression"===n.body[r].type?t+="lastStatement = "+R(e,n.body[r])+"; \n":t+=R(e,n.body[r])+" \n";return t}let T=0;const F={};function C(e){return null===e?"":(0,c.l)(e)||(0,c.n)(e)?"Array":(0,c.j)(e)?"Date":(0,c.b)(e)?"String":(0,c.i)(e)?"Boolean":(0,c.a)(e)?"Number":e instanceof o.Z?"Attachment":e instanceof r.Z?"Portal":e instanceof a.Z?"Dictionary":(0,c.s)(e)?"Feature":e instanceof I.Z?"Point":e instanceof N.Z?"Polygon":e instanceof S.Z?"Polyline":e instanceof b.Z?"Multipoint":e instanceof E.Z?"Extent":(0,c.o)(e)?"Function":(0,c.y)(e)?"FeatureSet":(0,c.z)(e)?"FeatureSetCollection":e===c.v?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function O(e,n,t,r){try{const o=n[t];if((0,c.m)(o,r))return n[t+1];{const o=n.length-t;return 1===o?n[t]:2===o?null:3===o?n[t+2]:O(e,n,t+2,r)}}catch(o){throw o}}function Z(e,n,t,r){try{if(!0===r)return n[t+1];if(3===n.length-t)return n[t+2];{const r=n[t+2];if(!1===(0,c.i)(r))throw new Error("WHEN needs boolean test conditions");return Z(e,n,t+2,r)}}catch(o){throw o}}function U(e,n){const t=e.length,r=Math.floor(t/2);return 0===t?[]:1===t?[e[0]]:function(e,n,t){const r=[];for(;e.length>0||n.length>0;)if(e.length>0&&n.length>0){let o=t(e[0],n[0]);isNaN(o)&&(o=0),o<=0?(r.push(e[0]),e=e.slice(1)):(r.push(n[0]),n=n.slice(1))}else e.length>0?(r.push(e[0]),e=e.slice(1)):n.length>0&&(r.push(n[0]),n=n.slice(1));return r}(U(e.slice(0,r),n),U(e.slice(r,t),n),n)}async function D(e,n){const t=e.length,r=Math.floor(t/2);if(0===t)return[];if(1===t)return[e[0]];const o=[await D(e.slice(0,r),n),await D(e.slice(r,t),n)];return P(o[0],o[1],n,[])}async function P(e,n,t,r){const o=r;if(!(e.length>0||n.length>0))return r;if(e.length>0&&n.length>0){let a=await t(e[0],n[0]);return isNaN(a)&&(a=1),a<=0?(o.push(e[0]),e=e.slice(1)):(o.push(n[0]),n=n.slice(1)),P(e,n,t,r)}return e.length>0?(o.push(e[0]),P(e=e.slice(1),n,t,r)):n.length>0?(o.push(n[0]),P(e,n=n.slice(1),t,r)):void 0}function k(e){return e.symbols.symbolCounter++,"_T"+e.symbols.symbolCounter.toString()}function H(e){return e.symbols.symbolCounter++,"_Tvar"+e.symbols.symbolCounter.toString()}(0,p.r)(F,x),(0,w.r)(F,x),(0,m.r)(F,x),(0,h.r)(F,x),(0,g.r)(F,x),F.typeof=function(e,n){return x(e,n,(function(e,n,t){(0,c.p)(t,1,1);const r=C(t[0]);if("Unrecognised Type"===r)throw new Error("Unrecognised Type");return r}))},F.iif=function(e,n){try{return x(e,n,(function(e,n,t){if((0,c.p)(t,3,3),!1===(0,c.i)(t[0]))throw new Error("IF Function must have a boolean test condition");return t[0]?t[1]:t[2]}))}catch(t){throw t}},F.decode=function(e,n){try{return x(e,n,(function(n,t,r){if(r.length<2)throw new Error("Missing Parameters");if(2===r.length)return r[1];{if((r.length-1)%2==0)throw new Error("Must have a default value result.");const n=r[0];return O(e,r,1,n)}}))}catch(t){throw t}},F.when=function(e,n){try{return x(e,n,(function(n,t,r){if(r.length<3)throw new Error("Missing Parameters");if(r.length%2==0)throw new Error("Must have a default value result.");const o=r[0];if(!1===(0,c.i)(o))throw new Error("WHEN needs boolean test conditions");return Z(e,r,0,o)}))}catch(t){throw t}},F.top=function(e,n){return x(e,n,(function(e,n,t){if((0,c.p)(t,2,2),(0,c.l)(t[0]))return(0,c.f)(t[1])>=t[0].length?t[0].slice(0):t[0].slice(0,(0,c.f)(t[1]));if((0,c.n)(t[0]))return(0,c.f)(t[1])>=t[0].length()?t[0].slice(0):t[0].slice(0,(0,c.f)(t[1]));throw new Error("Top cannot accept this parameter type")}))},F.first=function(e,n){return x(e,n,(function(e,n,t){return(0,c.p)(t,1,1),(0,c.l)(t[0])?0===t[0].length?null:t[0][0]:(0,c.n)(t[0])?0===t[0].length()?null:t[0].get(0):null}))},F.sort=function(e,n){return x(e,n,(function(n,t,r){(0,c.p)(r,1,2);let o=r[0];if((0,c.n)(o)&&(o=o.toArray()),!1===(0,c.l)(o))throw new Error("Illegal Argument");if(r.length>1){if(!1===(0,c.o)(r[1]))throw new Error("Illegal Argument");let t=o;const a=function(e,t){return J.callfunc(r[1],[e,t],n)};return e.isAsync?D(t,a):(t=U(t,(function(e,n){return a(e,n)})),t)}{let e=o;if(0===e.length)return[];const n={};for(let o=0;o<e.length;o++){const t=C(e[o]);""!==t&&(n[t]=!0)}if(!0===n.Array||!0===n.Dictionary||!0===n.Feature||!0===n.Point||!0===n.Polygon||!0===n.Polyline||!0===n.Multipoint||!0===n.Extent||!0===n.Function)return e.slice(0);let t=0,r="";for(const o in n)t++,r=o;return e=t>1||"String"===r?U(e,(function(e,n){if(null==e||e===c.v)return null==n||n===c.v?0:1;if(null==n||n===c.v)return-1;const t=(0,c.h)(e),r=(0,c.h)(n);return t<r?-1:t===r?0:1})):"Number"===r?U(e,(function(e,n){return e-n})):"Boolean"===r?U(e,(function(e,n){return e===n?0:n?-1:1})):"Date"===r?U(e,(function(e,n){return n-e})):e.slice(0),e}}))};const L={};for(const Rn in F)L[Rn]=new c.N(F[Rn]);(0,d.registerFunctions)(F,x);for(const Rn in F)F[Rn]=new c.N(F[Rn]);const z=function(){};z.prototype=F;const G=function(){};function q(e,n,t){const r={};e||(e={}),t||(t={}),r._SymbolsMap={},r.textformatting=1,r.infinity=1,r.pi=1;for(const o in n)r[o]=1;for(const o in t)r[o]=1;for(const o in e)r[o]=1;return r}function j(e,n,t){const r=t?new G:new z;e||(e={}),n||(n={});const o=new a.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});o.immutable=!1,r._SymbolsMap={textformatting:1,infinity:1,pi:1},r.textformatting=o,r.infinity=Number.POSITIVE_INFINITY,r.pi=Math.PI;for(const a in n)r[a]=n[a],r._SymbolsMap[a]=1;for(const a in e)r._SymbolsMap[a]=1,e[a]&&"esri.Graphic"===e[a].declaredClass?r[a]=i.Z.createFromGraphic(e[a]):r[a]=e[a];return r}G.prototype=L;c.A;function V(e,n){const t={mode:n,compiled:!0,functions:{},signatures:[],standardFunction:x,standardFunctionAsync:x,evaluateIdentifier:B};for(let r=0;r<e.length;r++)e[r].registerFunctions(t);if("sync"===n){for(const e in t.functions)F[e]=new c.N(t.functions[e]),z.prototype[e]=F[e];for(let e=0;e<t.signatures.length;e++)(0,u.gW)(t.signatures[e],"sync")}else{for(const e in t.functions)L[e]=new c.N(t.functions[e]),G.prototype[e]=L[e];for(let e=0;e<t.signatures.length;e++)(0,u.gW)(t.signatures[e],"async")}}function B(e,n){const t=n.name;if("_SymbolsMap"===t)throw new Error("Illegal");if(e.localStack.length>0){if("_t"!==t.substr(0,2).toLowerCase()&&void 0!==e.localStack[e.localStack.length-1][t])return e.localStack[e.localStack.length-1][t];const n=e.mangleMap[t];if(void 0!==n&&void 0!==e.localStack[e.localStack.length-1][n])return e.localStack[e.localStack.length-1][n]}if("_t"!==t.substr(0,2).toLowerCase()&&void 0!==e.globalScope[t])return e.globalScope[t];if(1===e.globalScope._SymbolsMap[t])return e.globalScope[t];const r=e.mangleMap[t];return void 0!==r?e.globalScope[r]:void 0}V([f.A],"sync"),V([f.A],"async");let Y=0;const J={error(e,n,t){throw new Error((0,u.H5)(e,n,t))},__awaiter:(e,n,t,r)=>new Promise(((t,o)=>{function a(e){try{s(r.next(e))}catch(n){o(n)}}function i(e){try{s(r.throw(e))}catch(n){o(n)}}function s(e){e.done?t(e.value):e.value&&e.value.then?e.value.then(a,i):(Y++,Y%100==0?setTimeout((()=>{Y=0,a(e.value)}),0):a(e.value))}s((r=r.apply(e,n||[])).next())})),functionDepthchecker:(e,n)=>function(){if(n.depthCounter++,n.localStack.push([]),n.depthCounter>64)throw new Error("Exceeded maximum function depth");const t=e.apply(this,arguments);return(0,y.y8)(t)?t.then((e=>(n.depthCounter--,n.localStack.length=n.localStack.length-1,e))):(n.depthCounter--,n.localStack.length=n.localStack.length-1,t)},castString:e=>(0,c.h)(e),aCheck(e,n){if((0,c.o)(e))throw new Error((0,u.H5)({type:n},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return e===c.v?null:e},Dictionary:a.Z,Feature:i.Z,dictionary(e){const n={};for(let r=0;r<e.length;r+=2){if((0,c.o)(e[r+1]))throw new Error("Illegal Argument");if(!1===(0,c.b)(e[r]))throw new Error("Illegal Argument");e[r+1]===c.v?n[e[r].toString()]=null:n[e[r].toString()]=e[r+1]}const t=new a.Z(n);return t.immutable=!1,t},strCheck(e){if(!1===(0,c.b)(e))throw new Error("Illegal Argument");return e},unary(e,n){if((0,c.i)(e)){if("!"===n)return!e;if("-"===n)return-1*(0,c.f)(e);if("+"===n)return 1*(0,c.f)(e);if("~"===n)return~(0,c.f)(e);throw new Error((0,u.H5)({type:"UnaryExpression",operator:n,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("-"===n)return-1*(0,c.f)(e);if("+"===n)return 1*(0,c.f)(e);if("~"===n)return~(0,c.f)(e);throw new Error((0,u.H5)({type:"UnaryExpression",operator:n,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))},logicalCheck(e){if(!1===(0,c.i)(e))throw new Error((0,u.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return e},logical(e,n,t){if((0,c.i)(e)&&(0,c.i)(n))switch(t){case"||":return e||n;case"&&":return e&&n;default:throw new Error((0,u.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))}throw new Error((0,u.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))},binary(e,n,t){switch(t){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,c.r)((0,c.f)(e),(0,c.f)(n),t);case"==":case"=":return(0,c.m)(e,n);case"!=":return!(0,c.m)(e,n);case"<":case">":case"<=":case">=":return(0,c.q)(e,n,t);case"+":return(0,c.b)(e)||(0,c.b)(n)?(0,c.h)(e)+(0,c.h)(n):(0,c.f)(e)+(0,c.f)(n);case"-":return(0,c.f)(e)-(0,c.f)(n);case"*":return(0,c.f)(e)*(0,c.f)(n);case"/":return(0,c.f)(e)/(0,c.f)(n);case"%":return(0,c.f)(e)%(0,c.f)(n);default:throw new Error((0,u.H5)({type:"BinaryExpression",operator:t,left:e,right:n},"RUNTIME","OPERATORNOTRECOGNISED"))}},assign(e,n,t){switch(n){case"=":return e===c.v?null:e;case"/=":return(0,c.f)(t)/(0,c.f)(e);case"*=":return(0,c.f)(t)*(0,c.f)(e);case"-=":return(0,c.f)(t)-(0,c.f)(e);case"+=":return(0,c.b)(t)||(0,c.b)(e)?(0,c.h)(t)+(0,c.h)(e):(0,c.f)(t)+(0,c.f)(e);case"%=":return(0,c.f)(t)%(0,c.f)(e);default:throw new Error((0,u.H5)({type:"AssignmentExpression",operator:n,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"))}},update(e,n,t,r){const o=(0,c.f)(e[n]);return e[n]="++"===t?o+1:o-1,!1===r?o:"++"===t?o+1:o-1},graphicToFeature:(e,n)=>null===e?null:i.Z.createFromGraphicLikeObject(e.geometry,e.attributes,n),memberupdate(e,n,t,r){let o;if((0,c.l)(e)){if(!(0,c.a)(n))throw new Error("Invalid Parameter");if(n<0&&(n=e.length+n),n<0||n>=e.length)throw new Error("Assignment outside of array bounds");o=(0,c.f)(e[n]),e[n]="++"===t?o+1:o-1}else if(e instanceof a.Z){if(!1===(0,c.b)(n))throw new Error("Dictionary accessor must be a string");if(!0!==e.hasField(n))throw new Error("Invalid Parameter");o=(0,c.f)(e.field(n)),e.setField(n,"++"===t?o+1:o-1)}else{if(!(0,c.s)(e))throw(0,c.n)(e)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,c.b)(n))throw new Error("Feature accessor must be a string");if(!0!==e.hasField(n))throw new Error("Invalid Parameter");o=(0,c.f)(e.field(n)),e.setField(n,"++"===t?o+1:o-1)}return!1===r?o:"++"===t?o+1:o-1},assignmember(e,n,t,r){if((0,c.l)(e)){if(!(0,c.a)(n))throw new Error("Invalid Parameter");if(n<0&&(n=e.length+n),n<0||n>e.length)throw new Error("Assignment outside of array bounds");if(n===e.length){if("="!==t)throw new Error("Invalid Parameter");e[n]=this.assign(r,t,e[n])}else e[n]=this.assign(r,t,e[n])}else if(e instanceof a.Z){if(!1===(0,c.b)(n))throw new Error("Dictionary accessor must be a string");if(!0===e.hasField(n))e.setField(n,this.assign(r,t,e.field(n)));else{if("="!==t)throw new Error("Invalid Parameter");e.setField(n,this.assign(r,t,null))}}else{if(!(0,c.s)(e))throw(0,c.n)(e)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,c.b)(n))throw new Error("Feature accessor must be a string");if(!0===e.hasField(n))e.setField(n,this.assign(r,t,e.field(n)));else{if("="!==t)throw new Error("Invalid Parameter");e.setField(n,this.assign(r,t,null))}}},member(e,n){if(null===e)throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(e instanceof a.Z||(0,c.s)(e)){if((0,c.b)(n))return e.field(n);throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(e instanceof v.Z){if((0,c.b)(n))return function(e,n,t){let r;switch(n=n.toLowerCase()){case"hasz":{const n=e.hasZ;return void 0!==n&&n}case"hasm":{const n=e.hasM;return void 0!==n&&n}case"spatialreference":{let n=e.spatialReference._arcadeCacheId;if(void 0===n){let t=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(t=!1),t&&(T++,e.spatialReference._arcadeCacheId=T,n=T)}const t=new a.Z({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==n&&(t._arcadeCacheId="SPREF"+n.toString()),t}}switch(e.type){case"extent":switch(n){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const t=e[n];return void 0!==t?t:null}case"type":return"Extent"}break;case"polygon":switch(n){case"rings":return r=e.cache._arcadeCacheId,void 0===r&&(T++,r=T,e.cache._arcadeCacheId=r),new s.Z(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polygon"}break;case"point":switch(n){case"x":case"y":case"z":case"m":return void 0!==e[n]?e[n]:null;case"type":return"Point"}break;case"polyline":switch(n){case"paths":return r=e.cache._arcadeCacheId,void 0===r&&(T++,r=T,e.cache._arcadeCacheId=r),new s.Z(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polyline"}break;case"multipoint":switch(n){case"points":return r=e.cache._arcadeCacheId,void 0===r&&(T++,r=T,e.cache._arcadeCacheId=r),new l.Z(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,r,1);case"type":return"Multipoint"}}throw new Error((0,u.H5)(t,"RUNTIME","PROPERTYNOTFOUND"))}(e,n,"MemberExpression");throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,c.l)(e)){if((0,c.a)(n)&&isFinite(n)&&Math.floor(n)===n){if(n<0&&(n=e.length+n),n>=e.length||n<0)throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e[n]}throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,c.b)(e)){if((0,c.a)(n)&&isFinite(n)&&Math.floor(n)===n){if(n<0&&(n=e.length+n),n>=e.length||n<0)throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e[n]}throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,c.n)(e)){if((0,c.a)(n)&&isFinite(n)&&Math.floor(n)===n){if(n<0&&(n=e.length()+n),n>=e.length()||n<0)throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e.get(n)}throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}throw new Error((0,u.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))},callfunc(e,n,t){return e instanceof c.N?e.fn(t,{arguments:n,preparsed:!0}):e instanceof c.S?e.fn.apply(this,n):e.apply(this,n)}};function W(e){console.log(e)}function Q(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===n&&(n={vars:{},customfunctions:{}});const r={isAsync:t,globalScope:q(n.vars,t?L:F,n.customfunctions),localScope:null,mangleMap:{},console:W,lrucache:n.lrucache,interceptor:n.interceptor,services:n.services,symbols:{symbolCounter:0}};let o=R(r,e.body[0].body);""===o&&(o="lc.voidOperation; ");let a="";a=t?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+o+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+o+"\n return lastStatement; } \n return this.postProcess(mainBody()); ";const i={lc:c.u,lang:J,mangles:r.mangleMap,postProcess(e){if(e instanceof c.R&&(e=e.value),e instanceof c.I&&(e=e.value),e===c.v&&(e=null),e===c.w)throw new Error("Cannot return BREAK");if(e===c.x)throw new Error("Cannot return CONTINUE");if((0,c.o)(e))throw new Error("Cannot return FUNCTION");return e},prepare(e,n){let t=e.spatialReference;null==t&&(t=new A.Z({wkid:102100}));const r=j(e.vars,e.customfunctions,n);return{localStack:[],isAsync:n,mangleMap:this.mangles,spatialReference:t,globalScope:r,abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,localScope:null,services:e.services,console:e.console?e.console:W,lrucache:e.lrucache,interceptor:e.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return new Function("context","spatialReference",a).bind(i)}var $=t(790);function K(e,n){const t=[];for(let r=0;r<n.arguments.length;r++)t.push(ee(e,n.arguments[r]));return t}function X(e,n,t){try{return!0===n.preparsed?t(e,null,n.arguments):t(e,n,K(e,n))}catch(r){throw r}}function ee(e,n){try{switch(n.type){case"EmptyStatement":return c.v;case"VariableDeclarator":return function(e,n){let t=null===n.init?null:ee(e,n.init);if(t===c.v&&(t=null),"Identifier"!==n.id.type)throw new Error("Can only assign a regular variable");const r=n.id.name.toLowerCase();return null!==e.localScope?e.localScope[r]={value:t,valueset:!0,node:n.init}:e.globalScope[r]={value:t,valueset:!0,node:n.init},c.v}(e,n);case"VariableDeclaration":return function(e,n){for(let t=0;t<n.declarations.length;t++)ee(e,n.declarations[t]);return c.v}(e,n);case"BlockStatement":return function(e,n){let t=c.v;for(let r=0;r<n.body.length;r++)if(t=ee(e,n.body[r]),t instanceof c.R||t===c.w||t===c.x)return t;return t}(e,n);case"FunctionDeclaration":return function(e,n){const t=n.id.name.toLowerCase();return e.globalScope[t]={valueset:!0,node:null,value:new $.Z(n,e)},c.v}(e,n);case"ReturnStatement":return function(e,n){if(null===n.argument)return new c.R(c.v);const t=ee(e,n.argument);return new c.R(t)}(e,n);case"IfStatement":return function(e,n){if("AssignmentExpression"===n.test.type||"UpdateExpression"===n.test.type)throw new Error((0,u.H5)(n.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const t=ee(e,n.test);if(!0===t)return ee(e,n.consequent);if(!1===t)return null!==n.alternate?ee(e,n.alternate):c.v;throw new Error((0,u.H5)(n,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}(e,n);case"ExpressionStatement":return function(e,n){if("AssignmentExpression"===n.expression.type||"UpdateExpression"===n.expression.type)return ee(e,n.expression);if("CallExpression"===n.expression.type){const t=ee(e,n.expression);return t===c.v?c.v:new c.I(t)}{const t=ee(e,n.expression);return t===c.v?c.v:new c.I(t)}}(e,n);case"AssignmentExpression":return function(e,n){const t=ee(e,n.right);let r=null,o="";if("MemberExpression"===n.left.type){if(r=ee(e,n.left.object),!0===n.left.computed?o=ee(e,n.left.property):"Identifier"===n.left.property.type&&(o=n.left.property.name),(0,c.l)(r)){if(!(0,c.a)(o))throw new Error("Invalid Parameter");if(o<0&&(o=r.length+o),o<0||o>r.length)throw new Error("Assignment outside of array bounds");if(o===r.length){if("="!==n.operator)throw new Error("Invalid Parameter");r[o]=te(t,n.operator,r[o],n)}else r[o]=te(t,n.operator,r[o],n)}else if(r instanceof a.Z){if(!1===(0,c.b)(o))throw new Error("Dictionary accessor must be a string");if(!0===r.hasField(o))r.setField(o,te(t,n.operator,r.field(o),n));else{if("="!==n.operator)throw new Error("Invalid Parameter");r.setField(o,te(t,n.operator,null,n))}}else{if(!(0,c.s)(r))throw(0,c.n)(r)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,c.b)(o))throw new Error("Feature accessor must be a string");if(!0===r.hasField(o))r.setField(o,te(t,n.operator,r.field(o),n));else{if("="!==n.operator)throw new Error("Invalid Parameter");r.setField(o,te(t,n.operator,null,n))}}return c.v}if(r=n.left.name.toLowerCase(),null!==e.localScope&&void 0!==e.localScope[r])return e.localScope[r]={value:te(t,n.operator,e.localScope[r].value,n),valueset:!0,node:n.right},c.v;if(void 0!==e.globalScope[r])return e.globalScope[r]={value:te(t,n.operator,e.globalScope[r].value,n),valueset:!0,node:n.right},c.v;throw new Error("Variable not recognised")}(e,n);case"UpdateExpression":return function(e,n){let t,r=null,o="";if("MemberExpression"===n.argument.type){if(r=ee(e,n.argument.object),!0===n.argument.computed?o=ee(e,n.argument.property):"Identifier"===n.argument.property.type&&(o=n.argument.property.name),(0,c.l)(r)){if(!(0,c.a)(o))throw new Error("Invalid Parameter");if(o<0&&(o=r.length+o),o<0||o>=r.length)throw new Error("Assignment outside of array bounds");t=(0,c.f)(r[o]),r[o]="++"===n.operator?t+1:t-1}else if(r instanceof a.Z){if(!1===(0,c.b)(o))throw new Error("Dictionary accessor must be a string");if(!0!==r.hasField(o))throw new Error("Invalid Parameter");t=(0,c.f)(r.field(o)),r.setField(o,"++"===n.operator?t+1:t-1)}else{if(!(0,c.s)(r))throw(0,c.n)(r)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,c.b)(o))throw new Error("Feature accessor must be a string");if(!0!==r.hasField(o))throw new Error("Invalid Parameter");t=(0,c.f)(r.field(o)),r.setField(o,"++"===n.operator?t+1:t-1)}return!1===n.prefix?t:"++"===n.operator?t+1:t-1}if(r="Identifier"===n.argument.type?n.argument.name.toLowerCase():"",!r)throw new Error("Invalid identifier");if(null!==e.localScope&&void 0!==e.localScope[r])return t=(0,c.f)(e.localScope[r].value),e.localScope[r]={value:"++"===n.operator?t+1:t-1,valueset:!0,node:n},!1===n.prefix?t:"++"===n.operator?t+1:t-1;if(void 0!==e.globalScope[r])return t=(0,c.f)(e.globalScope[r].value),e.globalScope[r]={value:"++"===n.operator?t+1:t-1,valueset:!0,node:n},!1===n.prefix?t:"++"===n.operator?t+1:t-1;throw new Error("Variable not recognised")}(e,n);case"BreakStatement":return c.w;case"ContinueStatement":return c.x;case"TemplateElement":return function(e,n){return n.value?n.value.cooked:""}(0,n);case"TemplateLiteral":return function(e,n){let t="",r=0;for(const o of n.quasis)t+=o.value?o.value.cooked:"",!1===o.tail&&(t+=n.expressions[r]?(0,c.h)(ee(e,n.expressions[r])):"",r++);return t}(e,n);case"ForStatement":return function(e,n){null!==n.init&&ee(e,n.init);const t={testResult:!0,lastAction:c.v};do{ne(e,n,t)}while(!0===t.testResult);return t.lastAction instanceof c.R?t.lastAction:c.v}(e,n);case"ForInStatement":return function(e,n){const t=ee(e,n.right);"VariableDeclaration"===n.left.type&&ee(e,n.left);let r=null,o="";if("VariableDeclaration"===n.left.type){const e=n.left.declarations[0].id;"Identifier"===e.type&&(o=e.name)}else"Identifier"===n.left.type&&(o=n.left.name);if(!o)throw new Error((0,u.H5)(n,"RUNTIME","INVALIDVARIABLE"));if(o=o.toLowerCase(),null!==e.localScope&&void 0!==e.localScope[o]&&(r=e.localScope[o]),null===r&&void 0!==e.globalScope[o]&&(r=e.globalScope[o]),null===r)throw new Error((0,u.H5)(n,"RUNTIME","VARIABLENOTDECLARED"));if((0,c.l)(t)||(0,c.b)(t)){const o=t.length;for(let t=0;t<o;t++){r.value=t;const o=ee(e,n.body);if(o===c.w)break;if(o instanceof c.R)return o}return c.v}if((0,c.n)(t)){for(let o=0;o<t.length();o++){r.value=o;const t=ee(e,n.body);if(t===c.w)break;if(t instanceof c.R)return t}return c.v}if(!(t instanceof a.Z||(0,c.s)(t)))return c.v;{const o=t.keys();for(let t=0;t<o.length;t++){r.value=o[t];const a=ee(e,n.body);if(a===c.w)break;if(a instanceof c.R)return a}}}(e,n);case"Identifier":return ae(e,n);case"MemberExpression":return function(e,n){try{const t=ee(e,n.object);if(null===t)throw new Error((0,u.H5)(n,"RUNTIME","NOTFOUND"));if(!1===n.computed){if("Identifier"===n.property.type){if(t instanceof a.Z||(0,c.s)(t))return t.field(n.property.name);if(t instanceof v.Z)return oe(t,n.property.name,n)}throw new Error((0,u.H5)(n,"RUNTIME","INVALIDTYPE"))}{let r=ee(e,n.property);if(t instanceof a.Z||(0,c.s)(t)){if((0,c.b)(r))return t.field(r);throw new Error((0,u.H5)(n,"RUNTIME","INVALIDTYPE"))}if(t instanceof v.Z){if((0,c.b)(r))return oe(t,r,n);throw new Error((0,u.H5)(n,"RUNTIME","INVALIDTYPE"))}if((0,c.l)(t)){if((0,c.a)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new Error((0,u.H5)(n,"RUNTIME","OUTOFBOUNDS"));return t[r]}throw new Error((0,u.H5)(n,"RUNTIME","INVALIDTYPE"))}if((0,c.b)(t)){if((0,c.a)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new Error((0,u.H5)(n,"RUNTIME","OUTOFBOUNDS"));return t[r]}throw new Error((0,u.H5)(n,"RUNTIME","INVALIDTYPE"))}if((0,c.n)(t)){if((0,c.a)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length()+r),r>=t.length()||r<0)throw new Error((0,u.H5)(n,"RUNTIME","OUTOFBOUNDS"));return t.get(r)}throw new Error((0,u.H5)(n,"RUNTIME","INVALIDTYPE"))}throw new Error((0,u.H5)(n,"RUNTIME","INVALIDTYPE"))}}catch(t){throw t}}(e,n);case"Literal":return n.value;case"CallExpression":return function(e,n){try{if("Identifier"!==n.callee.type)throw new Error((0,u.H5)(n,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==e.localScope&&void 0!==e.localScope[n.callee.name.toLowerCase()]){const t=e.localScope[n.callee.name.toLowerCase()];if(t.value instanceof c.N)return t.value.fn(e,n);if(t.value instanceof $.Z)return pe(e,n,t.value.definition);throw new Error((0,u.H5)(n,"RUNTIME","NOTAFUNCTION"))}if(void 0!==e.globalScope[n.callee.name.toLowerCase()]){const t=e.globalScope[n.callee.name.toLowerCase()];if(t.value instanceof c.N)return t.value.fn(e,n);if(t.value instanceof $.Z)return pe(e,n,t.value.definition);throw new Error((0,u.H5)(n,"RUNTIME","NOTAFUNCTION"))}throw new Error((0,u.H5)(n,"RUNTIME","NOTFOUND"))}catch(t){throw t}}(e,n);case"UnaryExpression":return function(e,n){try{const t=ee(e,n.argument);if((0,c.i)(t)){if("!"===n.operator)return!t;if("-"===n.operator)return-1*(0,c.f)(t);if("+"===n.operator)return 1*(0,c.f)(t);if("~"===n.operator)return~(0,c.f)(t);throw new Error((0,u.H5)(n,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("~"===n.operator)return~(0,c.f)(t);if("-"===n.operator)return-1*(0,c.f)(t);if("+"===n.operator)return 1*(0,c.f)(t);throw new Error((0,u.H5)(n,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}catch(t){throw t}}(e,n);case"BinaryExpression":return function(e,n){try{const t=[ee(e,n.left),ee(e,n.right)],r=t[0],o=t[1];switch(n.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,c.r)((0,c.f)(r),(0,c.f)(o),n.operator);case"==":return(0,c.m)(r,o);case"!=":return!(0,c.m)(r,o);case"<":case">":case"<=":case">=":return(0,c.q)(r,o,n.operator);case"+":return(0,c.b)(r)||(0,c.b)(o)?(0,c.h)(r)+(0,c.h)(o):(0,c.f)(r)+(0,c.f)(o);case"-":return(0,c.f)(r)-(0,c.f)(o);case"*":return(0,c.f)(r)*(0,c.f)(o);case"/":return(0,c.f)(r)/(0,c.f)(o);case"%":return(0,c.f)(r)%(0,c.f)(o);default:throw new Error((0,u.H5)(n,"RUNTIME","OPERATORNOTRECOGNISED"))}}catch(t){throw t}}(e,n);case"LogicalExpression":return function(e,n){try{if("AssignmentExpression"===n.left.type||"UpdateExpression"===n.left.type)throw new Error((0,u.H5)(n.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===n.right.type||"UpdateExpression"===n.right.type)throw new Error((0,u.H5)(n.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const t=ee(e,n.left);if((0,c.i)(t))switch(n.operator){case"||":if(!0===t)return t;{const t=ee(e,n.right);if((0,c.i)(t))return t;throw new Error((0,u.H5)(n,"RUNTIME","ONLYORORAND"))}case"&&":if(!1===t)return t;{const t=ee(e,n.right);if((0,c.i)(t))return t;throw new Error((0,u.H5)(n,"RUNTIME","ONLYORORAND"))}default:throw new Error((0,u.H5)(n,"RUNTIME","ONLYORORAND"))}throw new Error((0,u.H5)(n,"RUNTIME","ONLYBOOLEAN"))}catch(t){throw t}}(e,n);case"ArrayExpression":return function(e,n){try{const t=[];for(let r=0;r<n.elements.length;r++){const o=ee(e,n.elements[r]);if((0,c.o)(o))throw new Error((0,u.H5)(n,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));o===c.v?t.push(null):t.push(o)}return t}catch(t){throw t}}(e,n);case"ObjectExpression":return function(e,n){const t={};for(let o=0;o<n.properties.length;o++){const r=ee(e,n.properties[o]);if((0,c.o)(r.value))throw new Error("Illegal Argument");if(!1===(0,c.b)(r.key))throw new Error("Illegal Argument");r.value===c.v?t[r.key.toString()]=null:t[r.key.toString()]=r.value}const r=new a.Z(t);return r.immutable=!1,r}(e,n);case"Property":return function(e,n){return{key:"Identifier"===n.key.type?n.key.name:ee(e,n.key),value:ee(e,n.value)}}(e,n);default:throw new Error((0,u.H5)(n,"RUNTIME","UNREOGNISED"))}}catch(t){throw t}}function ne(e,n,t){if(null!==n.test){if(t.testResult=ee(e,n.test),!1===t.testResult)return;if(!0!==t.testResult)throw new Error((0,u.H5)(n,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}t.lastAction=ee(e,n.body),t.lastAction!==c.w?t.lastAction instanceof c.R?t.testResult=!1:null!==n.update&&ee(e,n.update):t.testResult=!1}function te(e,n,t,r){switch(n){case"=":return e===c.v?null:e;case"/=":return(0,c.f)(t)/(0,c.f)(e);case"*=":return(0,c.f)(t)*(0,c.f)(e);case"-=":return(0,c.f)(t)-(0,c.f)(e);case"+=":return(0,c.b)(t)||(0,c.b)(e)?(0,c.h)(t)+(0,c.h)(e):(0,c.f)(t)+(0,c.f)(e);case"%=":return(0,c.f)(t)%(0,c.f)(e);default:throw new Error((0,u.H5)(r,"RUNTIME","OPERATORNOTRECOGNISED"))}}let re=0;function oe(e,n,t){let r;switch(n=n.toLowerCase()){case"hasz":{const n=e.hasZ;return void 0!==n&&n}case"hasm":{const n=e.hasM;return void 0!==n&&n}case"spatialreference":{let n=e.spatialReference._arcadeCacheId;if(void 0===n){let t=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(t=!1),t&&(re++,e.spatialReference._arcadeCacheId=re,n=re)}const t=new a.Z({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==n&&(t._arcadeCacheId="SPREF"+n.toString()),t}}switch(e.type){case"extent":switch(n){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const t=e[n];return void 0!==t?t:null}case"type":return"Extent"}break;case"polygon":switch(n){case"rings":return r=e.cache._arcadeCacheId,void 0===r&&(re++,r=re,e.cache._arcadeCacheId=r),new s.Z(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polygon"}break;case"point":switch(n){case"x":case"y":case"z":case"m":return void 0!==e[n]?e[n]:null;case"type":return"Point"}break;case"polyline":switch(n){case"paths":return r=e.cache._arcadeCacheId,void 0===r&&(re++,r=re,e.cache._arcadeCacheId=r),new s.Z(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,r);case"type":return"Polyline"}break;case"multipoint":switch(n){case"points":return r=e.cache._arcadeCacheId,void 0===r&&(re++,r=re,e.cache._arcadeCacheId=r),new l.Z(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,r,1);case"type":return"Multipoint"}}throw new Error((0,u.H5)(t,"RUNTIME","PROPERTYNOTFOUND"))}function ae(e,n){let t;try{const r=n.name.toLowerCase();if(null!==e.localScope&&void 0!==e.localScope[r])return t=e.localScope[r],!0===t.valueset||(t.value=ee(e,t.node),t.valueset=!0),t.value;if(void 0!==e.globalScope[r])return t=e.globalScope[r],!0===t.valueset||(t.value=ee(e,t.node),t.valueset=!0),t.value;throw new Error((0,u.H5)(n,"RUNTIME","VARIABLENOTFOUND"))}catch(r){throw r}}const ie={};function se(e){return null==e?"":(0,c.l)(e)||(0,c.n)(e)?"Array":(0,c.j)(e)?"Date":(0,c.b)(e)?"String":(0,c.i)(e)?"Boolean":(0,c.a)(e)?"Number":e instanceof o.Z?"Attachment":e instanceof r.Z?"Portal":e instanceof a.Z?"Dictionary":(0,c.s)(e)?"Feature":e instanceof I.Z?"Point":e instanceof N.Z?"Polygon":e instanceof S.Z?"Polyline":e instanceof b.Z?"Multipoint":e instanceof E.Z?"Extent":(0,c.o)(e)?"Function":(0,c.y)(e)?"FeatureSet":(0,c.z)(e)?"FeatureSetCollection":e===c.v?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function le(e,n,t,r){try{const o=ee(e,n.arguments[t]);if((0,c.m)(o,r))return ee(e,n.arguments[t+1]);{const o=n.arguments.length-t;return 1===o?ee(e,n.arguments[t]):2===o?null:3===o?ee(e,n.arguments[t+2]):le(e,n,t+2,r)}}catch(o){throw o}}function ce(e,n,t,r){try{if(!0===r)return ee(e,n.arguments[t+1]);if(3===n.arguments.length-t)return ee(e,n.arguments[t+2]);{const r=ee(e,n.arguments[t+2]);if(!1===(0,c.i)(r))throw new Error("WHEN needs boolean test conditions");return ce(e,n,t+2,r)}}catch(o){throw o}}function ue(e,n){const t=e.length,r=Math.floor(t/2);return 0===t?[]:1===t?[e[0]]:function(e,n,t){const r=[];for(;e.length>0||n.length>0;)if(e.length>0&&n.length>0){let o=t(e[0],n[0]);isNaN(o)&&(o=0),o<=0?(r.push(e[0]),e=e.slice(1)):(r.push(n[0]),n=n.slice(1))}else e.length>0?(r.push(e[0]),e=e.slice(1)):n.length>0&&(r.push(n[0]),n=n.slice(1));return r}(ue(e.slice(0,r),n),ue(e.slice(r,t),n),n)}function fe(e,n,t){try{const r=e.body;if(t.length!==e.params.length)throw new Error("Invalid Parameter calls to function.");for(let a=0;a<t.length;a++)n.localScope[e.params[a].name.toLowerCase()]={value:t[a],valueset:!0,node:null};const o=ee(n,r);if(o instanceof c.R)return o.value;if(o===c.w)throw new Error("Cannot Break from a Function");if(o===c.x)throw new Error("Cannot Continue from a Function");return o instanceof c.I?o.value:o}catch(r){throw r}}function pe(e,n,t){return X(e,n,(function(n,r,o){const a={spatialReference:e.spatialReference,globalScope:e.globalScope,depthCounter:e.depthCounter+1,console:e.console,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{}};if(a.depthCounter>64)throw new Error("Exceeded maximum function depth");return fe(t,a,o)}))}function he(e){return function(){const n={spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,interceptor:e.context.interceptor,localScope:{},depthCounter:e.context.depthCounter+1,globalScope:e.context.globalScope};if(n.depthCounter>64)throw new Error("Exceeded maximum function depth");return fe(e.definition,n,arguments)}}(0,p.r)(ie,X),(0,w.r)(ie,X),(0,m.r)(ie,X),(0,h.r)(ie,X),(0,g.r)(ie,X),(0,d.registerFunctions)(ie,X),ie.typeof=function(e,n){return X(e,n,(function(e,n,t){(0,c.p)(t,1,1);const r=se(t[0]);if("Unrecognised Type"===r)throw new Error("Unrecognised Type");return r}))},ie.iif=function(e,n){try{(0,c.p)(null===n.arguments?[]:n.arguments,3,3);const t=ee(e,n.arguments[0]);if(!1===(0,c.i)(t))throw new Error("IF Function must have a boolean test condition");const r=ee(e,n.arguments[1]),o=ee(e,n.arguments[2]);return!0===t?r:o}catch(t){throw t}},ie.decode=function(e,n){try{if(n.arguments.length<2)throw new Error("Missing Parameters");if(2===n.arguments.length)return ee(e,n.arguments[1]);if((n.arguments.length-1)%2==0)throw new Error("Must have a default value result.");return le(e,n,1,ee(e,n.arguments[0]))}catch(t){throw t}},ie.when=function(e,n){try{if(n.arguments.length<3)throw new Error("Missing Parameters");if(n.arguments.length%2==0)throw new Error("Must have a default value result.");const t=ee(e,n.arguments[0]);if(!1===(0,c.i)(t))throw new Error("WHEN needs boolean test conditions");return ce(e,n,0,t)}catch(t){throw t}},ie.top=function(e,n){return X(e,n,(function(e,n,t){if((0,c.p)(t,2,2),(0,c.l)(t[0]))return(0,c.f)(t[1])>=t[0].length?t[0].slice(0):t[0].slice(0,(0,c.f)(t[1]));if((0,c.n)(t[0]))return(0,c.f)(t[1])>=t[0].length()?t[0].slice(0):t[0].slice(0,(0,c.f)(t[1]));throw new Error("Top cannot accept this parameter type")}))},ie.first=function(e,n){return X(e,n,(function(e,n,t){return(0,c.p)(t,1,1),(0,c.l)(t[0])?0===t[0].length?null:t[0][0]:(0,c.n)(t[0])?0===t[0].length()?null:t[0].get(0):null}))},ie.sort=function(e,n){return X(e,n,(function(e,n,t){(0,c.p)(t,1,2);let r=t[0];if((0,c.n)(r)&&(r=r.toArray()),!1===(0,c.l)(r))throw new Error("Illegal Argument");if(t.length>1){if(!1===(0,c.o)(t[1]))throw new Error("Illegal Argument");let e=r;const n=he(t[1]);return e=ue(e,(function(e,t){return n(e,t)})),e}{let e=r;if(0===e.length)return[];const n={};for(let r=0;r<e.length;r++){const t=se(e[r]);""!==t&&(n[t]=!0)}if(!0===n.Array||!0===n.Dictionary||!0===n.Feature||!0===n.Point||!0===n.Polygon||!0===n.Polyline||!0===n.Multipoint||!0===n.Extent||!0===n.Function)return e.slice(0);let t=0,o="";for(const r in n)t++,o=r;return e=t>1||"String"===o?ue(e,(function(e,n){if(null==e||e===c.v)return null==n||n===c.v?0:1;if(null==n||n===c.v)return-1;const t=(0,c.h)(e),r=(0,c.h)(n);return t<r?-1:t===r?0:1})):"Number"===o?ue(e,(function(e,n){return e-n})):"Boolean"===o?ue(e,(function(e,n){return e===n?0:n?-1:1})):"Date"===o?ue(e,(function(e,n){return n-e})):e.slice(0),e}}))};for(const Rn in ie)ie[Rn]={value:new c.N(ie[Rn]),valueset:!0,node:null};const de=function(){};function me(e,n){const t=new de;e||(e={}),n||(n={});const r=new a.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});r.immutable=!1,t.textformatting={value:r,valueset:!0,node:null};for(const o in n)t[o]={value:new c.N(n[o]),native:!0,valueset:!0,node:null};for(const o in e)e[o]&&"esri.Graphic"===e[o].declaredClass?t[o]={value:i.Z.createFromGraphic(e[o]),valueset:!0,node:null}:t[o]={value:e[o],valueset:!0,node:null};return t}(de.prototype=ie).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},de.prototype.pi={value:Math.PI,valueset:!0,node:null};c.A;function ge(e){console.log(e)}function we(e){const n={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:X,evaluateIdentifier:ae,arcadeCustomFunctionHandler:he};for(let t=0;t<e.length;t++)e[t].registerFunctions(n);for(const t in n.functions)ie[t]={value:new c.N(n.functions[t]),valueset:!0,node:null},de.prototype[t]=ie[t];for(let t=0;t<n.signatures.length;t++)(0,u.gW)(n.signatures[t],"async")}function ye(e,n){let t=n.spatialReference;null==t&&(t=new A.Z({wkid:102100}));let r=ee({spatialReference:t,globalScope:me(n.vars,n.customfunctions),localScope:null,console:n.console?n.console:ge,lrucache:n.lrucache,interceptor:n.interceptor,depthCounter:1},e.body[0].body);if(r instanceof c.R&&(r=r.value),r instanceof c.I&&(r=r.value),r===c.v&&(r=null),r===c.w)throw new Error("Cannot return BREAK");if(r===c.x)throw new Error("Cannot return CONTINUE");if(r instanceof $.Z)throw new Error("Cannot return FUNCTION");if(r instanceof c.N)throw new Error("Cannot return FUNCTION");return r}we([f.A]);var Ee=t(40471),ve=t(93169);const be=["feature","angle","bearing","centroid","envelopeintersects","extent","geometry","isselfintersecting","ringisclockwise"];let Ie=!1,Ne=!1,Se=null,Ae=[];function xe(e,n){return!0===n.useAsync||!0===e.isAsync?function(e,n){if(null===Se)throw new Error("Async Arcade must be enabled for this script");if((0,ve.Z)("esri-csp-restrictions"))return function(n){return Se.executeScript(e,n)};return Q(e,n,!0)}(e,n):(0,ve.Z)("esri-csp-restrictions")?function(n){return ye(e,n)}:Q(e,n)}function Re(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,Ee.bQ)(e,n)}function Me(e,n){if(!0===n.useAsync||!0===e.isAsync){if(null===Se)throw new Error("Async Arcade must be enabled for this script");return Se.executeScript(e,n)}return ye(e,n)}function _e(e,n){return function(e,n){return(0,u.bV)(e,n)}(e,n)}function Te(e){return(0,Ee.qA)(e)}function Fe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return void 0===e.usesGeometry&&(0,u.dN)(e,n),!0===e.usesGeometry}let Ce=null;function Oe(){return Ce||(Ce=Ze(),Ce)}async function Ze(){const[e,n]=await Promise.all([Promise.resolve().then(t.bind(t,2170)),Promise.resolve().then(t.bind(t,72568))]);return Ne=!0,n.setGeometryEngine(e),!0}let Ue=null;function De(){return null!==Ue||(Ue=Pe()),Ue}async function Pe(){await async function(){return V([await t.e(3806).then(t.bind(t,83806))],"async"),!0}(),Se=await Promise.all([t.e(3806),t.e(4698)]).then(t.bind(t,24698));for(const e of Ae)Se.extend(e),V(e,"async");return Ae=null,!0}function ke(){return Ie}function He(){return!!Se}function Le(){return Ne}let ze=null;function Ge(){return ze||(ze=qe(),ze)}async function qe(){await De();const[e,n,r,o,a]=await Promise.all([Promise.all([t.e(8562),t.e(8113),t.e(1786)]).then(t.bind(t,31786)),Promise.all([t.e(8562),t.e(8113),t.e(1786),t.e(718)]).then(t.bind(t,718)),Promise.all([t.e(8562),t.e(8113),t.e(5743)]).then(t.bind(t,95743)),Promise.all([t.e(8562),t.e(77)]).then(t.bind(t,40077)),t.e(5282).then(t.bind(t,65282))]);return Je=e,Se.extend([n,r,o,a]),V([n,r,o,a],"async"),Ie=!0,!0}function je(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return void 0===e.usesFeatureSet&&(0,u.dN)(e,n),!0===e.usesFeatureSet}function Ve(e,n){if(n){for(const t of n)if(_e(e,t))return!0;return!1}return!1}async function Be(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o="string"==typeof e?Re(e):e,a=[];return o&&(!1===Le()&&(Fe(o)||r)&&a.push(Oe()),!1===He()&&(!0===o.isAsync||n)&&a.push(De()),!1===ke()&&(je(o)||Ve(o,t))&&a.push(Ge())),!a.length||(await Promise.all(a),!0)}function Ye(e){if(Fe(e))return!0;const n=(0,u.Vf)(e);let t=!1;for(let r=0;r<n.length;r++)if(be.includes(n[r])){t=!0;break}return t}let Je=null;function We(){return Je}const Qe=Object.freeze(Object.defineProperty({__proto__:null,compileScript:xe,extend:function(e){we(e),V(e,"sync"),null===Se?Ae.push(e):(V(e,"async"),Se.extend(e))},parseScript:Re,validateScript:function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,Ee.FS)(e,n,t)},scriptCheck:function(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(0,Ee.RA)(e,n,t,r)},parseAndExecuteScript:function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Me((0,Ee.bQ)(e,t),n)},executeScript:Me,referencesMember:_e,referencesFunction:function(e,n){return function(e,n){return(0,u.w8)(e,n)}(e,n)},extractFieldLiterals:function(e){return(0,Ee.Sl)(e)},extractExpectedFieldLiterals:Te,scriptUsesGeometryEngine:Fe,enableGeometrySupport:Oe,enableGeometrySupportImpl:Ze,enableAsyncSupport:De,enableAsyncSupportImpl:Pe,isFeatureSetSupportEnabled:ke,isAsyncEnabled:He,isGeometryEnabled:Le,enableFeatureSetSupport:Ge,enableFeatureSetSupportImpl:qe,scriptUsesFeatureSet:je,scriptIsAsync:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return void 0===e.isAsync&&(0,u.dN)(e,n),!0===e.isAsync},loadScriptDependencies:Be,scriptTouchesGeometry:Ye,featureSetUtils:We},Symbol.toStringTag,{value:"Module"}));var $e=t(84652),Ke=t(80724);const Xe=/^\$(feature|aggregatedFeatures)\./i,en={vars:{$feature:"any",$view:"any"},spatialReference:null};function nn(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function tn(e){return null==e?null:(0,c.l)(e)||(0,c.n)(e)?"array":(0,c.j)(e)?"date":(0,c.b)(e)?"text":(0,c.i)(e)?"boolean":(0,c.a)(e)?"number":e instanceof a.Z?"dictionary":(0,c.s)(e)?"feature":e instanceof I.Z?"point":e instanceof N.Z?"polygon":e instanceof S.Z?"polyline":e instanceof b.Z?"multipoint":e instanceof E.Z?"extent":(0,c.y)(e)?"featureSet":(0,c.z)(e)?"featureSetCollection":null}function rn(e){if(!e)return null;try{return Re(e)}catch(n){}return null}function on(e,n){const t="string"==typeof e?rn(e):e;if(!t)return null;try{return xe(t,n=n||(0,$e.d9)(en))}catch(r){}return null}function an(e,n){return{vars:{$feature:null==e?new i.Z:i.Z.createFromGraphic(e),$view:n&&n.view},spatialReference:n&&n.sr}}function sn(e,n,t){return i.Z.createFromGraphicLikeObject(n,e,t)}function ln(e,n){e.vars.$feature=n}function cn(e,n){let t;try{t=Me(e,n)}catch(r){t=null}return t}function un(e,n){let t;try{t=e?e(n):null}catch(r){t=null}return t}function fn(e,n){try{return e?e(n):Promise.resolve(null)}catch(t){return Promise.resolve(null)}}function pn(e,n){if(!e)return[];const t="string"==typeof e?rn(e):e;if(!t)return[];const r=Te(t);let o=new Array;r.forEach((e=>{Xe.test(e)&&(e=e.replace(Xe,""),o.push(e))}));const a=o.filter((e=>e.includes("*")));return o=o.filter((e=>!a.includes(e))),n&&a.forEach((e=>{const t=new RegExp(`^${e.split(/\*+/).map(nn).join(".*")}$`,"i");n.forEach((e=>t.test(e)?o.push(e):null))})),[...new Set(o.sort())]}function hn(e){return _e(e,"$view")}function dn(e,n){return!!e&&_e(e,n)}function mn(e){if(e&&(null!=e.spatialReference||null!=e.scale&&null!=e.viewingMode))return{view:e.viewingMode&&null!=e.scale?new a.Z({viewingMode:e.viewingMode,scale:e.scale}):null,sr:e.spatialReference}}function gn(e){let{url:n,spatialReference:t,lrucache:r,interceptor:o}=e;const a=We();return a?a.createFeatureSetCollectionFromService(n,t,r,o):null}function wn(e){let{layer:n,spatialReference:t,outFields:r,returnGeometry:o,lrucache:a,interceptor:i}=e;if(null===n)return null;const s=We();return s?s.constructFeatureSet(n,t,r,o??!0,a,i):null}function yn(e){if(null===e?.map)return null;const n=We();return n?n.createFeatureSetCollectionFromMap(e.map,e.spatialReference,e.lrucache,e.interceptor):null}function En(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Be(e,n,t)}function vn(){return Oe()}function bn(){return Ge()}function In(e,n){if(!e)return!1;if("string"==typeof e)return n(e);const t=e;if(function(e){return"simple"===e.type||"class-breaks"===e.type||"unique-value"===e.type||"dot-density"===e.type||"dictionary"===e.type||"pie-chart"===e.type}(t)){if("dot-density"===t.type){const e=t.attributes.some((e=>n(e.valueExpression)));if(e)return e}const e=t.visualVariables,r=!!e&&e.some((e=>{let t=n(e.valueExpression);return"size"===e.type&&((0,Ke.iY)(e.minSize)&&(t=t||n(e.minSize.valueExpression)),(0,Ke.iY)(e.maxSize)&&(t=t||n(e.maxSize.valueExpression))),t}));return!(!("valueExpression"in t)||!n(t.valueExpression))||r}if(function(e){return"esri.layers.support.LabelClass"===e.declaredClass}(t)){const e=t.labelExpressionInfo&&t.labelExpressionInfo.expression;return!(!e||!n(e))||!1}return!!function(e){return"esri.PopupTemplate"===e.declaredClass}(t)&&(!!t.expressionInfos&&t.expressionInfos.some((e=>n(e.expression)))||Array.isArray(t.content)&&t.content.some((e=>"expression"===e.type&&n(e.expressionInfo?.expression))))}function Nn(e){const n=rn(e);return!!n&&Ye(n)}function Sn(e){return In(e,Nn)}function An(e){const n=rn(e);return!!n&&Fe(n)}function xn(e){return In(e,An)}}}]);
//# sourceMappingURL=2999.9977a1c7.chunk.js.map