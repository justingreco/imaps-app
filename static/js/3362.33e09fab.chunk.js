"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[3362,2463,2170],{79347:(e,t,i)=>{i.d(t,{e:()=>a});var n,r,o,s={exports:{}};n=s,r=function(){function e(e,i,r){r=r||2;var o,s,a,l,p,h,d,u=i&&i.length,y=u?i[0]*r:e.length,f=t(e,0,y,r,!0),v=[];if(!f||f.next===f.prev)return v;if(u&&(f=c(e,i,f,r)),e.length>80*r){o=a=e[0],s=l=e[1];for(var g=r;g<y;g+=r)(p=e[g])<o&&(o=p),(h=e[g+1])<s&&(s=h),p>a&&(a=p),h>l&&(l=h);d=0!==(d=Math.max(a-o,l-s))?1/d:0}return n(f,v,r,o,s,d),v}function t(e,t,i,n,r){var o,s;if(r===T(e,t,i,n)>0)for(o=t;o<i;o+=n)s=w(o,e[o],e[o+1],s);else for(o=i-n;o>=t;o-=n)s=w(o,e[o],e[o+1],s);if(s&&m(s,s.next)){var a=s.next;G(s),s=a}return s}function i(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!m(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{var r=n.prev;if(G(n),(n=t=r)===n.next)break;i=!0}}while(i||n!==t);return t}function n(e,t,c,l,p,h,d){if(e){!d&&h&&u(e,l,p,h);for(var y,f,v=e;e.prev!==e.next;)if(y=e.prev,f=e.next,h?o(e,l,p,h):r(e))t.push(y.i/c),t.push(e.i/c),t.push(f.i/c),G(e),e=f.next,v=f.next;else if((e=f)===v){d?1===d?n(e=s(i(e),t,c),t,c,l,p,h,2):2===d&&a(e,t,c,l,p,h):n(i(e),t,c,l,p,h,1);break}}}function r(e){var t=e.prev,i=e,n=e.next;if(x(t,i,n)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(v(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&x(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function o(e,t,i,n){var r=e.prev,o=e,s=e.next;if(x(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,c=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,p=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=y(a,c,t,i,n),d=y(l,p,t,i,n),u=e.prevZ,f=e.nextZ;u&&u.z>=h&&f&&f.z<=d;){if(u!==e.prev&&u!==e.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,u.x,u.y)&&x(u.prev,u,u.next)>=0)return!1;if(u=u.prevZ,f!==e.prev&&f!==e.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;u&&u.z>=h;){if(u!==e.prev&&u!==e.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,u.x,u.y)&&x(u.prev,u,u.next)>=0)return!1;u=u.prevZ}for(;f&&f.z<=d;){if(f!==e.prev&&f!==e.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function s(e,t,n){var r=e;do{var o=r.prev,s=r.next.next;!m(o,s)&&_(o,r,r.next,s)&&b(o,s)&&b(s,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(s.i/n),G(r),G(r.next),r=e=s),r=r.next}while(r!==e);return i(r)}function a(e,t,r,o,s,a){var c=e;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&g(c,l)){var p=S(c,l);return c=i(c,c.next),p=i(p,p.next),n(c,t,r,o,s,a),void n(p,t,r,o,s,a)}l=l.next}c=c.next}while(c!==e)}function c(e,n,r,o){var s,a,c,p=[];for(s=0,a=n.length;s<a;s++)(c=t(e,n[s]*o,s<a-1?n[s+1]*o:e.length,o,!1))===c.next&&(c.steiner=!0),p.push(f(c));for(p.sort(l),s=0;s<p.length;s++)r=i(r=h(p[s],r),r.next);return r}function l(e,t){return e.x-t.x}function p(e){if(e.next.prev===e)return e;let t=e;for(;;){const i=t.next;if(i.prev===t||i===t||i===e)break;t=i}return t}function h(e,t){var n=function(e,t){var i,n=t,r=e.x,o=e.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===s)return i;var c,l=i,p=i.x,h=i.y,u=1/0;n=i;do{r>=n.x&&n.x>=p&&r!==n.x&&v(o<h?r:s,o,p,h,o<h?s:r,o,n.x,n.y)&&(c=Math.abs(o-n.y)/(r-n.x),b(n,e)&&(c<u||c===u&&(n.x>i.x||n.x===i.x&&d(i,n)))&&(i=n,u=c)),n=n.next}while(n!==l);return i}(e,t);if(!n)return t;var r=S(n,e),o=i(n,n.next);let s=p(r);return i(s,s.next),o=p(o),p(t===n?o:t)}function d(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function u(e,t,i,n){var r=e;do{null===r.z&&(r.z=y(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,o,s,a,c,l=1;do{for(i=e,e=null,o=null,s=0;i;){for(s++,n=i,a=0,t=0;t<l&&(a++,n=n.nextZ);t++);for(c=l;a>0||c>0&&n;)0!==a&&(0===c||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,c--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;i=n}o.nextZ=null,l*=2}while(s>1)}(r)}function y(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function f(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function v(e,t,i,n,r,o,s,a){return(r-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(n-a)-(i-s)*(t-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&_(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(b(e,t)&&b(t,e)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||m(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,i,n){var r=M(x(e,t,i)),o=M(x(e,t,n)),s=M(x(i,n,e)),a=M(x(i,n,t));return r!==o&&s!==a||!(0!==r||!C(e,i,t))||!(0!==o||!C(e,n,t))||!(0!==s||!C(i,e,n))||!(0!==a||!C(i,t,n))}function C(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function M(e){return e>0?1:e<0?-1:0}function b(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function S(e,t){var i=new R(e.i,e.x,e.y),n=new R(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function w(e,t,i,n){var r=new R(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function G(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,i,n){for(var r=0,o=t,s=i-n;o<i;o+=n)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}return e.deviation=function(e,t,i,n){var r=t&&t.length,o=r?t[0]*i:e.length,s=Math.abs(T(e,0,o,i));if(r)for(var a=0,c=t.length;a<c;a++){var l=t[a]*i,p=a<c-1?t[a+1]*i:e.length;s-=Math.abs(T(e,l,p,i))}var h=0;for(a=0;a<n.length;a+=3){var d=n[a]*i,u=n[a+1]*i,y=n[a+2]*i;h+=Math.abs((e[d]-e[y])*(e[u+1]-e[d+1])-(e[d]-e[u])*(e[y+1]-e[d+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},e.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var s=0;s<t;s++)i.vertices.push(e[r][o][s]);r>0&&(n+=e[r-1].length,i.holes.push(n))}return i},e},void 0!==(o=r())&&(n.exports=o);const a=s.exports},92463:(e,t,i)=>{i.r(t),i.d(t,{hydratedAdapter:()=>c});var n=i(53866),r=i(77577),o=i(585),s=i(80885),a=i(29909);const c={convertToGEGeometry:function(e,t){if(null==t)return null;let i="cache"in t?t.cache._geVersion:void 0;return null==i&&(i=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=i)),i},exportPoint:function(e,t,i){const n=e.hasZ(t),r=e.hasM(t),s=new o.Z({x:e.getPointX(t),y:e.getPointY(t),spatialReference:i});return n&&(s.z=e.getPointZ(t)),r&&(s.m=e.getPointM(t)),s.cache._geVersion=t,s},exportPolygon:function(e,t,i){const n=new s.Z({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return n.cache._geVersion=t,n},exportPolyline:function(e,t,i){const n=new a.Z({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return n.cache._geVersion=t,n},exportMultipoint:function(e,t,i){const n=new r.Z({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:i});return n.cache._geVersion=t,n},exportExtent:function(e,t,i){const r=e.hasZ(t),o=e.hasM(t),s=new n.Z({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:i});if(r){const i=e.getZExtent(t);s.zmin=i.vmin,s.zmax=i.vmax}if(o){const i=e.getMExtent(t);s.mmin=i.vmin,s.mmax=i.vmax}return s.cache._geVersion=t,s}}},2170:(e,t,i)=>{i.r(t),i.d(t,{buffer:()=>R,changeDefaultSpatialReferenceTolerance:()=>N,clearDefaultSpatialReferenceTolerance:()=>U,clip:()=>a,contains:()=>l,convexHull:()=>C,crosses:()=>p,cut:()=>c,densify:()=>L,difference:()=>M,disjoint:()=>v,distance:()=>h,equals:()=>d,extendedSpatialReferenceInfo:()=>s,flipHorizontal:()=>Z,flipVertical:()=>E,generalize:()=>k,geodesicArea:()=>D,geodesicBuffer:()=>T,geodesicDensify:()=>B,geodesicLength:()=>F,intersect:()=>S,intersectLinesToPoints:()=>H,intersects:()=>u,isSimple:()=>m,nearestCoordinate:()=>A,nearestVertex:()=>O,nearestVertices:()=>V,offset:()=>G,overlaps:()=>g,planarArea:()=>W,planarLength:()=>z,relate:()=>x,rotate:()=>I,simplify:()=>_,symmetricDifference:()=>b,touches:()=>y,union:()=>w,within:()=>f});var n=i(99058),r=i(92463);function o(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function s(e){return n.G.extendedSpatialReferenceInfo(e)}function a(e,t){return n.G.clip(r.hydratedAdapter,o(e),e,t)}function c(e,t){return n.G.cut(r.hydratedAdapter,o(e),e,t)}function l(e,t){return n.G.contains(r.hydratedAdapter,o(e),e,t)}function p(e,t){return n.G.crosses(r.hydratedAdapter,o(e),e,t)}function h(e,t,i){return n.G.distance(r.hydratedAdapter,o(e),e,t,i)}function d(e,t){return n.G.equals(r.hydratedAdapter,o(e),e,t)}function u(e,t){return n.G.intersects(r.hydratedAdapter,o(e),e,t)}function y(e,t){return n.G.touches(r.hydratedAdapter,o(e),e,t)}function f(e,t){return n.G.within(r.hydratedAdapter,o(e),e,t)}function v(e,t){return n.G.disjoint(r.hydratedAdapter,o(e),e,t)}function g(e,t){return n.G.overlaps(r.hydratedAdapter,o(e),e,t)}function x(e,t,i){return n.G.relate(r.hydratedAdapter,o(e),e,t,i)}function m(e){return n.G.isSimple(r.hydratedAdapter,o(e),e)}function _(e){return n.G.simplify(r.hydratedAdapter,o(e),e)}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.G.convexHull(r.hydratedAdapter,o(e),e,t)}function M(e,t){return n.G.difference(r.hydratedAdapter,o(e),e,t)}function b(e,t){return n.G.symmetricDifference(r.hydratedAdapter,o(e),e,t)}function S(e,t){return n.G.intersect(r.hydratedAdapter,o(e),e,t)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.G.union(r.hydratedAdapter,o(e),e,t)}function G(e,t,i,s,a,c){return n.G.offset(r.hydratedAdapter,o(e),e,t,i,s,a,c)}function R(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.G.buffer(r.hydratedAdapter,o(e),e,t,i,s)}function T(e,t,i,s,a,c){return n.G.geodesicBuffer(r.hydratedAdapter,o(e),e,t,i,s,a,c)}function A(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n.G.nearestCoordinate(r.hydratedAdapter,o(e),e,t,i)}function O(e,t){return n.G.nearestVertex(r.hydratedAdapter,o(e),e,t)}function V(e,t,i,s){return n.G.nearestVertices(r.hydratedAdapter,o(e),e,t,i,s)}function P(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent?.center??null:null}function I(e,t,i){if(null==e)throw new q;const r=e.spatialReference;if(null==(i=i??P(e)))throw new q;const o=e.constructor.fromJSON(n.G.rotate(e,t,i));return o.spatialReference=r,o}function Z(e,t){if(null==e)throw new q;const i=e.spatialReference;if(null==(t=t??P(e)))throw new q;const r=e.constructor.fromJSON(n.G.flipHorizontal(e,t));return r.spatialReference=i,r}function E(e,t){if(null==e)throw new q;const i=e.spatialReference;if(null==(t=t??P(e)))throw new q;const r=e.constructor.fromJSON(n.G.flipVertical(e,t));return r.spatialReference=i,r}function k(e,t,i,s){return n.G.generalize(r.hydratedAdapter,o(e),e,t,i,s)}function L(e,t,i){return n.G.densify(r.hydratedAdapter,o(e),e,t,i)}function B(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return n.G.geodesicDensify(r.hydratedAdapter,o(e),e,t,i,s)}function W(e,t){return n.G.planarArea(r.hydratedAdapter,o(e),e,t)}function z(e,t){return n.G.planarLength(r.hydratedAdapter,o(e),e,t)}function D(e,t,i){return n.G.geodesicArea(r.hydratedAdapter,o(e),e,t,i)}function F(e,t,i){return n.G.geodesicLength(r.hydratedAdapter,o(e),e,t,i)}function H(e,t){return n.G.intersectLinesToPoints(r.hydratedAdapter,o(e),e,t)}function N(e,t){n.G.changeDefaultSpatialReferenceTolerance(e,t)}function U(e){n.G.clearDefaultSpatialReferenceTolerance(e)}class q extends Error{constructor(){super("Illegal Argument Exception")}}},85981:(e,t,i)=>{i.d(t,{AR:()=>g,Gr:()=>v,JG:()=>l,Jk:()=>d,KU:()=>y,Ue:()=>c,al:()=>p,ct:()=>f,nF:()=>u,zk:()=>h});var n=i(16889),r=i(21530),o=i(11186),s=i(71353),a=i(11185);function c(e){return e?{origin:(0,s.a)(e.origin),vector:(0,s.a)(e.vector)}:{origin:(0,s.c)(),vector:(0,s.c)()}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return p(e.origin,e.vector,t)}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return(0,o.c)(i.origin,e),(0,o.c)(i.vector,t),i}function h(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return(0,o.c)(i.origin,e),(0,o.b)(i.vector,t,e),i}function d(e,t){const i=(0,o.b)(a.WM.get(),t,e.origin),r=(0,o.e)(e.vector,i),s=(0,o.e)(e.vector,e.vector),c=(0,n.uZ)(r/s,0,1),l=(0,o.b)(a.WM.get(),(0,o.g)(a.WM.get(),e.vector,c),i);return(0,o.e)(l,l)}function u(e,t,i){return f(e,t,0,1,i)}function y(e,t,i){return(0,o.a)(i,e.origin,(0,o.g)(i,e.vector,t))}function f(e,t,i,r,s){const{vector:c,origin:l}=e,p=(0,o.b)(a.WM.get(),t,l),h=(0,o.e)(c,p)/(0,o.p)(c);return(0,o.g)(s,c,(0,n.uZ)(h,i,r)),(0,o.a)(s,s,e.origin)}function v(e,t){if(x(e,function(e,t){const i=_.get();return i.origin=e,i.vector=t,i}(t.origin,t.direction),!1,m)){const{tA:t,pB:i,distance2:n}=m;if(t>=0&&t<=1)return n;if(t<0)return(0,o.d)(e.origin,i);if(t>1)return(0,o.d)((0,o.a)(a.WM.get(),e.origin,e.vector),i)}return null}function g(e,t,i){return!!x(e,t,!0,m)&&((0,o.c)(i,m.pA),!0)}function x(e,t,i,r){const s=1e-6,c=e.origin,l=(0,o.a)(a.WM.get(),c,e.vector),p=t.origin,h=(0,o.a)(a.WM.get(),p,t.vector),d=a.WM.get(),u=a.WM.get();if(d[0]=c[0]-p[0],d[1]=c[1]-p[1],d[2]=c[2]-p[2],u[0]=h[0]-p[0],u[1]=h[1]-p[1],u[2]=h[2]-p[2],Math.abs(u[0])<s&&Math.abs(u[1])<s&&Math.abs(u[2])<s)return!1;const y=a.WM.get();if(y[0]=l[0]-c[0],y[1]=l[1]-c[1],y[2]=l[2]-c[2],Math.abs(y[0])<s&&Math.abs(y[1])<s&&Math.abs(y[2])<s)return!1;const f=d[0]*u[0]+d[1]*u[1]+d[2]*u[2],v=u[0]*y[0]+u[1]*y[1]+u[2]*y[2],g=d[0]*y[0]+d[1]*y[1]+d[2]*y[2],x=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],m=(y[0]*y[0]+y[1]*y[1]+y[2]*y[2])*x-v*v;if(Math.abs(m)<s)return!1;let _=(f*v-g*x)/m,C=(f+v*_)/x;i&&(_=(0,n.uZ)(_,0,1),C=(0,n.uZ)(C,0,1));const M=a.WM.get(),b=a.WM.get();return M[0]=c[0]+_*y[0],M[1]=c[1]+_*y[1],M[2]=c[2]+_*y[2],b[0]=p[0]+C*u[0],b[1]=p[1]+C*u[1],b[2]=p[2]+C*u[2],r.tA=_,r.tB=C,r.pA=M,r.pB=b,r.distance2=(0,o.d)(M,b),!0}const m={tA:0,tB:0,pA:(0,s.c)(),pB:(0,s.c)(),distance2:0},_=new r.x((()=>c()))},74702:(e,t,i)=>{i.d(t,{bE:()=>l,wu:()=>c});var n=i(21530),r=i(11186),o=i(71353),s=i(85981);i(11185);function a(e){return e?{p0:(0,o.a)(e.p0),p1:(0,o.a)(e.p1),p2:(0,o.a)(e.p2)}:{p0:(0,o.c)(),p1:(0,o.c)(),p2:(0,o.c)()}}function c(e,t,i){const n=t[0]-e[0],r=t[1]-e[1],o=i[0]-e[0],s=i[1]-e[1];return.5*Math.abs(n*s-r*o)}function l(e,t,i){return(0,r.b)(p,t,e),(0,r.b)(h,i,e),(0,r.l)((0,r.f)(p,p,h))/2}new n.x(s.Ue),new n.x((()=>a()));const p=(0,o.c)(),h=(0,o.c)()},48202:(e,t,i)=>{var n,r,o,s,a,c,l,p,h,d,u,y,f,v,g,x,m,_,C,M,b,S,w,G,R,T,A,O,V,P,I,Z,E,k,L,B,W,z,D,F,H,N,U,q,J,X,j,Y,Q,K,$,ee,te,ie,ne,re,oe,se,ae,ce,le;i.d(t,{$y:()=>S,AH:()=>r,CS:()=>j,DD:()=>p,Dd:()=>V,Em:()=>b,JS:()=>J,Ky:()=>h,Lh:()=>Y,Qb:()=>oe,RL:()=>n,RS:()=>ae,TF:()=>M,Tx:()=>a,UR:()=>m,UX:()=>re,bj:()=>X,eZ:()=>l,id:()=>R,kP:()=>B,of:()=>u,r4:()=>F,sj:()=>W,v2:()=>o,zQ:()=>O,zV:()=>x}),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(n||(n={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(o||(o={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(s||(s={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(a||(a={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(c||(c={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(l||(l={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(p||(p={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(h||(h={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(d||(d={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(u||(u={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(y||(y={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(f||(f={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(v||(v={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(g||(g={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(x||(x={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(m||(m={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(_||(_={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(C||(C={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(M||(M={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(b||(b={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(S||(S={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(w||(w={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(G||(G={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(R||(R={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(T||(T={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(A||(A={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(O||(O={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(V||(V={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(P||(P={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(I||(I={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(Z||(Z={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(E||(E={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(k||(k={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(L||(L={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(B||(B={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(W||(W={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(z||(z={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(D||(D={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(F||(F={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(H||(H={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(N||(N={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(U||(U={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(q||(q={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(J||(J={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(X||(X={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(j||(j={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(Y||(Y={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Q||(Q={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(K||(K={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}($||($={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(ee||(ee={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(te||(te={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(ie||(ie={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(ne||(ne={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(re||(re={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(oe||(oe={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(se||(se={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(ae||(ae={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(ce||(ce={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(le||(le={}))},85577:(e,t,i)=>{i.d(t,{r:()=>x});i(59486);var n=i(52639),r=(i(51508),i(42537)),o=i(17842),s=i(88396),a=i(6394),c=i(71353),l=i(48202),p=i(70040),h=i(76014),d=i(38561),u=i(16072),y=i(16851),f=i(75021),v=i(585),g=i(29909);class x extends d.a{constructor(e){super(),this._graphicsLayer=e}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new v.Z({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.coordinateHelper.spatialReference}),C)}visualizePoint(e,t){return this._visualizeSnappingIndicator(new v.Z({x:e.point[0],y:e.point[1],spatialReference:t.coordinateHelper.spatialReference}),M)}visualizeLine(e,t){return this._visualizeSnappingIndicator(new g.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),b)}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new g.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),S)}visualizeRightAngleQuad(e,t){return this._visualizeSnappingIndicator(new g.Z({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:t.coordinateHelper.spatialReference}),T(e))}_visualizeSnappingIndicator(e,t){const i=new n.Z({geometry:e,symbol:t});return this._graphicsLayer.add(i),(0,r.kB)((()=>{this._graphicsLayer.remove(i)}))}}const m=p.O.main.toArray(),_=[...p.O.main.toRgb(),100],C=new u.Z({outline:new y.Z({width:1.5,color:m}),size:15,color:[0,0,0,0]}),M=new u.Z({outline:{width:.5,color:[0,0,0,1]},size:10,color:m}),b=new f.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:l.kP.Butt,joinStyle:l.r4.Round,miterLimit:10,width:(0,o.Wz)(h.c.lineHintWidthTarget),color:m}]}}}),S=new f.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:m}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:m}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),w=e=>new f.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,o.Wz)(h.c.rightAngleHintSize),rotation:e,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,o.Wz)(h.c.rightAngleHintOutlineSize),color:m},{type:"CIMSolidFill",enable:!0,color:_}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),G=w(45),R=w(225),T=(()=>{const e=(0,a.a)(),t=(0,a.a)(),i=(0,c.c)();return n=>((0,s.a)(e,n.centerVertex,n.previousVertex),(0,s.a)(t,n.nextVertex,n.previousVertex),(0,s.g)(i,e,t),i[2]<0?G:R)})()},83362:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Q});var n=i(27366),r=(i(59486),i(52639)),o=i(14921),s=i(40281),a=i(10064),c=i(91505),l=i(100),p=i(32718),h=i(92026),d=i(47898),u=i(94172),y=i(17842),f=i(49861),v=(i(63780),i(25243),i(69912)),g=i(69662),x=i(93655),m=i(16072),_=i(50951),C=i(85577),M=i(20008),b=i(53503),S=i(74982),w=i(83089),G=i(70040),R=i(1614),T=i(87888),A=i(87268),O=i(77560),V=i(34019),P=i(12586),I=i(40524),Z=i(9856),E=i(59418),k=i(29909),L=i(585);class B{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-start"}}class W{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape"}}class z{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-stop"}}class D{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-start"}}class F{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move"}}class H{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-stop"}}class N{constructor(e){this.added=e,this.type="vertex-select"}}class U{constructor(e){this.removed=e,this.type="vertex-deselect"}}class q{constructor(e,t,i,n){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=n,this.type="vertex-add"}}class J{constructor(e,t,i,n){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=n,this.type="vertex-remove"}}const X=G.X.reshapeGraphics,j={vertices:{default:new m.Z({style:"circle",size:X.vertex.size,color:X.vertex.color,outline:{color:X.vertex.outlineColor,width:1}}),hover:new m.Z({style:"circle",size:X.vertex.hoverSize,color:X.vertex.hoverColor,outline:{color:X.vertex.hoverOutlineColor,width:1}}),selected:new m.Z({style:"circle",size:X.selected.size,color:X.selected.color,outline:{color:X.selected.outlineColor,width:1}})},midpoints:{default:new m.Z({style:"circle",size:X.midpoint.size,color:X.midpoint.color,outline:{color:X.midpoint.outlineColor,width:1}}),hover:new m.Z({style:"circle",size:X.midpoint.size,color:X.midpoint.color,outline:{color:X.midpoint.outlineColor,width:1}})}};let Y=class extends c.Z.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._handles=new l.Z,this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._snappingTask=null,this._stagedVertex=null,this._tooltip=null,this._viewHandles=new l.Z,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new s.Z,this.midpointSymbol=new m.Z({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.tooltipOptions=new O.Z,this.type="reshape",this.vertexGraphics=new s.Z,this.view=null}initialize(){const e=this.view;this._highlightHelper=new S.Z({view:e}),this._setup(),this._handles.add([(0,u.gx)((()=>e?.ready),(()=>{const{layer:e,view:t}=this;(0,w.p)(t,e),this._viewHandles.add(t.on("key-down",(e=>this._keyDownHandler(e)),R.f.TOOL))}),{once:!0,initial:!0}),(0,u.Wy)((()=>this.graphic),(()=>this.refresh())),(0,u.Wy)((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),(0,u.Wy)((()=>this.enableMidpoints),(()=>this.refresh())),(0,u.YP)((()=>this.tooltipOptions.enabled),(e=>{this._tooltip=e?new P.u({view:this.view}):(0,h.SC)(this._tooltip)}),u.tX)])}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this._tooltip=(0,h.SC)(this._tooltip),this._handles=(0,h.SC)(this._handles),this._viewHandles=(0,h.SC)(this._viewHandles)}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),this._setUpHighlights()}get state(){const e=!!this.get("view.ready"),t=!(!this.get("graphic")||!this.get("layer"));return e&&t?"active":e?"ready":"disabled"}set symbols(e){const{midpoints:t=j.midpoints,vertices:i=j.vertices}=e||{};this._set("symbols",{midpoints:t,vertices:i})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||!e||(0,h.Wi)(e.geometry))return;const i=e.geometry;"mesh"!==i.type&&"extent"!==i.type?("polygon"===i.type&&(0,g.pW)(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper.add(this.graphic)}_setUpGeometryHelper(){const e=this.graphic.geometry;if((0,h.Wi)(e)||"mesh"===e.type||"extent"===e.type)return void this._logGeometryTypeError();const t="multipoint"===e.type?new k.Z({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=A.c.fromGeometry(t,_.JY.Local)}_saveSnappingContextForHandle(e,t){this._snappingGraphicsLayer=new x.Z({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new V.N({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:t.viewEvent?.pointerType||"mouse",excludeFeature:this.graphic,visualizer:new C.r(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._highlightHelper.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetSnappingStateVars(){(0,h.pC)(this.snappingManager)&&this.snappingManager.doneSnapping(),(0,h.pC)(this._snappingGraphicsLayer)&&(this.view?.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=(0,h.SC)(this._editGeometryOperations),this._snappingTask=(0,h.IM)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set("selectedVertices",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=(0,g.nA)(e.clone());if("polygon"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if((0,h.pC)(e)&&("polyline"===e.type||"polygon"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:n}}=this,o=[];return e?.forEach(((e,s)=>{e.forEach(((e,a)=>{const[c,l]=e;o.push(new r.Z({geometry:new L.Z({x:c,y:l,spatialReference:n}),symbol:i?.vertices?.default,attributes:{...t,pathIndex:s,pointIndex:a}}))}))})),o}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:n}}=this,o=[];return e?.forEach(((e,s)=>{e.forEach(((a,c)=>{const[l,p]=a,d=e[c+1]?c+1:0;if("polygon"===(0,h.U2)(this.graphic.geometry,"type")||0!==d){const[a,h]=e[d],[u,y]=(0,g.Gi)([l,p],[a,h]);o.push(new r.Z({geometry:new L.Z({x:u,y:y,spatialReference:n}),symbol:i.midpoints.default,attributes:{...t,pathIndex:s,pointIndexStart:c,pointIndexEnd:d}}))}}))})),o}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((e=>{let{geometry:t}=e;return{x:t.x,y:t.y}}));for(let i=0;i<t.length;i++){const n=[];for(let e=0;e<t.length;e++){if(i===e)continue;const r=t[i],o=t[e];r.x===o.x&&r.y===o.y&&n.push(e)}e[i].attributes.relatedGraphicIndices=n}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:n,view:r}=this,o=n.concat(i).items;e&&o.push(t),this._mover=new b.default({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:o,view:r,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit("graphic-click",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),n=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,n)}else this._isVertex(t)&&(e.viewEvent.stopPropagation(),2===e.viewEvent.button?this._removeVertices(t):(e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)))}_setUpOperation(e){const{graphic:t,dx:i,dy:n}=e,r=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:r?"move":"reshape",totalDx:i,totalDy:n}}_onGraphicMoveStartCallback(e){const{dx:t,dy:i,graphic:n}=e;if(n===this.graphic){const{geometry:r}=n;return this._setUpOperation(e),this._emitMoveStartEvent(t,i),void((0,h.pC)(r)&&"point"===r.type&&this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)})))}if(!this.selectedVertices.includes(n)){if(this._clearSelection(),this._isMidpoint(n)){const e=this.graphic.clone(),t=this._createVertexFromMidpoint(n);this._emitVertexAddEvent([n],e,t)}this._addToSelection(n)}this._setUpOperation(e),this._emitReshapeStartEvent(n),this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(n,e.viewEvent),this._emitReshapeEvent(n)}))}_onGraphicMoveCallback(e){const{dx:t,dy:i,graphic:n}=e;this._activeOperationInfo.totalDx+=t,this._activeOperationInfo.totalDy+=i;const{operationType:r}=this._activeOperationInfo,{geometry:o}=n;if(!(0,h.Wi)(o))if("move"!==r)this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(n,e.viewEvent),this._emitReshapeEvent(n)}));else if("point"===o.type)this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)}));else if("polyline"===o.type||"polygon"===o.type){const n=this._getCoordinatesForUI(o);this._updateVertexGraphicLocations(n),this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)}}_onGraphicMoveStopCallback(e){const{dx:t,dy:i,graphic:n}=e,{operationType:r}=this._activeOperationInfo;this._activeOperationInfo.totalDx+=t,this._activeOperationInfo.totalDy+=i,this._onHandleMove(n,t,i,e,(()=>"move"===r?this._emitMoveStopEvent():this._emitReshapeStopEvent(n))),this._isMidpoint(n)?this.refresh():(this._updateTooltip(this._isVertex(n)?n:null),this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(e){const t=this.view.spatialReference;for(const i of this.vertexGraphics){const{pathIndex:n,pointIndex:r}=i.attributes,[o,s]=e[n][r];i.geometry=new L.Z({x:o,y:s,spatialReference:t})}this._updateMidpointGraphicLocations(e)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:n,pointIndexEnd:r}=t.attributes,[o,s]=e[i][n],[a,c]=e[i][r],[l,p]=(0,g.Gi)([o,s],[a,c]);t.geometry=new L.Z({x:l,y:p,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic(e){let{attributes:t}=e;return[t?.pathIndex||0,t?.pointIndex||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,n,r){if((0,h.IM)(this._snappingTask),!this._snappingContext)return;const s=e.geometry,a="graphic-move-stop"===n.type;if((0,h.pC)(this.snappingManager)&&this.selectedVertices.length<2&&!a){const n=this.snappingManager;this._stagedVertex=n.update({point:s,context:this._snappingContext}),this._syncGeometryAfterVertexMove(e,new L.Z(this._stagedVertex),t,i,a),r(),this._snappingTask=(0,o.vr)((async o=>{const c=await n.snap({point:s,context:this._snappingContext,signal:o});c.valid&&(this._stagedVertex=c.apply(),this._syncGeometryAfterVertexMove(e,new L.Z(this._stagedVertex),t,i,a),r())}))}else{const n=(0,h.pC)(this._stagedVertex)?new L.Z(this._stagedVertex):s;this._syncGeometryAfterVertexMove(e,n,t,i,a),r()}}async _syncGeometryAfterVertexMove(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=this._editGeometryOperations.data.geometry;if("point"===o.type)e.geometry=t;else{const{x:s,y:a}=t,[c,l]=this._getIndicesForVertexGraphic(e);let p=(0,g.nA)(o);const h=p[c].length-1;p[c][l]=[s,a],"polygon"===o.type&&(0===l?p[c][h]=[s,a]:l===h&&(p[c][0]=[s,a])),this._isVertex(e)&&(p=this._moveRelatedCoordinates(p,e,s,a),p=this._moveSelectedHandleCoordinates(p,e,i,n,"polygon"===o.type),this._updateMidpointGraphicLocations(p)),this.graphic.geometry=o.clone();const d=this._getVertexFromEditGeometry(e),u=s-d.pos[0],y=a-d.pos[1];this._editGeometryOperations.moveVertices([d],u,y,0),r&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i,n){const{relatedGraphicIndices:r}=t.attributes;for(const o of r){const r=this.vertexGraphics.getItemAt(o),{pathIndex:s,pointIndex:a}=r.attributes;e[s][a]=[i,n],r.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,n,r){for(const o of this.selectedVertices)if(o!==t){const{pathIndex:t,pointIndex:s,relatedGraphicIndices:a}=o.attributes,c=(0,M.e7)(o.geometry,i,n,this.view),l=e[t].length-1;e[t][s]=[c.x,c.y],o.geometry=c,r&&(0===s?e[t][l]=[c.x,c.y]:s===l&&(e[t][0]=[c.x,c.y]));for(const i of a){const t=this.vertexGraphics.getItemAt(i),{pathIndex:n,pointIndex:r}=t.attributes;e[n][r]=[c.x,c.y],t.geometry=c}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic,i=this._isVertex(t);i&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateTooltip(i?t:null),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default",this._updateTooltip()}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,n=i.geometry;if((0,h.Wi)(n)||"polygon"!==n.type&&"polyline"!==n.type)return[];const r=n.clone(),o=[],{pathIndex:s,pointIndexStart:a,pointIndexEnd:c}=e.attributes,{x:l,y:p}=e.geometry,d=0===c?a+1:c,u=(0,g.nA)(r);return u[s].splice(d,0,[l,p]),e.attributes={...t,pathIndex:s,pointIndex:d,relatedGraphicIndices:[]},o.push({coordinates:u[s][d],componentIndex:s,vertexIndex:d}),this.graphic.geometry=r,o}_addToSelection(e){e instanceof r.Z&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set("selectedVertices",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,t){const{vertices:i}=this.symbols,n=t?i.hover:i.default;e instanceof r.Z&&(e=[e]);for(const r of e)this.selectedVertices.splice(this.selectedVertices.indexOf(r),1),this._set("selectedVertices",this.selectedVertices),r.set("symbol",n);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set("symbol",this.symbols.vertices.default);this._set("selectedVertices",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){T.j.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const t=this.graphic.geometry;if((0,h.Wi)(t)||"polygon"!==t.type&&"polyline"!==t.type)return;if("polygon"===t.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof r.Z&&(e=[e]);const i=this.graphic.clone(),n=t.clone();let o=(0,g.nA)(n);const s=[];e instanceof r.Z&&(e=[e]);for(const r of e){const{x:e,y:t}=r.geometry;for(let i=0;i<o.length;i++){const n=o[i];for(let r=0;r<n.length;r++){const[a,c]=n[r];e===a&&t===c&&(s.push({coordinates:o[i][r],componentIndex:i,vertexIndex:r}),o[i].splice(Number(r),1))}}}if("polygon"===n.type)o=o.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[n,r]=e[e.length-1];return(2!==e.length||t!==n||i!==r)&&(t===n&&i===r||e.push(e[0]),!0)})),n.rings=o;else{for(const e of o)1===e.length&&o.splice(o.indexOf(e),1);n.paths=o}this.graphic.geometry=n,this.refresh(),this._emitVertexRemoveEvent(e,i,s)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}_updateTooltip(e,t){(0,h.Wi)(this._tooltip)||(e?e===this.graphic?this._updateMoveGraphicTooltip(t):this._updateMoveVertexTooltip(t):this._tooltip.clear())}_updateMoveGraphicTooltip(e){const{_tooltip:t,tooltipOptions:i,view:n}=this;if((0,h.Wi)(t))return;const r=new I.$E({tooltipOptions:i});if(e){const{x:t,y:i}=e.origin,o=n.toMap(e),s=n.toMap((0,y.vW)(t,i)),a=(0,E.Qw)(s,o);r.distance=(0,h.pC)(a)?a:d.yP}t.info=r}_updateMoveVertexTooltip(e){const{_tooltip:t,graphic:{geometry:i},tooltipOptions:n,view:r}=this;if((0,h.Wi)(t))return;const o=new I.nk({tooltipOptions:n});if((0,h.pC)(i)&&("polygon"===i.type?o.area=(0,Z.f)(i):"polyline"===i.type&&(o.totalLength=(0,E.C_)(i))),e){const{x:t,y:i}=e.origin,n=r.toMap(e),s=r.toMap((0,y.vW)(t,i)),a=(0,E.Qw)(s,n);o.distance=(0,h.pC)(a)?a:d.yP}t.info=o}_emitMoveStartEvent(e,t){const i=new D(this.graphic,e,t);this.emit("move-start",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new F(this.graphic,e,t);this.emit("move",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const{totalDx:e,totalDy:t}=this._activeOperationInfo,i=new H(this.graphic,e,t);this.emit("move-stop",i),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(i)}_emitReshapeStartEvent(e){const t=new B(this.graphic,e,this.selectedVertices);this.emit("reshape-start",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new W(this.graphic,e,this.selectedVertices);this.emit("reshape",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new z(this.graphic,e,this.selectedVertices);this.emit("reshape-stop",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new N(e);this.emit("select",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new U(e);this.emit("deselect",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const n=new q(e,this.graphic,t,i);this.emit("vertex-add",n),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(n)}_emitVertexRemoveEvent(e,t,i){const n=new J(e,this.graphic,t,i);this.emit("vertex-remove",n),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(n)}_logGeometryTypeError(){p.Z.getLogger(this.declaredClass).error(new a.Z("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}};(0,n._)([(0,f.Cb)()],Y.prototype,"_tooltip",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"callbacks",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"enableMidpoints",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"enableMovement",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"enableVertices",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"graphic",void 0),(0,n._)([(0,f.Cb)({value:!0})],Y.prototype,"highlightsEnabled",null),(0,n._)([(0,f.Cb)()],Y.prototype,"layer",void 0),(0,n._)([(0,f.Cb)({readOnly:!0})],Y.prototype,"midpointGraphics",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"midpointSymbol",void 0),(0,n._)([(0,f.Cb)({readOnly:!0})],Y.prototype,"selectedVertices",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"snappingManager",void 0),(0,n._)([(0,f.Cb)({readOnly:!0})],Y.prototype,"state",null),(0,n._)([(0,f.Cb)({value:j})],Y.prototype,"symbols",null),(0,n._)([(0,f.Cb)({type:O.Z})],Y.prototype,"tooltipOptions",void 0),(0,n._)([(0,f.Cb)({readOnly:!0})],Y.prototype,"type",void 0),(0,n._)([(0,f.Cb)({readOnly:!0})],Y.prototype,"vertexGraphics",void 0),(0,n._)([(0,f.Cb)()],Y.prototype,"view",void 0),Y=(0,n._)([(0,v.j)("esri.views.draw.support.Reshape")],Y);const Q=Y},70040:(e,t,i)=>{i.d(t,{O:()=>r,X:()=>h});var n=i(51995);const r={main:new n.Z([255,127,0]),selected:new n.Z([255,255,255]),outline:new n.Z([0,0,0,.5]),selectedOutline:new n.Z([255,255,255]),hoverOutline:new n.Z([255,255,255]),secondary:new n.Z([255,255,255]),secondaryOutline:new n.Z([100,100,100]),transparent:new n.Z([0,0,0,0])};function o(e,t){if(t)for(const i in t)e[i]=t[i]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=r.main,this.hoverColor=r.main,this.outlineColor=r.outline,this.hoverOutlineColor=r.hoverOutline,o(this,e)}}class a{constructor(e){this.color=r.secondary,this.hoverColor=r.main,o(this,e)}}class c{constructor(e){this.color=r.transparent,this.hoverColor=r.transparent,this.outlineColor=r.main,this.hoverOutlineColor=r.main,this.stagedColor=r.transparent,this.stagedOutlineColor=r.secondary,o(this,e)}}class l{constructor(e){this.vertex=new s,this.midpoint=new s({color:r.secondary,outlineColor:r.secondaryOutline,size:6}),this.selected=new s({color:r.selected,hoverColor:r.selected,hoverOutlineColor:r.hoverOutline}),o(this,e)}}class p{constructor(e){this.center=new s({color:r.secondaryOutline}),this.fill=new c,this.line=new a,this.vertex=new s({color:r.selected,outlineColor:r.main,hoverColor:r.selected,hoverOutlineColor:r.secondaryOutline}),o(this,e)}}const h=new class{constructor(e){this.reshapeGraphics=new l,this.transformGraphics=new p,o(this,e)}}},40524:(e,t,i)=>{i.d(t,{$E:()=>c,QW:()=>l,c1:()=>u,in:()=>p,j:()=>d,nk:()=>h});var n=i(27366),r=i(47898),o=i(49861),s=i(69912),a=i(4943);let c=class extends a.h{constructor(e){super(e),this.type="translate-graphic",this.distance=r.yP}};(0,n._)([(0,o.Cb)()],c.prototype,"type",void 0),(0,n._)([(0,o.Cb)()],c.prototype,"distance",void 0),c=(0,n._)([(0,s.j)("esri.views.interactive.tooltip.TranslateGraphicTooltipInfo")],c);let l=class extends a.h{constructor(e){super(e),this.type="translate-graphic-z",this.distance=r.yP}};(0,n._)([(0,o.Cb)()],l.prototype,"type",void 0),(0,n._)([(0,o.Cb)()],l.prototype,"distance",void 0),l=(0,n._)([(0,s.j)("esri.views.interactive.tooltip.TranslateGraphicZTooltipInfo")],l);let p=class extends a.h{constructor(e){super(e),this.type="translate-graphic-xy",this.distance=r.yP}};(0,n._)([(0,o.Cb)()],p.prototype,"type",void 0),(0,n._)([(0,o.Cb)()],p.prototype,"distance",void 0),p=(0,n._)([(0,s.j)("esri.views.interactive.tooltip.TranslateGraphicXYTooltipInfo")],p);let h=class extends a.h{constructor(e){super(e),this.type="translate-vertex",this.distance=r.yP,this.elevation=null,this.area=null,this.totalLength=null}};(0,n._)([(0,o.Cb)()],h.prototype,"type",void 0),(0,n._)([(0,o.Cb)()],h.prototype,"distance",void 0),(0,n._)([(0,o.Cb)()],h.prototype,"elevation",void 0),(0,n._)([(0,o.Cb)()],h.prototype,"area",void 0),(0,n._)([(0,o.Cb)()],h.prototype,"totalLength",void 0),h=(0,n._)([(0,s.j)("esri.views.interactive.tooltip.TranslateVertexTooltipInfo")],h);let d=class extends a.h{constructor(e){super(e),this.type="translate-vertex-z",this.distance=r.yP,this.elevation=null}};(0,n._)([(0,o.Cb)()],d.prototype,"type",void 0),(0,n._)([(0,o.Cb)()],d.prototype,"distance",void 0),(0,n._)([(0,o.Cb)()],d.prototype,"elevation",void 0),d=(0,n._)([(0,s.j)("esri.views.interactive.tooltip.TranslateVertexZTooltipInfo")],d);let u=class extends a.h{constructor(e){super(e),this.type="translate-vertex-xy",this.distance=r.yP,this.elevation=null,this.area=null,this.totalLength=null}};(0,n._)([(0,o.Cb)()],u.prototype,"type",void 0),(0,n._)([(0,o.Cb)()],u.prototype,"distance",void 0),(0,n._)([(0,o.Cb)()],u.prototype,"elevation",void 0),(0,n._)([(0,o.Cb)()],u.prototype,"area",void 0),(0,n._)([(0,o.Cb)()],u.prototype,"totalLength",void 0),u=(0,n._)([(0,s.j)("esri.views.interactive.tooltip.TranslateVertexXYTooltipInfo")],u)},9856:(e,t,i)=>{i.d(t,{f:()=>T,k:()=>R});var n=i(92026),r=i(47898),o=i(68860),s=i(79347),a=i(11186),c=i(71353),l=i(79803),p=i(55652),h=i(74702),d=i(25003);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]};return f(e,t)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]};return f(e,t,!1)}function f(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.hasZ;const s=(0,d.m)(e.spatialReference),u=(0,o.oq)(s);if((0,n.Wi)(u))return null;const y=(e,t)=>!(t.length<2)&&((0,a.s)(e,t[0],t[1],i&&t[2]||0),!0);let f=0;for(const n of e.rings){const i=n.length;if(i<3)continue;const{positionsWorldCoords:r}=t;for(;r.length<i;)r.push((0,c.c)());const o=v,d=(0,a.s)(g,0,0,0),u=1/i;for(let t=0;t<i;t++){if(!y(o,n[t]))return null;if(!(0,l.SH)(o,e.spatialReference,r[t],s))return null;(0,a.z)(d,d,r[t],u)}const m=(0,p.zk)(r[0],r[1],d,(0,p.re)());if(0===(0,a.p)((0,p.mJ)(m)))continue;for(let e=0;e<i;e++)(0,p.tx)(m,d,r[e],r[e]);const _=x(r);for(let e=0;e<_.length;e+=3)f+=(0,h.wu)(r[_[e]],r[_[e+1]],r[_[e+2]])}return(0,r.ne)(f,u)}const v=(0,c.c)(),g=(0,c.c)();function x(e){return(0,s.e)(function(e){const t=new Float64Array(2*e.length);for(let i=0;i<e.length;++i){const n=e[i],r=2*i;t[r+0]=n[0],t[r+1]=n[1]}return t}(e),[],2)}i(59486);var m=i(2170),_=i(15559),C=i(47072),M=i(78952);function b(e){const{spatialReference:t}=e;return(0,C.T)(t,S,w,G,e)}function S(e){return(0,r.ne)(Math.abs((0,_.p8)([e],"square-meters")[0]),"square-meters")}function w(e){try{return(0,r.ne)(Math.abs((0,m.geodesicArea)(e,"square-meters")),"square-meters")}catch(t){return null}}function G(e){const t=[];return(0,l.K2)(e,t)?(0,r.ne)(Math.abs((0,_.p8)([{type:"polygon",rings:t,spatialReference:M.Z.WGS84}],"square-meters")[0]),"square-meters"):null}function R(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{positionsWorldCoords:[]};if("on-the-ground"===t){const t=b(e);return(0,n.pC)(t)?t:y(e,i)}return u(e,i)}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]};return R(e,"on-the-ground",t)}}}]);
//# sourceMappingURL=3362.33e09fab.chunk.js.map