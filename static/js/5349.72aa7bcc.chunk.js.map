{"version":3,"file":"static/js/5349.72aa7bcc.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/effects/EffectView.js","../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/layers/support/floorFilterUtils.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/renderers/support/rendererConversion.js","../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","../node_modules/@arcgis/core/widgets/smartMapping/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/Card.js","../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","../node_modules/@arcgis/core/widgets/Legend.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{clone as s}from\"../../core/lang.js\";import r from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as c}from\"./parser.js\";import{canInterpolateEffects as o,normalizeEffects as f}from\"./utils.js\";const l=-1;let a=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=has(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(h(t))}catch(e){this._transitionTo([]),r.getLogger(this.declaredClass).warn(\"Invalid Effect\",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&u(this._current,h(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&u(this._current,t,this.scale)?(this._final=t,this._to=s(t),_(this._current,this._to,this.scale),this._from=s(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?s(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=p(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?s(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};function h(t){const e=c(t)||[];return m(e)?[{scale:l,effects:e}]:e}function u(t,e,s){if(!t[0]?.effects||!e[0]?.effects)return!0;return!((t[0]?.scale===l||e[0]?.scale===l)&&(t.length>1||e.length>1)&&s<=0)&&o(t[0].effects,e[0].effects)}function _(t,e,s){const r=t.length>e.length?t:e,i=t.length>e.length?e:t,n=i[i.length-1],c=n?.scale??s,o=n?.effects??[];for(let f=i.length;f<r.length;f++)i.push({scale:c,effects:[...o]});for(let a=0;a<r.length;a++)i[a].scale=i[a].scale===l?s:i[a].scale,r[a].scale=r[a].scale===l?s:r[a].scale,f(i[a].effects,r[a].effects)}function p(t,e,s){return t+(e-t)*s}function m(t){const e=t[0];return!!e&&\"type\"in e}t([i()],a.prototype,\"_to\",void 0),t([i()],a.prototype,\"duration\",void 0),t([i({value:\"\"})],a.prototype,\"effect\",null),t([i({readOnly:!0})],a.prototype,\"effects\",void 0),t([i({readOnly:!0})],a.prototype,\"hasEffects\",null),t([i({value:0})],a.prototype,\"scale\",null),t([i({readOnly:!0})],a.prototype,\"transitioning\",null),a=t([n(\"esri.layers.effects.EffectView\")],a);export{a as EffectView,u as canInterpolateEffectStops,h as convertEffectToStops,_ as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{sqlAnd as i}from\"../../core/sql.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as l}from\"./commonProperties.js\";import{getLayerFloorFilterClause as n}from\"./floorFilterUtils.js\";import{isExportDynamic as y}from\"./sublayerUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&y(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const s=n(this.floors,r),o=i(s,r.definitionExpression);return t(o)&&(e[r.id]=o),e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([o({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([o()],c.prototype,\"floors\",void 0),e([o({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([o()],c.prototype,\"layer\",null),e([o({readOnly:!0})],c.prototype,\"layers\",null),e([o({readOnly:!0})],c.prototype,\"layerDefs\",null),e([o({type:Number})],c.prototype,\"scale\",void 0),e([o(l)],c.prototype,\"timeExtent\",void 0),e([o({readOnly:!0})],c.prototype,\"version\",null),e([o({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([a(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../core/maybe.js\";import{OriginId as e}from\"../../core/accessorSupport/PropertyOrigin.js\";function n(r,e,n){const i=e.flatten((({sublayers:r})=>r)).length;if(i!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!o(r,e)}function i(n,i,t){return!!n.some((n=>{const i=n.source;return!(!i||\"map-layer\"===i.type&&i.mapLayerId===n.id&&(r(i.gdbVersion)||i.gdbVersion===t))||n.originIdOf(\"renderer\")>e.SERVICE||n.originIdOf(\"labelingInfo\")>e.SERVICE||n.originIdOf(\"opacity\")>e.SERVICE||n.originIdOf(\"labelsVisible\")>e.SERVICE}))||!o(n,i)}function o(e,n){if(!e||!e.length||r(n))return!0;const i=n.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(e.length>i.length)return!1;let o=0;const t=i.length;for(const{id:r}of e){for(;o<t&&i[o]!==r;)o++;if(o>=t)return!1}return!0}function t(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}export{i as isExportDynamic,t as isSublayerOverhaul,n as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Error.js\";import{isNone as e,isSome as n}from\"../../core/maybe.js\";import{to3D as o,defaultTo3DOptions as t}from\"../../symbols/support/symbolConversion.js\";function s(r){return e(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function u(n,o){if(e(n))return null;if(!s(n))return new r(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return i(n);case\"unique-value\":return a(n,o);case\"class-breaks\":return p(n);case\"dictionary\":case\"heatmap\":return null}return null}function l(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new r(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function i(r){return l(r,o(r.symbol).error)}function a(r,e){const s={...t,...e},u=r.uniqueValueInfos?.map((r=>o(r.symbol,s).error)).filter(n),i=o(r.defaultSymbol,s);return i.error&&u?.unshift(i.error),l(r,u)}function p(r){const e=r.classBreakInfos.map((r=>o(r.symbol).error)).filter(n),t=o(r.defaultSymbol);return t.error&&e.unshift(t.error),l(r,e)}export{s as isSupportedRenderer3D,u as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return l?.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as e,getFill as o}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.includes(\"3d\"))return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const o=e(t);return o&&o.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const o=e(t);return o&&o.color}return o(t)}function H(t,e){const o=e.HH.label,r=e.LL.label,s=e.HL.label,l=e.LH.label;switch(t){case\"HH\":default:return{top:o,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:o};case\"LL\":return{top:r,bottom:o,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:o,right:r}}}function L(e,o){const r=[],s=e.length**.5,l=t(e),n=(o||\"HH\").split(\"\"),H=n[0],L=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());L&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function i(t){const{focus:e,infos:o,numClasses:r}=t,s=l[r],L={};o.forEach((t=>{L[t.value]={label:t.label,fill:n(t.symbol)}}));const i=[];for(let l=0;l<r;l++){const t=[];for(let e=0;e<r;e++){const o=L[s[l][e]];t.push(o.fill)}i.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:e,colors:i,labels:H(e,L),rotation:u(e)}}function u(t){let e=s[t];return t&&null==e&&(e=s.HH),e||0}export{L as getRelationshipRampColors2D,i as getRelationshipRampElement,u as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as o,percentChange as s}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as n}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as i,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{getSymbolForFlowRenderer as a,createStopLabel as u}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkTheme as c}from\"../../../support/themeUtils.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import f from\"../../../symbols/SimpleLineSymbol.js\";const p=30,y=12,b=[255,255,255],h=[200,200,200],d=[128,128,128],w=20,g=5;function S(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function z(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function j(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function V(e,l){const t=e.length-1;return e.map(((e,o)=>u(e,o,t,l)))}async function k(e,l,o,s,n,a,u){const c=l.legendOptions,m=c&&c.customValues,f=u||await U(e,o),p=!!f,y=!!m,b=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,d=!!l.target;if(!p||!y&&!(b||h&&!d))return;const w=i(f);let g=null,S=null,v=null;S=w&&!h?t([l.minDataValue,l.maxDataValue]):m||await D(l,f,s,n);const z=e?.authoringInfo,j=\"univariate-color-size\"===z?.type,k=j&&\"above-and-below\"===z?.univariateTheme;if(!S&&h&&(S=l.stops.map((e=>e.value)),g=l.stops.some((e=>!!e.label)),\"flow\"===e.type&&(S=t(S)),g&&(v=l.stops.map((e=>e.label)))),w&&S?.length>2&&!k&&(S=[S[0],S[S.length-1]]),!S)return null;j&&5!==S?.length&&(S=E({minSize:S[0],maxSize:S[S.length-1]}));const C=w?x(e,S):null,I=r(f),M=g?null:V(S,a);return(await Promise.all(S.map((async(t,o)=>{const i=w?C[o]:await B(l,f,t,s,n);return{value:t,symbol:P(k&&\"class-breaks\"===e.type?L(e,o):f,i),label:g?v[o]:M[o],size:i,outlineSize:I}})))).reverse()}function x(e,l){const t=e?.authoringInfo,o=\"univariate-color-size\"===t?.type;let s=[y,p];if(o){const e=l[0],t=l[l.length-1],o=y,n=p;s=l.map((l=>o+(l-e)/(t-e)*(n-o)))}return o&&\"below\"===t?.univariateTheme&&s.reverse(),s}function L(e,l){const t=e.classBreakInfos,o=t.length,s=o<2||!(l>=2)?t[0].symbol.clone():t[o-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(s.type.includes(\"3d\")?I(s):M(s)),s}async function U(e,l){if(\"flow\"===e.type)return a(e,l);if(\"pie-chart\"===e.type)return new m({color:null,outline:e.outline?.width?e.outline:new f});let t=null,o=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,o=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,o=l.length>1}return!t||C(t)?null:(t=t.clone(),(l||o)&&(t.type.includes(\"3d\")?I(t):M(t)),t)}function C(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return e.type.includes(\"fill\")}return!1}function I(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:d}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:h}:(e.material={color:b},e.outline={color:d,size:1.5})}))}function M(l){const t=c();if(\"cim\"===l.type)n(l,new e(h));else if(l.type.includes(\"line\"))l.color=d;else if(l.color=t?d:b,\"simple-marker\"===l.type)if(l.outline){const e=l.outline?.color?.toHex();\"#ffffff\"===e&&(l.outline.color=d)}else l.outline={color:d,width:1.5}}async function D(e,l,o,s){const n=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,o,s),i=n&&E(n);if(!n&&!i)return;let r=i.map((l=>T(l,e,n)));r=t(r);for(let t=1;t<r.length-1;t++){const n=await q(e,l,r[t],r[t-1],o,s);n&&(r[t]=n[0],i[t]=n[1])}return r}function E(e){const l=e.minSize,t=e.maxSize,o=g,s=(t-l)/(o-1),n=[];for(let i=0;i<o;i++)n.push(l+s*i);return n}function T(e,l,t){const o=t.minSize,s=t.maxSize,n=l.minDataValue,i=l.maxDataValue;let r=null;if(e<=o)r=n;else if(e>=s)r=i;else{r=(e-o)/(s-o)*(i-n)+n}return r}async function q(e,l,n,i,r,a){const u=await B(e,l,n,r,a),c=await B(e,l,i,r,a),m=o(n),f=m.fractional,p=w;let y=m.integer,b=null,h=null;n>0&&n<1&&(b=10**f,y=o(n*=b).integer);for(let o=y-1;o>=0;o--){const i=10**o;let m=Math.floor(n/i)*i,f=Math.ceil(n/i)*i;null!=b&&(m/=b,f/=b);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const d=await B(e,l,m,r,a),w=await B(e,l,f,r,a),g=await B(e,l,y,r,a),S=s(u,d,c,null),v=s(u,w,c,null),z=s(u,g,c,null);let j=S.previous<=p,V=v.previous<=p;if(j&&V&&(S.previous<=v.previous?(j=!0,V=!1):(V=!0,j=!1)),j?h=[m,d]:V?h=[f,w]:z.previous<=p&&(h=[y,g]),h)break}return h}async function B(e,l,t,o,s){const{getSize:n}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return n(e,t,{scale:o,view:s,shape:\"simple-marker\"===l.type?l.style:null})}function P(e,t){const o=e.clone();if(l(o))i(o)||o.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(S(o))o.size=t;else if(v(o)){const e=o.width,l=o.height;o.height=t,o.width=t*(e/l)}else z(o)?o.width=t:j(o)&&o.font&&(o.font.size=t);return o}export{p as REAL_WORLD_MAX_SIZE,y as REAL_WORLD_MIN_SIZE,k as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import{addTokenParameter as s}from\"../../../kernel.js\";import l from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import i from\"../../../core/Collection.js\";import n from\"../../../core/Handles.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{unwrap as u,isSome as c}from\"../../../core/maybe.js\";import{eachAlways as d,debounce as y}from\"../../../core/promiseUtils.js\";import{on as h,watch as m,whenOnce as f,initial as p}from\"../../../core/reactiveUtils.js\";import{px2pt as g}from\"../../../core/screenUtils.js\";import{addQueryParameters as b}from\"../../../core/urlUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as S}from\"../../../core/accessorSupport/decorators/subclass.js\";import{OriginId as L}from\"../../../core/accessorSupport/PropertyOrigin.js\";import{EffectView as v}from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as w}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as C}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as E}from\"../../../layers/support/fieldUtils.js\";import{fromJSON as I}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as R}from\"../../../renderers/support/rendererConversion.js\";import F from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as V}from\"../../../symbols/support/cimSymbolUtils.js\";import{SymbolSizeDefaults as T}from\"../../../symbols/support/previewUtils.js\";import{renderSymbol as z}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as x,renderDotDensityPreviewHTML as j,renderPieChartPreviewHTML as D,renderPreviewHTML as O}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as P}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as M}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as A,getRampStopsForPointCloud as B,getStrectchRampStops as U,getRampStops as k}from\"./colorRampUtils.js\";import{getHeatmapRampStops as N}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as q,getRelationshipRampElement as $}from\"./relationshipRampUtils.js\";import{getRampStops as W,REAL_WORLD_MAX_SIZE as G,REAL_WORLD_MIN_SIZE as J}from\"./sizeRampUtils.js\";import{SPECIAL_CHARS_LESS_THAN as Q,SPECIAL_CHARS_GREATER_THAN as H,getSymbolForFlowRenderer as X,getMedianColor as K,RGB_IMG_SOURCE as Y}from\"./utils.js\";import{formatNumberLabel as Z}from\"../../smartMapping/support/utils.js\";import ee from\"../../../symbols/SimpleMarkerSymbol.js\";import te from\"../../../symbols/SimpleFillSymbol.js\";const se=\"https://utility.arcgis.com/sharing/tools/legend\",le=\"esri.layers.ImageryLayer\",re=\"esri.layers.ImageryTileLayer\",ie=\"esri.layers.WCSLayer\",ne=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,ae=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),oe={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ue=new ee({size:6,outline:{color:[128,128,128,.5],width:.5}}),ce=new te({style:\"solid\"});function de(e){return\"flow\"===e.type}function ye(e){return\"vector-field\"===e.type}function he(e){return\"raster-colormap\"===e.type}function me(e){return\"raster-stretch\"===e.type}function fe(e){return\"raster-shaded-relief\"===e.type}function pe(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function ge(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function be(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function _e(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function Se(e){return ve(e)||we(e)||Ce(e)||Le(e)}function Le(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function ve(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function we(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function Ce(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function Ee(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function Ie(e){return\"esri.renderers.PieChartRenderer\"===e.declaredClass}function Re(e,t){return pe(e)||ge(e)||be(e)||_e(e)||Ee(e)||Ie(e)?\"2d\"===t.type||R(e):me(e)||he(e)||fe(e)||ve(e)||we(e)||Ce(e)||ye(e)||de(e)}function Fe(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function Ve(e){return\"esri.layers.SubtypeGroupLayer\"===e.declaredClass}function Te(e){return\"esri.layers.VoxelLayer\"===e.declaredClass}function ze(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function xe(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function je(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function De(e){return\"esri.layers.TileLayer\"===e.declaredClass}function Oe(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function Pe(e){return e.declaredClass===le}function Me(e){return e.declaredClass===re}function Ae(e){return e.declaredClass===ie}function Be(e){return\"stretch-ramp\"===e.type}function Ue(e){return\"univariate-color-size\"===(\"authoringInfo\"in e&&e?.authoringInfo)?.type}function ke(e){const t=\"authoringInfo\"in e&&e?.authoringInfo;return\"univariate-color-size\"===t?.type&&\"above-and-below\"===t?.univariateTheme}const Ne=new ee({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let qe={},$e=class extends r{constructor(e){super(e),this._handles=new n,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new i,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([h((()=>this.children),\"change\",(t=>{const{added:s,removed:l}=t,r=this._handles;s.forEach((t=>{const s=`activeLayerInfo-ready-watcher-${t.layer.uid}`;r.add(m((()=>t.ready),e,p),s)})),l.forEach((e=>r.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(qe={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(qe=null)}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new v,t.effect=e.effect,t.endTransitions(),t.scale=this.scale),t}get opacity(){const e=this.layer.opacity,t=this.parent?.opacity,s=this.layer.parent,l=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=t?t*e:null!=l?l*e:e}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction){if(\"cluster\"===e.featureReduction.type)return!0;if(\"binning\"===e.featureReduction.type&&\"renderer\"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return\"renderer\"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(Oe(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,s=t&&t.drawingInfo,l=s&&I(s.renderer),r=ae.read(t.geometryType);return l?this._getRendererLegendElements(l,{title:e.name,geometryType:r}):(o.getLogger(this.declaredClass).warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await d(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(s){o.getLogger(this.declaredClass).warn(\"error while building legend for layer!\",s)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForFeatureReduction(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getLegendElementsForFeatureReduction(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(Te(e))this._constructLegendElementsForVoxellayer();else if(xe(e))this._constructLegendElementsForWMTSlayer();else if(ze(e))await this._constructLegendElementsForWMSSublayers();else if(Fe(e))await this._constructLegendElementsForBuildingSceneLayer();else if(je(e)||De(e)||Ve(e))await this._constructLegendElementsForSublayers();else{this._handles.remove(\"imageryLayers-watcher\");let t=\"default\";if(Pe(e)){t=(e?.renderingRule?.functionName||\"default\")+\"_\"+(e.bandIds?.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${t}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const s=t.map((async t=>{if(Pe(e)||Me(e)){const t=m((()=>[\"renderingRule\"in e&&e.renderingRule,e.bandIds]),(()=>y((async()=>{qe.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const s=this._generateSymbolTableElementForLegendLayer(t);s&&s.infos.length&&(Pe(e)&&(s.title=e.title),this.legendElements.push(s)),this.notifyChange(\"ready\")}));await d(s)})).catch((e=>{o.getLogger(this.declaredClass).warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,s=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!s&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await f((()=>!t.updating));const l=s?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();l.geometry=this.view.extent;return 0!==(s?\"queryFeatureCount\"in t&&await t.queryFeatureCount(l):\"queryFeatureCount\"in e&&await e.queryFeatureCount(l))}_getParentLayerOpacity(e){let t=1;const s=e.parent;return s&&\"uid\"in s&&(t=this._getParentLayerOpacity(s)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isRendererScaleDriven(e){if(\"dot-density\"===e.type)return!0;const t=\"valueExpression\"in e&&e.valueExpression;if(ne.test(t))return!0;const s=\"visualVariables\"in e&&e.visualVariables;return!!s&&s.some((e=>this._isScaleDrivenSizeVariable(e)))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,s=t.minSize,l=t.maxSize;return\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):!!t.expression||ne.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&je(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const s of t.sourceJSON.layers)if(s.id===e.source.mapLayerId&&(s.minScale>0||s.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this._handles.remove(\"voxel-style-watcher\"),this._handles.remove(\"voxel-current-variable\");const e=this.layer;this._handles.add(m((()=>e.currentVariableId),(()=>this._constructLegendElementsForVoxellayer())),\"voxel-current-variable\"),this._handles.add(m((()=>e.getVariableStyles()),(()=>this._constructLegendElementsForVoxellayer())),\"voxel-style-watcher\");const t=u(e.getVariableStyle(null)),s=[];if(t)if(t.uniqueValues?.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new te({color:t.color,outline:null})})})),e.length&&s.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:l}=t.transferFunction,r=e.toArray().reverse(),i=l.map(((e,t)=>`${0===t?Q:H} ${Z(e)}`)).reverse(),n=r.map((e=>({color:e.color,value:null,label:null})));n[0].label=i[0],n[n.length-1].label=i[1],s.push({type:\"color-ramp\",title:t.label,infos:n,preview:x(r.map((e=>e.color)))})}const l=e.opacity,r=s.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,l)));await d(r),this.legendElements=s,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(m((()=>{const{layer:e}=this;return e&&\"activeLayer\"in e&&e.activeLayer}),(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((s=>e.styleId===s.id&&(t=s.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(m((()=>{const{layer:e}=this;return e&&\"sublayers\"in e&&e.sublayers}),(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const s=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const l=e.toArray();for(const r of l){const e=m((()=>[r.title,r.visible,r.legendEnabled]),(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&s.unshift(e)}}return s}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const s=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){let s=e.legendUrl;if(!s)return;const r={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(s=b(s,t));let i=null;const n=e.layer?.opacity;try{i=(await l(s,{responseType:\"image\"})).data,i&&(i.style.opacity=n)}catch{}return r.infos.push({src:s,preview:i,opacity:n}),r}_getLegendLayers(e,t){const s=qe&&qe[e];return s?Promise.resolve(s):this._legendRequest(t).then((t=>{const s=t.layers;return qe[e]=s,s}))}_legendRequest(e){const t=this.layer;let s={f:\"json\",dynamicLayers:e};if(Pe(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(s.renderingRule=JSON.stringify(e.rasterFunctionDefinition||e.toJSON())),t.bandIds&&(s.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:l,customParameters:r}=t;s={raster:e,viewId:l,...s,...r}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=se+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return l(r,{query:s}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(m((()=>e.sublayers),(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let s=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const l=e.toArray();for(const r of l){const e=m((()=>[\"renderer\"in r&&r.renderer,r.opacity,r.title,r.visible]),(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,l=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,l);e.infos.push(...t),s=[e,...s]}else if(r.renderer){s=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:l,sublayer:r}),...s]}}}return s.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(m((()=>e.sublayers),(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this.declaredClass).warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,s){const l=this.layer;let r=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let i=e.toArray();!s&&this.sublayerIds&&this.sublayerIds.length&&(i=this.sublayerIds.map((e=>l.findSublayerById(e))).filter(Boolean));for(const n of i){const e=m((()=>[n.renderer,n.opacity,n.title,n.visible,n.legendEnabled]),(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||n.visible&&n.legendEnabled&&this._isSublayerInScale(n)){const e=n&&null!=n.opacity?n.opacity:null,i=null!=e?e*t:t,a=!!Ve(l)||n.originIdOf(\"renderer\")>L.SERVICE;if(n.renderer&&!n.sublayers&&a){await n.load();r=[...await this._getRendererLegendElements(n.renderer,{title:n.title,opacity:i,sublayer:n}),...r]}else{const e=await this._generateSymbolTableElementForSublayer(n,i,s);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,s){if(!s){s=new Map;const t=this.layer,l=e.source;let r=null;if(!(!l||\"map-layer\"===l.type&&l.mapLayerId===e.id&&(!l.gdbVersion||l.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>L.SERVICE||e.originIdOf(\"labelingInfo\")>L.SERVICE||e.originIdOf(\"labelsVisible\")>L.SERVICE){const e=new C({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const i=r||`${t.uid}-default`;(await this._getLegendLayers(i,r)).forEach((e=>s.set(e.layerId,e)))}const l=s.get(e.id);if((!l||l?.subLayerIds&&l.defaultVisibility)&&e.sublayers){const l=await this._generateLegendElementsForSublayers(e.sublayers,t,s);return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendLayer(l,e,t)}_generateSymbolTableElementForLegendLayer(e,t,s){if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const l=t?.renderer;let r=t?.title||e.layerName;if(l&&(!t||t?.originIdOf(\"renderer\")>L.SERVICE)){const e=t?.title||this._getRendererTitle(l,t);e&&(r&&\"string\"!=typeof e&&\"title\"in e&&(e.title=r),r=e)}const i={type:\"symbol-table\",title:r,legendType:e.legendType?e.legendType:null,infos:[]},n=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups?.length>0?e.legendGroups.forEach((t=>{const l={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(n.filter((e=>e.groupId===t.id)),e.layerId,s)};l.infos?.length>0&&i.infos.push(l)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(n,e.layerId,s),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,l){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=s(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:l??this.opacity,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,s=e.maxScale||0;return!(t>0&&t<this.scale||s>this.scale)}_isLegendLayerInScale(e,t){const s=t||this.layer;let l=null,r=null,i=!0;return!s.minScale&&0!==s.minScale||!s.maxScale&&0!==s.maxScale?(0===e.minScale&&s.tileInfo&&(l=s.tileInfo.lods[0].scale),0===e.maxScale&&s.tileInfo&&(r=s.tileInfo.lods[s.tileInfo.lods.length-1].scale)):(l=Math.min(s.minScale,e.minScale)||s.minScale||e.minScale,r=Math.max(s.maxScale,e.maxScale)),(l>0&&l<this.scale||r>this.scale)&&(i=!1),i}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const s=t.renderer,l=e.some((e=>e.values));let r=null,i=null;return l&&e.some(((e,t)=>(e.values||(r=t,i=e,i.label||(i.label=\"others\")),null!=i))),s?\"unique-value\"===s.type?i&&(e.splice(r,1),e.push(i)):\"class-breaks\"===s.type&&(i&&e.splice(r,1),e.reverse(),i&&e.push(i)):i&&(e.splice(r,1),e.push(i)),e}async _getRendererLegendElements(e,t={}){if(!Re(e,this.view))return o.getLogger(this.declaredClass).warn(`Renderer of type '${e.type}' not supported!`),[];if(Se(e))return this._constructPointCloudRendererLegendElements(e,t);if(Ee(e))return this._constructDotDensityRendererLegendElements(e);const s=await this._loadRenderer(e);return Ie(s)?this._constructPieChartRendererLegendElements(s):this._constructRendererLegendElements(s,t)}async _getLegendElementsForFeatureReduction(e){let t=null;return\"binning\"===e.type?t=e.renderer:\"cluster\"===e.type&&(t=this._getClusterRenderer(e)),t?this._getRendererLegendElements(t):[]}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const s=t.title,l=[];let r=null,i=null;if(ve(e))r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(ue,e.color)})}));else if(we(e)){const t=e.stops;let l=null;if(t.length&&(1===t.length&&(l=t[0].color),!l)){const e=t[0].value,s=t[t.length-1].value;if(null!=e&&null!=s){l=A(e+(s-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(ue,l||ue.color)}]};const n=B(e.stops);i={type:\"color-ramp\",title:s||this._getPointCloudRendererTitle(e),infos:n,preview:x(n.map((e=>e.color)))}}else Ce(e)&&(r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(ue,e.color)})})));r&&r.infos.length&&l.push(r),i&&i.infos.length&&l.push(i);const n=l.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return d(n).then((()=>l))}_getElementInfoForDotDensity(e,t){const{backgroundColor:s,outline:l,dotSize:r}=e,i=this.effectList?.effects.map((e=>e.toJSON())),n=w(i),a=r+\"-\"+t+\"-\"+s+\"-\"+(l&&JSON.stringify(l.toJSON()))+\"-\"+n,o=this._dotDensityUrlCache,u=o.has(a)?o.get(a):j(e,t);o.set(a,u);const c={shape:{type:\"image\",x:0,y:0,width:u.width,height:u.height,src:u.src},fill:null,stroke:null,offset:[0,0]},d=z([[c]],[u.width,u.height],{effectView:this.effectList});return{opacity:1,src:u.src,preview:d,width:u.width,height:u.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),s=e.legendOptions&&e.legendOptions.unit,l={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:s||\"\"},infos:[]};return e.attributes.forEach((t=>{const s=this._getElementInfoForDotDensity(e,t.color);s.label=t.label||t.valueExpressionTitle||t.field,l.infos.push(s)})),Promise.resolve([l])}async _constructPieChartRendererLegendElements(e){const t=this.layer.opacity,s=[],l=\"Others\",r=e.outline;e.attributes.forEach((e=>{const t=new ee({color:e.color,outline:r}),l=e.label||e.valueExpressionTitle||e.field;s.push({label:l,symbol:t})}));const i=s.length?[...s]:[];if(e.othersCategory?.color&&0!==e.othersCategory?.threshold){const t=new ee({color:e.othersCategory.color,outline:r});s.push({label:e.othersCategory.label||l,symbol:t})}if(e.defaultColor?.a){const t=new ee({color:e.defaultColor,outline:r});s.push({label:e.defaultLabel,symbol:t})}const n=await this._getVisualVariableLegendElements(e,this.layer)||[];if(s.length){n.unshift({type:\"symbol-table\",title:null,infos:s});const t=i.filter((e=>e.label!==l)).map((e=>e.symbol.color)).filter(Boolean),a=D(t,{holePercentage:e.holePercentage,backgroundColor:e.backgroundFillSymbol?.color,effectList:this.effectList,outline:r});n.unshift({type:\"pie-chart-ramp\",title:this._getRendererTitle(e,this.layer),infos:s,preview:a})}const a=n.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol&&!e?.preview)).map((e=>this._getSymbolPreview(e,t,{effectList:this.effectList})));return await d(a),n}async _constructRendererLegendElements(e,t={}){const{title:s,sublayer:l}=t,r=l||this.layer;this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const i=await this._getVisualVariableLegendElements(e,r)||[],n={type:\"symbol-table\",title:s||this._getRendererTitle(e,r),infos:[]};let a=null,o=!1;const c=new Set;if(de(e)&&!this._hasSizeRamp){const t=await X(e);n.infos.push({label:null,symbol:t})}else if(Ue(e)){let t=s;const l=ke(e)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",r=i.findIndex((e=>\"color-ramp\"===e.type)),n=-1!==r?i.splice(r,1)[0]:null,a=i.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?i.splice(a,1)[0]:null,u=[];n&&(t=n.title,u.push(n)),o&&(t=o.title,u.push(o)),u.length>0&&i.push({type:l,title:t,infos:u})}else if(_e(e)){const t=N(e);i.push({type:\"heatmap-ramp\",title:s||this._getRendererTitle(e,r),infos:t,preview:x(t.map((e=>e.color)),{effectList:this.effectList})})}else if(be(e)){const t=e&&e.authoringInfo;if(t&&\"relationship\"===t.type){const{focus:s,numClasses:l,field1:a,field2:o}=t;if(l&&a&&o){const t=[a,o];let u=q(s)||0;for(const e of t){const{field:t,normalizationField:s,label:l}=e,i=l||{field:this._getFieldAlias(t,r),normField:s&&this._getFieldAlias(s,r)},a=Ne.clone();a.angle=u,n.infos.push({label:i,symbol:a}),c.add(a),u+=90}const d=$({focus:s,numClasses:l,infos:e.uniqueValueInfos});i.unshift(d)}}else if(Pe(this.layer)||Me(this.layer))e.uniqueValueInfos.forEach((e=>{e.symbol&&n.infos.push({label:e.label||e.value,value:e.value,symbol:e.symbol})}));else{const{field:t,field2:s,field3:l,fieldDelimiter:i,valueExpression:a}=e,o=!(!t&&!a||!s&&!l),u=[];if(e.uniqueValueGroups.forEach((e=>{const n={type:\"symbol-table\",title:e.heading,infos:[]};e.classes.forEach((e=>{const{symbol:u,values:c}=e;if(u){const d=[],y=[];for(const e of c){const{value:n,value2:u,value3:c}=e,h=[],m=[];(t||a)&&(h.push(n),m.push(this._getDomainName(t,n,r))),s&&(h.push(u),m.push(this._getDomainName(s,u,r))),l&&(h.push(c),m.push(this._getDomainName(l,c,r))),d.push(o?h.join(i||\"\"):h[0]),y.push(m.join(\" - \"))}const h=d.join(\", \");let m=e.label;if(!m){const e=y.filter(Boolean);m=e.length?e.join(\", \"):h}n.infos.push({label:m,value:h,symbol:u})}})),n.infos.length&&u.push(n)})),u.length){const e=u[0];1===u.length&&\"title\"in e&&!e.title?n.infos.push(...e.infos):n.infos.push(...u)}}e.defaultSymbol&&(n.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),o=!0)}else if(ge(e)){a=this._isUnclassedRenderer(e);(!a||!this._hasSizeRamp)&&(e.classBreakInfos.forEach((e=>{e.symbol&&n.infos.unshift({label:e.label||(a?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),a&&(n.title=null),this._updateInfosforClassedSizeRenderer(e,n.infos)),e.defaultSymbol&&!a&&(n.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),o=!0)}else if(me(e))if(Me(this.layer)||Ae(this.layer)){const t=this._constructTileImageryStretchRendererElements(e);Be(t)?i.push(t):n.infos=t}else{const t=this.layer;let s,l;e.statistics&&e.statistics.length&&(s=null!=e.statistics[0].min?e.statistics[0].min:e.statistics[0][0],l=null!=e.statistics[0].max?e.statistics[0].max:e.statistics[0][1]);let r=[];const a=u(t.renderingRule?await t.generateRasterInfo(t.renderingRule):t.serviceRasterInfo),o=a.keyProperties.BandProperties,c=oe[t.rasterInfo.pixelType.toLowerCase()];1===a.bandCount||t.bandIds&&1===t.bandIds.length?(s=null!=s?s:a.statistics?a.statistics[t.bandIds[0]].min:c[0],l=null!=l?l:a.statistics?a.statistics[t.bandIds[0]].max:c[1],s||l?i.push(this._getStretchLegendElements(e,{min:s,max:l})):this._getServerSideLegend()):a.bandCount>=3?o&&o.length>=a.bandCount?t.bandIds&&3===t.bandIds.length?(r=t.bandIds.map((e=>o[e].BandName)),n.infos=this._createSymbolTableElementMultiBand(r)):\"lerc\"===t.format?(r=[0,1,2].map((e=>o[e].BandName)),n.infos=this._createSymbolTableElementMultiBand(r)):this._getServerSideLegend():\"lerc\"===t.format?(r=[\"band1\",\"band2\",\"band3\"],n.infos=this._createSymbolTableElementMultiBand(r)):this._getServerSideLegend():this._getServerSideLegend()}else if(he(e))e.colormapInfos.forEach((e=>{n.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(ce,e.color)})}));else if(pe(e)){let s=e.symbol;switch(t.geometryType){case\"point\":s=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":s=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":s=\"polygonSymbol\"in r&&r.polygonSymbol}const l=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;e.symbol&&l&&n.infos.push({label:e.label,symbol:s})}else if(ye(e)){e.outputUnit&&(this.title=\"(\"+e.toJSON().outputUnit+\")\"),n.title=e.attributeField;const t=e.getClassBreakInfos();t?.length?t.forEach((e=>{n.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):n.infos.push({label:e.attributeField,symbol:e.getDefaultSymbol()})}else fe(e)&&i.push(this._getStretchLegendElements(e,{min:0,max:255}));const y=e.defaultSymbol;!y||o||pe(e)||a&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||i.push({type:\"symbol-table\",infos:[{label:e.defaultLabel||\"others\",symbol:y}]}),n.infos.length&&i.unshift(n);const h=null==t.opacity?this.opacity:t.opacity,m=this._isTallSymbol(\"visualVariables\"in e&&e.visualVariables),f=Pe(this.layer)||Me(this.layer),p=i.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,h,{isDefault:e.symbol===y,applyScaleDrivenSize:!c.has(e.symbol),symbolConfig:{isTall:m,isSquareFill:f},effectList:c.has(e.symbol)?null:this.effectList})));return e=null,await d(p),i}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=e?.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){const t=this.layer,s=t.rasterInfo,l=s.bandCount||e.statistics.length;let r,i,n=[];const a=s.keyProperties&&s.keyProperties.BandProperties,o=e?.statistics?.length?e.statistics:s?.statistics;if(o)r=void 0!==o[0].min?o[0].min:o[0][0],i=o[0].max||o[0][1];else{const e=oe[t.rasterInfo.pixelType.toLowerCase()];r=e[0],i=e[1]}if(t.hasStandardTime()&&(r=t.getStandardTimeValue(r),i=t.getStandardTimeValue(i)),1===s.bandCount||1===t.bandIds?.length)return this._getStretchLegendElements(e,{min:r,max:i});function u(e){const l=(t?.bandIds?.length?t.bandIds:Array.from(Array(Math.min(s.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return n=a&&a.length>=l?u(a):u(),this._createSymbolTableElementMultiBand(n)}_getStretchLegendElements(e,t){const s=e.colorRamp,l=U(s,t);return{type:\"stretch-ramp\",title:\"\",infos:l,preview:x(l.map((e=>e.color)))}}_getClusterSymbol(){const e=this.layer,t=\"featureReduction\"in e&&e.featureReduction,s=t&&\"symbol\"in t&&t.renderer;return s&&!0!==s?.authoringInfo?.isAutoGenerated?null:t&&\"symbol\"in t&&t.symbol}async _getSizeLegendElement(e,t,s,l){return{type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await W(s,t,await K(s),this.scale,this.view.type,l,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(e){const t=[],s=[\"red\",\"green\",\"blue\"];return e.forEach(((e,l)=>{t.push({label:{colorName:s[l],bandName:e},src:Y[l],opacity:this.opacity??1})})),t}_updateInfosforClassedSizeRenderer(e,t){const s=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,l=e.classBreakInfos.some((e=>P(e.symbol)));if(s&&l){const s=G,l=J,r=e.classBreakInfos.length,i=(s-l)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=s-i*t}))}}_isTallSymbol(e){let t=!1,s=!1;if(e)for(let l=0;l<e.length&&(!t||!s);l++){const r=e[l];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(s=!0))}return t&&s}async _getSymbolPreview(e,t,s){let l=!s?.isDefault&&null==e.size&&this._hasSizeRamp?g(T.size):e.size;if(this._scaleDrivenSizeVariable&&s?.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");l=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return O(e.symbol,{size:l,opacity:t,scale:!1,symbolConfig:s?.symbolConfig,effectView:s?.effectList}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}_getClusterRenderer(e){this._hasClusterSizeVariable=!1;const t=\"renderer\"in this.layer&&this.layer.renderer,s=e.renderer?.clone()||t?.clone(),l=u(M(this.layerView._effectiveRenderer,this.view));if(l&&\"visualVariables\"in s){const t=s.visualVariables?.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!ne.test(e.valueExpression)));if(!t){if(\"clusterMinSize\"in e&&\"clusterMaxSize\"in e){const{clusterMinSize:t,clusterMaxSize:s}=e;l.legendOptions=new F({showLegend:t!==s})}const t=s.visualVariables||[];s.visualVariables=t.concat([l]),this._hasClusterSizeVariable=!0}}return s}async _loadRenderer(e){const t=[],s=e.clone(),l=await K(s);if(ge(s)||be(s)){const e=(s.classBreakInfos||s.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,l).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(t,e)}return t.push(this._fetchSymbol(s.symbol||s.defaultSymbol,s.defaultSymbol?null:l).then((e=>{this._applySymbolToRenderer(s,e,pe(s))})).catch((()=>{this._applySymbolToRenderer(s,null,pe(s))}))),d(t).then((()=>s))}_applySymbolToRenderer(e,t,s){s?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(\"web-style\"===e.type){const s=this._webStyleSymbolCache;try{const l=await(\"2d\"===this.view.type?e.fetchCIMSymbol({cache:s}):e.fetchSymbol({cache:s}));return this._getAppliedCloneSymbol(l,t)}catch{throw o.getLogger(this.declaredClass).warn(\"Fetching web-style failed!\"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,s){if(!e||!s)return e;const l=e.clone(),r=s&&s.toRgba();return l.type.includes(\"3d\")?this._applyColorTo3dSymbol(l,r):\"cim\"===l.type?V(l,s):l.color&&(l.color=new t(r||l.color)),l}_applyColorTo3dSymbol(e,s){s&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(s))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const s=e.visualVariables,l=[],r=[],i=[];for(const c of s)\"color\"===c.type?l.push(c):\"size\"===c.type?r.push(c):\"opacity\"===c.type&&i.push(c);const n=[...l,...r,...i];let a,o;if(0===l.length&&ge(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];a=t&&t.symbol}if(0===l.length&&pe(e)&&(a=e.symbol),a)if(a.type.includes(\"3d\")){const e=a.symbolLayers.getItemAt(0);\"water\"===e.type?c(e.color)&&(o=e.color):c(e.material)&&c(e.material.color)&&(o=e.material.color)}else a.url||(o=a.color);const u=this.effectList;return(await Promise.all(n.map((async s=>{if(!s.legendOptions||!1!==s.legendOptions.showLegend){const l=de(e)?s.field:this._getRampTitle(s,t);let r=null;const i=\"getField\"in t&&t.getField&&t.getField(s.field),n=i&&E(i);if(\"color\"===s.type){const e=await k(s,null,n);r={type:\"color-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasColorRamp||(this._hasColorRamp=!(null==r.infos||!r.infos.length))}else if(\"size\"===s.type&&\"outline\"!==s.target)ne.test(s.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=s):(r=await this._getSizeLegendElement(l,s,e,n),this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===s.type){const e=await k(s,o,n);r={type:\"opacity-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==r.infos||!r.infos.length))}return r&&r.infos?r:null}})))).filter((e=>!!e))}_getDomainName(e,t,s){if(e&&\"function\"!=typeof e){const l=\"getField\"in s&&s.getField&&s.getField(e),r=l&&\"getFieldDomain\"in s&&s.getFieldDomain?s.getFieldDomain(l.name):null;return r&&\"coded-value\"===r.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,s=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,l=\"popupTemplate\"in e&&e.popupTemplate,r=l&&l.fieldInfos;if(r)for(const t of r)if(t.fieldName===s)return\"cluster_count\"===s?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let s=e.field,l=e.normalizationField,r=!1,i=!1,n=!1,a=null;s=\"function\"==typeof s?null:s,l=\"function\"==typeof l?null:l;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const s=e[t];if(\"color\"===s.type){if(\"ratio\"===s.style){r=!0;break}if(\"percent\"===s.style){i=!0;break}if(\"percent-of-total\"===s.style){n=!0;break}}}}a={field:s&&this._getFieldAlias(s,t),normField:l&&this._getFieldAlias(l,t),ratio:r,ratioPercent:i,ratioPercentTotal:n}}return a}_getRendererTitle(e,t){const s=e;if(s.legendOptions&&s.legendOptions.title)return s.legendOptions.title;if(s.valueExpressionTitle)return s.valueExpressionTitle;let l=s.field,r=null,i=null;if(ge(s)&&(r=s.normalizationField,i=\"percent-of-total\"===s.normalizationType),l=\"function\"==typeof l?null:l,r=\"function\"==typeof r?null:r,be(s)){const{field2:e,field3:r,fieldDelimiter:i}=s;let n=l&&this._getFieldAlias(l,t);return e&&(n=`<${n}>${i}<${this._getFieldAlias(e,t)}>`,r&&(n=`${n}${i}<${this._getFieldAlias(r,t)}>`)),n}let n=null;return(l||r)&&(n={field:l&&this._getFieldAlias(l,t),normField:r&&this._getFieldAlias(r,t),normByPct:i}),n}_getFieldAlias(e,t){const s=\"popupTemplate\"in t&&t.popupTemplate,l=s&&s.fieldInfos;let r=null;l&&l.some((t=>e===t.fieldName&&(r=t,!0)));let i=null;\"getField\"in t&&t.getField?i=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(i=t.fieldsIndex.get(e));let n=null;const a=\"featureReduction\"in t&&t.featureReduction;a&&(!r&&\"popupTemplate\"in a&&a.popupTemplate&&a.popupTemplate.fieldInfos&&a.popupTemplate.fieldInfos.some((t=>e?.toLowerCase()===t.fieldName?.toLowerCase()&&(r=t,!0))),\"fields\"in a&&a.fields&&(n=a.fields.find((t=>t.name?.toLowerCase()===e?.toLowerCase()))));const o=r||i||n;let u=null;return o&&(u=r?.label||i?.alias||n?.alias||\"name\"in o&&o.name||\"fieldName\"in o&&o.fieldName),u}_isUnclassedRenderer(e){const t=e.visualVariables;let s=!1;return ge(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(s=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),s}};e([_()],$e.prototype,\"children\",void 0),e([_({readOnly:!0})],$e.prototype,\"effectList\",null),e([_()],$e.prototype,\"layerView\",void 0),e([_()],$e.prototype,\"layer\",void 0),e([_()],$e.prototype,\"legendElements\",void 0),e([_({readOnly:!0})],$e.prototype,\"opacity\",null),e([_()],$e.prototype,\"parent\",void 0),e([_({readOnly:!0,dependsOn:[]})],$e.prototype,\"ready\",null),e([_()],$e.prototype,\"hideLayersNotInCurrentView\",void 0),e([_()],$e.prototype,\"keepCacheOnDestroy\",void 0),e([_()],$e.prototype,\"respectLayerVisibility\",void 0),e([_({readOnly:!0})],$e.prototype,\"scale\",null),e([_()],$e.prototype,\"sublayerIds\",void 0),e([_({readOnly:!0})],$e.prototype,\"isScaleDriven\",null),e([_()],$e.prototype,\"title\",void 0),e([_({readOnly:!0,dependsOn:[\"ready\"],value:0})],$e.prototype,\"version\",null),e([_()],$e.prototype,\"view\",void 0),$e=e([S(\"esri.widgets.Legend.support.ActiveLayerInfo\")],$e);const We=$e;export{We as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../../Color.js\";import{isNone as n}from\"../../../core/maybe.js\";import{formatDate as i}from\"../../../intl/date.js\";import{formatNumber as o}from\"../../../intl/number.js\";import{timelineDateFormatOptions as e}from\"../../../renderers/support/utils.js\";import r from\"../../../renderers/visualVariables/SizeVariable.js\";function a(t){return i(new Date(t),e)}function s(t){const n=2,i=Math.floor(Math.log10(Math.abs(t)))+1,e=i<4||i>6?4:i,r=1e6,a=Math.abs(t)>=r?\"compact\":\"standard\";return o(t,{notation:a,minimumSignificantDigits:n,maximumSignificantDigits:e})}function u(t,i,o){if(n(i)||n(t))return[];const e=[];for(let n=-1*o;n<=o;n++)0!==n&&e.push(i+n*t);return e}function m(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:a}=t,s=n-i;let u,m=`M0 0 L${r} 0 `;const h=3===a.length?[a[0],a[1],a[2]]:[a[0],a[2],a[4]],f=Math.min.apply(Math,h.map((t=>t.size))),p=Math.max(Math.abs(h[0].size-h[1].size),Math.abs(h[2].size-h[1].size));return h.reverse(),h.forEach((({size:t,value:n},a)=>{const h=Math.round((t-f)/p*100)/100,c=Math.round(e-(n-i)/s*e);u=h*r,0===u&&(u=o*r),0===a&&(m+=`L${u} 0 `),m+=`L${u} ${c} `})),m+=`L${u} ${e} L0 ${e} L0 0 Z`,m}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:a,topValue:s,topWidth:u}=t,m=u*a,h=i*a,f=o-e,p=Math.round(r-(n-e)/f*r);return`M${m} 0 L${m} ${Math.round(r-(s-e)/f*r)} L${h} ${p} L${h} ${r} L0 ${r} L0 0 Z`}function f(t){let n=t.maxSize,i=t.minSize;return n instanceof r&&(n=n.stops[0].size),i instanceof r&&(i=i.stops[0].size),[n,i]}function p(t,n,i){const o=i.length-1,e=i[0],r=i[o]-e,a=n-t,s=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*a+t;s.push({index:u,value:n})}return s.unshift({index:0,value:t}),s.push({index:o,value:n}),s}function c(n){return n instanceof t?n.toCss(!0):t.fromString(n).toCss(!0)}export{a as formatDateLabel,s as formatNumberLabel,u as getDeviationValues,m as getDynamicPathForSizeStops,c as getFillFromColor,h as getPathForSizeStops,f as getSizesFromVariable,p as getStopChanges};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Handles.js\";import{watch as s,initial as a,when as n}from\"../../core/reactiveUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as d}from\"../../intl/locale.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=r.ofType(y),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.SubtypeGroupLayer\",\"esri.layers.TileLayer\",\"esri.layers.VoxelLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],u=\"view.basemapView.baseLayerViews\",_=\"view.groundView.layerViews\",f=\"view.basemapView.referenceLayerViews\",p=[u,_,\"view.layerViews\",f];let v=class extends i{constructor(e){super(e),this._handles=new t,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(s((()=>this.view),(()=>this._viewHandles()),a),h.view),this._handles.add(d((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(s((()=>this.state),(()=>this._stateHandles()),a),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",(e=>this._allLayerViewsChangeHandle(e))),h.allLayerViews),this._handles.add(s((()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible]),(()=>this._propertiesChangeHandle())),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&e.includes(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const t=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-t}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===u||e===f),r=!this.groundLegendVisible&&e===_;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!L.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(s((()=>[e.legendEnabled,e.layer?.legendEnabled]),(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){const i=e.layer,r=e.uid,t=this._layerInfosByLayerViewId[r];let o=this._activeLayerInfosByLayerViewId[r];if(!o){const s=t&&void 0!==t.title&&t.layer.uid===i.uid;o=new y({layer:i,layerView:e,title:s?t.title:i.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:t&&t.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[r]=o}const l=i.parent&&\"uid\"in i.parent&&this._layerViewByLayerId[i.parent?.uid];if(o.parent=this._activeLayerInfosByLayerViewId[l?.uid],!this._handles.has(r)){const t=[s((()=>i.title),(e=>this._titleHandle(e,o))),s((()=>[i.opacity,\"renderer\"in i&&i.renderer,\"pointSymbol\"in i&&i.pointSymbol,\"lineSymbol\"in i&&i.lineSymbol,\"polygonSymbol\"in i&&i.polygonSymbol]),(()=>this._constructLegendElements(o))),n((()=>!0===this.view?.stationary),(()=>this._scaleHandle(o)),a),s((()=>e._effectiveRenderer),(()=>this._constructLegendElements(o))),s((()=>\"effect\"in i&&i.effect),(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const r=s((()=>e.legendEnabled),(e=>this._legendEnabledHandle(e,o))),a=s((()=>i.legendEnabled),(e=>this._legendEnabledHandle(e,o)));t.push(r,a)}this._handles.add(t,r)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&!this.activeLayerInfos.includes(e)){const i=e.parent;if(i)i.children.includes(e)||i.children.push(e),this._sortActiveLayerInfos(i.children);else{const i=this.layerInfos?.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r&&this._layerViewByLayerId[r?.uid],s=this._activeLayerInfosByLayerViewId[t?.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"featureReduction\"in i&&i.featureReduction&&\"renderer\"in i.featureReduction&&(\"binning\"===i.featureReduction.type||\"cluster\"===i.featureReduction.type)?e.buildLegendElementsForFeatureReduction(i.featureReduction):\"renderer\"in i&&i.renderer&&!(\"sublayers\"in i)?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([o({type:c})],v.prototype,\"activeLayerInfos\",void 0),e([o()],v.prototype,\"basemapLegendVisible\",void 0),e([o()],v.prototype,\"groundLegendVisible\",void 0),e([o()],v.prototype,\"hideLayersNotInCurrentView\",void 0),e([o()],v.prototype,\"keepCacheOnDestroy\",void 0),e([o()],v.prototype,\"respectLayerVisibility\",void 0),e([o()],v.prototype,\"layerInfos\",void 0),e([o({readOnly:!0})],v.prototype,\"state\",null),e([o()],v.prototype,\"view\",void 0),v=e([l(\"esri.widgets.Legend.LegendViewModel\")],v);const I=v;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as t,computeBBox as s,getTransformMatrix as i}from\"../../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../../symbols/support/utils.js\";import{isRTL as n,classes as d}from\"../../../support/widgetUtils.js\";import{tsx as m}from\"../../../support/jsxFactory.js\";const u=\"http://www.w3.org/2000/svg\",b={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function p(e,a,r,l){const{focus:t,labels:s}=e,i=!!t,o=c(e,a,r,l),u={justifyContent:\"center\"},p=n();return i?m(\"div\",{class:b.diamondContainer,styles:u},m(\"div\",{class:b.diamondLeftCol},p?s.right:s.left),m(\"div\",{class:b.diamondMidCol},m(\"div\",{class:b.diamondMidColLabel},s.top),o,m(\"div\",{class:b.diamondMidColLabel},s.bottom)),m(\"div\",{class:b.diamondRightCol},p?s.left:s.right)):m(\"div\",{class:b.squareTable},m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightBottom)},p?s.top:s.left),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftBottom)},p?s.left:s.top)),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:b.squareTableCell}),o,m(\"div\",{class:b.squareTableCell})),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightTop)},p?s.right:s.bottom),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftTop)},p?s.bottom:s.right)))}function h(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${t})`;break;case\"LH\":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function c(n,d,p,c,f=60){const{focus:q,numClasses:k,colors:T,rotation:_}=n,g=!!q,L=Math.sqrt(f**2+f**2)+(g?0:5),C=[],v=[],w=[],y=(f||75)/k;for(let s=0;s<k;s++){const i=s*y;for(let o=0;o<k;o++){const n=o*y,d=e(T[s][o]),m=a(null),u={type:\"rect\",x:n,y:i,width:y,height:y};C.push(r(d)),v.push(l(u,d.fill,m,null)),w.push(t(u))}}const x=10,R=15,$=15,E=10;let M=null;g||(M=\"margin: -15px -15px -18px -15px\");const S=h(\"left\",q,d),j=h(\"right\",q,d),B=s(w),H=i(B,L,L,0,!1,_,!1),U=i(B,L,L,0,!1,g?-45:null,!1),W={filter:o(c),opacity:null==p?null:`${p}`};return m(\"div\",{styles:W,class:g?b.diamondMidColRamp:b.squareTableCell},m(\"svg\",{xmlns:u,width:L,height:L,style:M},m(\"defs\",null,m(\"marker\",{id:`${d}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),m(\"marker\",{id:`${d}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),C),m(\"g\",{transform:H},v),m(\"g\",{transform:U},m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:-x,y1:f-R,x2:-x,y2:R}),m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":j.markerStart,\"marker-end\":j.markerEnd,x1:$,y1:f+E,x2:f-$,y2:f+E}))))}export{p as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const n=t(),l=10,r=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${r}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),n.append(o,f.bind(null,t)),o}function m(t,o,i=\"vertical\",n){t.infos.forEach(((t,l)=>{if(n&&2===l)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),n=\"div\"===t.preview.tagName.toLowerCase(),l=n?t.preview:document.createElement(\"div\");l.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?l.style.width=`${o}px`:l.style.height=`${o}px`,n||l.appendChild(t.preview),t.preview=l}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),n=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return n.className=c.colorRamp,null!=t.opacity&&(n.style.opacity=t.opacity.toString()),n}function h(t,o,i,n=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=m;v<=u;v++)if(i&&v===p)c+=\"horizontal\"===n?l:r;else{c+=e(f[v].size)+(\"horizontal\"===n?a:s)}return Math.round(c)}function y(t,o,i,n=\"vertical\"){const c=h(t,o,i,n),f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[m].size+f[u].size:\"above\"===o?f[m].size:f[u].size,y=i?\"vertical\"===n?r:l:0,d=\"vertical\"===n?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let n=i.find((({type:e})=>\"size-ramp\"===e)),l=i.find((({type:e})=>\"color-ramp\"===e));return n&&(n={...n},n.infos=[...n.infos],m(n,t,o,!0)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===o&&(n?.infos.reverse(),l?.infos.reverse()),{sizeRampElement:n,colorRampElement:l}}function b(e,t=\"vertical\"){const o=e.infos;let i=o.find((({type:e})=>\"size-ramp\"===e)),n=o.find((({type:e})=>\"color-ramp\"===e));return i&&(i={...i},i.infos=[...i.infos],m(i,null,t,!1)),n&&(n={...n},n.infos=[...n.infos]),\"horizontal\"===t&&(i?.infos.reverse(),n?.infos.reverse()),{sizeRampElement:i,colorRampElement:n}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,b as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import t from\"../../../core/Handles.js\";import{watch as s}from\"../../../core/reactiveUtils.js\";import{pt2px as i}from\"../../../core/screenUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as o}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as l}from\"../../../symbols/support/utils.js\";import n from\"../../Widget.js\";import{renderRelationshipRamp as c}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as d,getUnivariateSizeRampSize as p,getUnivariateColorRampSize as m,getUnivariateColorRampPreview as h,getUnivariateColorRampMargin as y,getUnivariateColorSizeRampElements as g}from\"./support/univariateUtils.js\";import{getTitle as _,attachToNode as v,isImageryStretchedLegend as u}from\"../support/styleUtils.js\";import{Heading as f,incrementHeadingLevel as b}from\"../../support/Heading.js\";import{accessibleHandler as w}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as L}from\"../../support/decorators/messageBundle.js\";import{tsx as C}from\"../../support/jsxFactory.js\";import{isRTL as x}from\"../../support/widgetUtils.js\";import{substitute as S}from\"../../../intl/substitute.js\";const R={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",pieChartRampPreview:\"esri-legend--card__pie-chart-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\"},z=25,$=25,I=768,k=100;var A;!function(e){e.Auto=\"auto\",e.Stack=\"stack\",e.SideBySide=\"side-by-side\"}(A||(A={}));const N=\"#ddd\",j=window.devicePixelRatio;function E(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function F(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let T=class extends n{constructor(e,s){super(e,s),this._handles=new t,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=A.Stack,this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.addHandles(s((()=>this.activeLayerInfos),(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)})))}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=this.layout===A.Auto&&this.view.container.clientWidth<=I||this.layout===A.Stack;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=S(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return C(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(R.indicator,{[R.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),r=this._hasIndicators&&s>1?C(\"div\",{class:R.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,o={[R.stacked]:this._hasIndicators};return C(\"div\",{class:this.classes(R.base,o)},a||C(\"div\",{class:R.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(s((()=>e.version),(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return C(\"div\",{key:e.layer.uid,class:this.classes(R.service,R.groupLayer)},C(\"div\",{class:R.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[R.groupLayerChild]:!!e.parent};return C(\"div\",{key:e.layer.uid,class:this.classes(R.service,r)},C(\"div\",{class:R.serviceCaptionContainer},C(\"div\",{class:R.serviceCaptionText},e.title)),C(\"div\",{class:R.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1,r=!1){const a=\"color-ramp\"===e.type,o=\"opacity-ramp\"===e.type,l=\"size-ramp\"===e.type,n=t.layer;let d=null;if(\"string\"==typeof e.title)d=e.title;else if(e.title){const t=e.title,s=_(this.messages,t,a||o);d=t.title?`${t.title} (${s})`:s}const p=this._getSectionName(n,e,s),m=this._hasIndicators&&!r?C(\"div\",null,C(f,{level:this.headingLevel,class:R.carouselTitle},t.title),C(f,{level:b(this.headingLevel),class:R.layerCaption},d)):d?C(f,{level:this.headingLevel,class:R.layerCaption},d):null,h=t.effectList;let y=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[R.symbolRow],t={[R.labelContainer]:!e&&!i,[R.relationshipLabelContainer]:i};y=C(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?y=this._renderLegendForRamp(e,n.opacity,h):l?y=this._renderSizeRamp(e,n.opacity):\"pie-chart-ramp\"===e.type?y=this._renderPieChartRamp(e):\"relationship-ramp\"===e.type?y=c(e,this.id,n.opacity,h):\"univariate-above-and-below-ramp\"===e.type?y=this._renderUnivariateAboveAndBelowRamp(e,n.opacity,h):\"univariate-color-size-ramp\"===e.type&&(y=this._renderUnivariateColorSizeRamp(e,n.opacity,h));if(!y)return null;const g=C(\"div\",{key:p,class:R.section,id:`${p}-panel`,role:\"tabpanel\",\"aria-labelledby\":p,tabIndex:0},[m,y]);return r||this._sectionMap.set(p,g),g}_renderPieChartRamp(e){return C(\"div\",{class:R.pieChartRampPreview,bind:e.preview,afterCreate:v})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=d(e,t,\"horizontal\");if(!i)return null;const a=p(i,\"full\",!0,\"horizontal\"),o=m(i,\"above\",!0,\"horizontal\"),l=m(i,\"below\",!0,\"horizontal\"),n=12,c=h(r,{width:o,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s}),g=h(r,{width:l,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s}),_=y(i,\"card\"),u=i.infos.map((e=>e.label)),f=u.length-1,b=u.map(((e,t)=>0===t||t===f?C(\"div\",{key:t},e):null)),w={display:\"flex\",flexDirection:\"column\"},L={display:\"flex\",flexDirection:\"row\"},S={marginTop:\"3px\",display:\"flex\"};x(this.container)?S.marginRight=`${_}px`:S.marginLeft=`${_}px`;const z={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:R.layerRow,key:\"size-ramp-preview\",styles:w},C(\"div\",{class:this.classes(R.symbolContainer,R.sizeRampHorizontal),styles:L},i.infos.map(((e,t)=>C(\"div\",{key:t,class:R.symbol,bind:e.preview,afterCreate:v})))),c?C(\"div\",{class:R.univariateAboveAndBelowColorRamp,styles:S,key:\"color-ramp-preview\"},C(\"div\",{bind:c,afterCreate:v}),C(\"div\",{bind:g,afterCreate:v})):null,C(\"div\",{class:R.layerInfo},C(\"div\",{class:R.rampLabelsContainer,styles:z},b)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=g(e,\"horizontal\");if(!i)return null;const a=p(i,\"full\",!1,\"horizontal\"),o=m(i,\"full\",!1,\"horizontal\"),l=h(r,{width:o,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s}),n=y(i,\"card\"),c=i.infos.length-1,d=i.infos.map(((e,t)=>0===t||t===c?C(\"div\",{key:t},e.label):null)),_={display:\"flex\",flexDirection:\"column\"},u={display:\"flex\",flexDirection:\"row\"},f={marginTop:\"3px\",display:\"flex\"};x(this.container)?f.marginRight=`${n}px`:f.marginLeft=`${n}px`;const b={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return C(\"div\",{class:R.layerRow,key:\"size-ramp-preview\",styles:_},C(\"div\",{class:this.classes(R.symbolContainer,R.sizeRampHorizontal),styles:u},i.infos.map(((e,t)=>C(\"div\",{key:t,class:R.symbol,bind:e.preview,afterCreate:v})))),C(\"div\",{class:R.univariateAboveAndBelowColorRamp,styles:f,key:\"color-ramp-preview\"},C(\"div\",{bind:l,afterCreate:v})),C(\"div\",{class:R.layerInfo},C(\"div\",{class:R.rampLabelsContainer,styles:b},d)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i,!1,!0);const a=u(r,s);if(e.preview){if(!e.symbol||!e.symbol.type.includes(\"simple-fill\")){if(!e.label)return C(\"div\",{key:i,bind:e.preview,afterCreate:v});const t={[R.symbolCell]:this._hasIndicators};return C(\"div\",{key:i,class:this.classes(R.layerRow,{[R.symbolRow]:this._hasIndicators})},C(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:v}),C(\"div\",{class:this.classes(R.imageLabel,{[R.labelCell]:this._hasIndicators})},_(this.messages,e.label,!1)||\"\"))}let s=255,a=255,o=255,n=0,c=255,d=255,p=255,m=0;const h=e.symbol.color&&e.symbol.color.a,y=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;h&&(s=e.symbol.color.r,a=e.symbol.color.g,o=e.symbol.color.b,n=e.symbol.color.a*r.opacity),y&&(c=e.symbol.outline.color.r,d=e.symbol.outline.color.g,p=e.symbol.outline.color.b,m=e.symbol.outline.color.a*r.opacity);const g=e.symbol.color?.isBright??!0,u=g?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",f={background:h?`rgba(${s}, ${a}, ${o}, ${n})`:\"none\",color:g?\"black\":\"white\",textShadow:`-1px -1px 0 ${u},\\n                                              1px -1px 0 ${u},\\n                                              -1px 1px 0 ${u},\\n                                              1px 1px 0 ${u}`,border:y?`1px solid rgba(${c}, ${d}, ${p}, ${m})`:\"none\",filter:l(t.effectList)};return C(\"div\",{key:i,class:R.layerRow},C(\"div\",{class:R.labelElement,styles:f},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return C(\"div\",{key:i,class:R.layerRow},t,C(\"div\",{class:R.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[R.imageryLayerStretchedImage]:s,[R.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return C(\"img\",{alt:_(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,s=t[0],r=t[t.length-1],a=s.symbol,o=this._hasIndicators,l=i(s.size+s.outlineSize)*j,n=i(r.size+r.outlineSize)*j,c=o?l:l+50*j,d=o?l/2+50*j:l,p=F(a),m=E(a),h=document.createElement(\"canvas\");h.width=c,h.height=d,h.style.width=h.width/j+\"px\",h.style.height=h.height/j+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=d;y.moveTo(e,t),y.lineTo(s,i);const r=c,a=0,o=c/2+n/2,l=d;y.moveTo(r,a),y.lineTo(o,l)}else{y.beginPath();const e=0,t=d/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,a=d/2+n/2,o=c,l=d;y.moveTo(r,a),y.lineTo(o,l)}return y.strokeStyle=N,y.stroke(),C(\"div\",{bind:h,afterCreate:v,styles:o?{display:\"flex\",marginTop:`-${p?0:m?l/2:0}px`,marginBottom:`-${p?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${p?0:m?l/2:0}px`,marginLeft:`-${p?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,n={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const c={opacity:null!=t?`${t}`:\"\"};return C(\"div\",{class:this.classes(R.layerRow,{[R.sizeRampRow]:l})},C(\"div\",{class:R.rampLabel},l?i:r),C(\"div\",{class:R.sizeRampContainer,styles:n},C(\"div\",{bind:a,afterCreate:v,class:R.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),C(\"div\",{bind:o,afterCreate:v,class:R.sizeRampContainer,styles:c})),C(\"div\",{class:R.rampLabel},l?r:i))}_renderLegendForRamp(e,t,s){const i=e.infos,r=\"heatmap-ramp\"===e.type,a=i.length-1,n=$,c=a>2&&!r?z*a:k,d=c+20,p=10,m=i.slice(0).reverse();m.forEach(((e,t)=>{e.offset=r?e.ratio:t/a}));const h=m.length-1,y=m.length%2!=0&&m[m.length/2|0],g=y&&C(\"div\",{class:R.intervalSeparatorsContainer},C(\"div\",{class:R.intervalSeparator},\"|\"),C(\"div\",{class:R.rampLabel},y.label)),_=i[i.length-1].label,v=i[0].label,u=[[{shape:{type:\"path\",path:`M0 ${n/2} L${p} 0 L${p} ${n} Z`},fill:m[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:p,y:0,width:c,height:n},fill:{type:\"linear\",x1:p,y1:0,x2:c+p,y2:0,colors:m},stroke:{width:0}},{shape:{type:\"path\",path:`M${c+p} 0 L${d} ${n/2} L${c+p} ${n} Z`},fill:m[h].color,stroke:{width:0}}]],f=o(u,d,n),{messages:b}=this,w={filter:l(s),opacity:null==t?null:`${t}`},L={justifyContent:\"center\"};return C(\"div\",{class:R.layerRow,styles:L},C(\"div\",{class:R.rampLabel},r?b[_]:_),C(\"div\",{class:R.symbolContainer},C(\"div\",{styles:w},f),g),C(\"div\",{class:R.rampLabel},r?b[v]:v))}};e([r()],T.prototype,\"activeLayerInfos\",void 0),e([r()],T.prototype,\"headingLevel\",void 0),e([r()],T.prototype,\"layout\",void 0),e([r(),L(\"esri/widgets/Legend/t9n/Legend\")],T.prototype,\"messages\",void 0),e([r(),L(\"esri/t9n/common\")],T.prototype,\"messagesCommon\",void 0),e([r({readOnly:!0})],T.prototype,\"type\",void 0),e([r()],T.prototype,\"view\",void 0),e([w()],T.prototype,\"_selectSection\",null),T=e([a(\"esri.widgets.Legend.styles.Card\")],T);const B=T;export{B as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{renderRelationshipRamp as s}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as t,getUnivariateColorRampSize as i,getUnivariateColorRampPreview as n,getUnivariateColorRampMargin as o,getUnivariateColorSizeRampElements as p}from\"./support/univariateUtils.js\";import{getTitle as d,isRendererTitle as y,attachToNode as m,isImageryStretchedLegend as c}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as v}from\"../../support/decorators/messageBundle.js\";import{tsx as h}from\"../../support/jsxFactory.js\";import{formatNumber as b}from\"../../../intl/number.js\";const u={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",f=24,L={display:\"flex\",alignItems:\"flex-start\"},w={marginLeft:\"3px\"},C={display:\"table-cell\",verticalAlign:\"middle\"};let R=class extends a{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return h(\"div\",null,r&&r.length?r:h(\"div\",{class:u.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${_}${e.layer.uid}-version-${e.version}`,a=e.title?g({level:this.headingLevel,class:this.classes(u.header,u.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return h(\"div\",{key:l,class:this.classes(u.service,u.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer,e.effectList))).filter((e=>!!e));if(!s.length)return null;const t={[u.groupLayerChild]:!!e.parent};return h(\"div\",{key:l,class:this.classes(u.service,t),tabIndex:0},a,h(\"div\",{class:u.layer},s))}}_renderLegendForElement(e,r,l,a){const t=\"color-ramp\"===e.type,i=\"opacity-ramp\"===e.type,n=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||n){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,r,l,n,e.legendType))).filter((e=>!!e));a.length&&(o=h(\"div\",{class:u.layerBody},a))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=s(e,this.id,r.opacity,l):\"pie-chart-ramp\"===e.type?o=this._renderPieChartRamp(e):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity,l):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity,l));if(!o)return null;const p=e.title;let m=null;if(\"string\"==typeof p)m=p;else if(p){const e=d(this.messages,p,t||i);m=y(p,t||i)&&p.title?`${p.title} (${e})`:e}const c=a?u.layerChildTable:u.layerTable,g=m?h(\"div\",{class:u.layerCaption},m):null,v={[u.layerTableSizeRamp]:n||!a};return h(\"div\",{class:this.classes(c,v)},g,o)}_renderPieChartRamp(e){return h(\"div\",{bind:e.preview,afterCreate:m})}_renderUnivariateAboveAndBelowRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=t(e,r);if(!a)return null;const p=i(a,\"above\",!0),d=i(a,\"below\",!0),y=12,c=n(s,{width:y,height:p,rampAlignment:\"vertical\",opacity:r,type:\"above\",effectList:l}),g=n(s,{width:y,height:d,rampAlignment:\"vertical\",opacity:r,type:\"below\",effectList:l}),v=o(a),b=a.infos.map((e=>e.label)),_=b.map(((e,r)=>{const l=2===r;return 0===r?h(\"div\",{key:r,class:e?c?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):l?h(\"div\",null):null})),f=b.length-1,R=Math.floor(b.length/2),A=b.map(((e,r)=>r===R||r===f?h(\"div\",{key:r,class:e?c?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):null)),S={display:\"table-cell\",verticalAlign:\"middle\"},I={marginTop:`${v}px`},j={height:`${p}px`},k={height:`${d}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map(((e,r)=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:S,bind:e.preview,afterCreate:m}),c||r%2!=0?null:h(\"div\",{class:u.layerInfo},b[r]))))),c?h(\"div\",{styles:I,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:c,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:j},_))),h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:g,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:k},A)))):null)}_renderUnivariateColorSizeRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=p(e);if(!a)return null;const t=o(a),d=12,y=i(a,\"full\",!1),c=n(s,{width:d,height:y,rampAlignment:\"vertical\",opacity:r,type:\"full\",effectList:l}),g=a.infos.length-1,v=a.infos.map(((e,r)=>0===r||r===g?h(\"div\",{key:r,class:e.label?s?u.univariateAboveAndBelowLabel:u.rampLabel:null},e.label):null)),b={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${t}px`},f={height:`${y}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map((e=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:b,bind:e.preview,afterCreate:m}))))),h(\"div\",{styles:_,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:c,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:f},v)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,i=e.preview,n=a?u.opacityRamp:\"\";i.className=`${u.colorRamp} ${n}`,null!=r&&(i.style.opacity=r.toString());const o=l.map((e=>h(\"div\",{class:e.label?u.rampLabel:null},s?this.messages[e.label]||e.label:t?this._getStretchStopLabel(e):e.label))),p={width:`${f}px`},d={height:i.style.height};return h(\"div\",{class:u.layerRow},h(\"div\",{class:u.symbolContainer,styles:p},h(\"div\",{class:u.rampContainer,bind:i,afterCreate:m})),h(\"div\",{class:u.layerInfo},h(\"div\",{class:u.rampLabelsContainer,styles:d},o)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:b(e.value,{style:\"decimal\",notation:e.value.toString().includes(\"e\")?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,r,l,a,s){if(e.type)return this._renderLegendForElement(e,r,l,!0);let t=null;const i=c(r,s);if(e.preview?t=h(\"div\",{class:u.symbol,bind:e.preview,afterCreate:m}):e.src&&(t=this._renderImage(e,r,i)),!t)return null;const n={[u.imageryLayerInfoStretched]:i},o={[u.imageryLayerInfoStretched]:i,[u.sizeRamp]:!i&&a};return h(\"div\",{class:u.layerRow},h(\"div\",{class:this.classes(u.symbolContainer,o)},t),h(\"div\",{class:this.classes(u.layerInfo,n)},d(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:t}=e,i={[u.imageryLayerStretchedImage]:l,[u.symbol]:!l},n={opacity:`${null!=t?t:r.opacity}`};return h(\"img\",{alt:d(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(i),styles:n})}};e([r()],R.prototype,\"activeLayerInfos\",void 0),e([r()],R.prototype,\"headingLevel\",void 0),e([r(),v(\"esri/widgets/Legend/t9n/Legend\")],R.prototype,\"messages\",void 0),e([r({readOnly:!0})],R.prototype,\"type\",void 0),R=e([l(\"esri.widgets.Legend.styles.Classic\")],R);const A=R;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Handles.js\";import{destroyMaybe as s}from\"../core/maybe.js\";import{on as i,watch as r,initial as o}from\"../core/reactiveUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as a}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"./Widget.js\";import h from\"./Legend/LegendViewModel.js\";import p from\"./Legend/styles/Card.js\";import c from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import{tsx as g}from\"./support/jsxFactory.js\";const v={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let u=class extends d{constructor(e,s){super(e,s),this._handles=new t,this.headingLevel=3,this.iconClass=v.widgetIcon,this.messages=null,this.style=new c,this.viewModel=new h}initialize(){this.addHandles([i((()=>this.view),\"resize\",(()=>this.scheduleRender())),i((()=>this.activeLayerInfos),\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),r((()=>this.headingLevel),(e=>{const{style:t}=this;t&&(t.headingLevel=e)})),r((()=>this.style),((e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)}),o)])}destroy(){this._handles=s(this._handles)}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}castStyle(e){if(e instanceof p||e instanceof c)return e;if(\"string\"==typeof e)return\"card\"===e?new p:new c;if(e&&\"string\"==typeof e.type){const t={...e};delete t.type;return new(\"card\"===e.type?p:c)(t)}return new c}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return g(\"div\",{class:this.classes(v.base,v.widget,this.style instanceof c?v.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const t=r((()=>e.version),(()=>this.scheduleRender()));this._handles.add(t,`version_${e.layer.uid}`);const s=i((()=>e.children),\"change\",(()=>e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))),o);this._handles.add(s,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([n()],u.prototype,\"activeLayerInfos\",null),e([n()],u.prototype,\"basemapLegendVisible\",null),e([n()],u.prototype,\"groundLegendVisible\",null),e([n()],u.prototype,\"headingLevel\",void 0),e([n()],u.prototype,\"hideLayersNotInCurrentView\",null),e([n()],u.prototype,\"keepCacheOnDestroy\",null),e([n()],u.prototype,\"respectLayerVisibility\",null),e([n()],u.prototype,\"iconClass\",void 0),e([n()],u.prototype,\"label\",null),e([n()],u.prototype,\"layerInfos\",null),e([n(),y(\"esri/widgets/Legend/t9n/Legend\")],u.prototype,\"messages\",void 0),e([n()],u.prototype,\"style\",void 0),e([a(\"style\")],u.prototype,\"castStyle\",null),e([n()],u.prototype,\"view\",null),e([n()],u.prototype,\"viewModel\",void 0),u=e([l(\"esri.widgets.Legend\")],u);const w=u;export{w as default};\n"],"names":["l","a","e","constructor","t","super","this","_from","_to","_final","_current","_time","duration","has","effects","effect","_get","_set","_transitionTo","h","r","declaredClass","warn","error","hasEffects","transitioning","length","scale","_updateForScale","canTransitionTo","u","transitionStep","_applyTimeTransition","endTransitions","s","i","n","c","o","f","push","_","Math","min","p","interpolate","m","prototype","value","readOnly","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","floors","destroy","layer","dynamicLayers","hasDynamicLayers","visibleSublayers","map","toExportImageJSON","JSON","stringify","y","serviceSublayers","gdbVersion","handles","remove","add","allSublayers","on","notifyChange","propertyName","layers","id","join","layerDefs","filter","floorInfo","reduce","version","commitProperty","sublayers","forEach","unshift","some","toJSON","dpi","format","imageFormat","transparent","imageTransparency","type","Number","floorField","view","flatten","originIdOf","mapLayerId","slice","reverse","toArray","layerDefinition","symbol","uniqueValueInfos","defaultSymbol","classBreakInfos","Array","isArray","details","sort","symbolErrors","visualVariables","find","featuresTilingScheme","getClosestInfoForScale","level","levels","field","minSize","size","minDataValue","maxSize","maxDataValue","HH","HL","LL","LH","includes","symbolLayers","getItemAt","color","style","H","label","top","bottom","left","right","b","d","async","k","legendOptions","customValues","U","stops","target","w","g","S","v","getSizeRangeAtScale","E","T","q","D","z","authoringInfo","j","univariateTheme","C","x","I","M","V","Promise","all","B","P","L","outlineSize","clone","outline","width","material","resource","href","toHex","fractional","integer","floor","ceil","indexes","previous","getSize","shape","height","font","ne","ae","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","oe","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","ue","ee","ce","te","de","ye","he","me","fe","pe","ge","be","_e","ve","we","Ce","Ee","Ie","Ve","je","Pe","Me","Ne","path","qe","$e","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","initialize","added","removed","uid","ready","effectList","_getParentLayerOpacity","_isGroupActive","isScaleDriven","featureReduction","_isRendererScaleDriven","_isLayerScaleDriven","_isLayerInCurrentView","from","Oe","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","then","_getLegendElementsForFeatureReduction","Te","_constructLegendElementsForVoxellayer","xe","_constructLegendElementsForWMTSlayer","ze","_constructLegendElementsForWMSSublayers","Fe","_constructLegendElementsForBuildingSceneLayer","De","_constructLegendElementsForSublayers","renderingRule","functionName","bandIds","_getLegendLayers","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","infos","catch","updating","createQuery","geometry","extent","queryFeatureCount","valueExpression","test","_isScaleDrivenSizeVariable","expression","loaded","sourceJSON","currentVariableId","getVariableStyles","getVariableStyle","uniqueValues","enabled","transferFunction","colorStops","stretchRange","Q","log10","abs","notation","minimumSignificantDigits","maximumSignificantDigits","Z","preview","concat","_getAllInfos","_getSymbolPreview","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","responseType","data","resolve","_legendRequest","exportImageServiceParameters","rasterFunctionDefinition","raster","viewId","url","replace","indexOf","substring","toLowerCase","se","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","get","subLayerIds","defaultVisibility","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","max","values","splice","R","Re","Le","Se","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_loadRenderer","_constructPieChartRendererLegendElements","_constructRendererLegendElements","_getClusterRenderer","_getPointCloudRendererTitle","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","A","colorUniqueValueInfos","symbolConfig","applyColorModulation","colorModulation","_getElementInfoForDotDensity","backgroundColor","dotSize","fill","stroke","offset","effectView","calculateDotValue","unit","round","attributes","valueExpressionTitle","othersCategory","threshold","defaultColor","defaultLabel","_getVisualVariableLegendElements","holePercentage","backgroundFillSymbol","Set","X","Ue","ke","findIndex","N","focus","numClasses","field1","field2","normalizationField","_getFieldAlias","normField","angle","colors","labels","rotation","$","field3","fieldDelimiter","uniqueValueGroups","classes","value2","value3","_getDomainName","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","Ae","_constructTileImageryStretchRendererElements","Be","statistics","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","rasterInfo","pixelType","bandCount","_getStretchLegendElements","_getServerSideLegend","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","_getClusterSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","isDefault","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","hasStandardTime","getStandardTimeValue","keys","colorRamp","isAutoGenerated","_getClusterTitle","W","K","colorName","bandName","Y","axis","O","_effectiveRenderer","clusterMinSize","clusterMaxSize","F","showLegend","_fetchSymbol","apply","_applySymbolToRenderer","Error","fetchCIMSymbol","cache","fetchSymbol","toRgba","_applyColorTo3dSymbol","_getRampTitle","getField","_getSizeLegendElement","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratio","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","fields","alias","dependsOn","We","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","state","_stateHandles","_resetAll","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","allLayerViews","_allLayerViewsChangeHandle","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","stationary","_scaleHandle","_legendEnabledHandle","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","buildLegendElementsForFeatureReduction","sqrt","class","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","transform","markerStart","markerEnd","x1","y1","x2","y2","justifyContent","document","createElement","className","toString","append","bind","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","Auto","Stack","SideBySide","window","devicePixelRatio","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","addHandles","_watchForSectionChanges","render","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderPieChartRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","afterCreate","marginTop","display","marginRight","marginLeft","flexDirection","isBright","background","textShadow","border","_renderImage","alt","_renderSizeRampLines","primitive","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","cloneNode","alignItems","verticalAlign","_getStretchStopLabel","iconClass","viewModel","scheduleRender","_refreshActiveLayerInfos","widgetLabel","_overrideIfSome","castStyle","_renderOnActiveLayerInfoChange"],"sourceRoot":""}