"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[7842,2463,2170],{92463:(t,e,n)=>{n.r(e),n.d(e,{hydratedAdapter:()=>l});var r=n(53866),a=n(77577),i=n(585),o=n(80885),s=n(29909);const l={convertToGEGeometry:function(t,e){if(null==e)return null;let n="cache"in e?e.cache._geVersion:void 0;return null==n&&(n=t.convertJSONToGeometry(e),"cache"in e&&(e.cache._geVersion=n)),n},exportPoint:function(t,e,n){const r=t.hasZ(e),a=t.hasM(e),o=new i.Z({x:t.getPointX(e),y:t.getPointY(e),spatialReference:n});return r&&(o.z=t.getPointZ(e)),a&&(o.m=t.getPointM(e)),o.cache._geVersion=e,o},exportPolygon:function(t,e,n){const r=new o.Z({rings:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:n});return r.cache._geVersion=e,r},exportPolyline:function(t,e,n){const r=new s.Z({paths:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:n});return r.cache._geVersion=e,r},exportMultipoint:function(t,e,n){const r=new a.Z({hasZ:t.hasZ(e),hasM:t.hasM(e),points:t.exportPoints(e),spatialReference:n});return r.cache._geVersion=e,r},exportExtent:function(t,e,n){const a=t.hasZ(e),i=t.hasM(e),o=new r.Z({xmin:t.getXMin(e),ymin:t.getYMin(e),xmax:t.getXMax(e),ymax:t.getYMax(e),spatialReference:n});if(a){const n=t.getZExtent(e);o.zmin=n.vmin,o.zmax=n.vmax}if(i){const n=t.getMExtent(e);o.mmin=n.vmin,o.mmax=n.vmax}return o.cache._geVersion=e,o}}},2170:(t,e,n)=>{n.r(e),n.d(e,{buffer:()=>w,changeDefaultSpatialReferenceTolerance:()=>X,clearDefaultSpatialReferenceTolerance:()=>B,clip:()=>s,contains:()=>c,convexHull:()=>_,crosses:()=>u,cut:()=>l,densify:()=>H,difference:()=>E,disjoint:()=>y,distance:()=>h,equals:()=>d,extendedSpatialReferenceInfo:()=>o,flipHorizontal:()=>D,flipVertical:()=>P,generalize:()=>W,geodesicArea:()=>q,geodesicBuffer:()=>S,geodesicDensify:()=>O,geodesicLength:()=>N,intersect:()=>M,intersectLinesToPoints:()=>Y,intersects:()=>p,isSimple:()=>v,nearestCoordinate:()=>R,nearestVertex:()=>T,nearestVertices:()=>Z,offset:()=>G,overlaps:()=>g,planarArea:()=>I,planarLength:()=>F,relate:()=>x,rotate:()=>V,simplify:()=>b,symmetricDifference:()=>A,touches:()=>f,union:()=>C,within:()=>m});var r=n(99058),a=n(92463);function i(t){return Array.isArray(t)?t[0].spatialReference:t&&t.spatialReference}function o(t){return r.G.extendedSpatialReferenceInfo(t)}function s(t,e){return r.G.clip(a.hydratedAdapter,i(t),t,e)}function l(t,e){return r.G.cut(a.hydratedAdapter,i(t),t,e)}function c(t,e){return r.G.contains(a.hydratedAdapter,i(t),t,e)}function u(t,e){return r.G.crosses(a.hydratedAdapter,i(t),t,e)}function h(t,e,n){return r.G.distance(a.hydratedAdapter,i(t),t,e,n)}function d(t,e){return r.G.equals(a.hydratedAdapter,i(t),t,e)}function p(t,e){return r.G.intersects(a.hydratedAdapter,i(t),t,e)}function f(t,e){return r.G.touches(a.hydratedAdapter,i(t),t,e)}function m(t,e){return r.G.within(a.hydratedAdapter,i(t),t,e)}function y(t,e){return r.G.disjoint(a.hydratedAdapter,i(t),t,e)}function g(t,e){return r.G.overlaps(a.hydratedAdapter,i(t),t,e)}function x(t,e,n){return r.G.relate(a.hydratedAdapter,i(t),t,e,n)}function v(t){return r.G.isSimple(a.hydratedAdapter,i(t),t)}function b(t){return r.G.simplify(a.hydratedAdapter,i(t),t)}function _(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.G.convexHull(a.hydratedAdapter,i(t),t,e)}function E(t,e){return r.G.difference(a.hydratedAdapter,i(t),t,e)}function A(t,e){return r.G.symmetricDifference(a.hydratedAdapter,i(t),t,e)}function M(t,e){return r.G.intersect(a.hydratedAdapter,i(t),t,e)}function C(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.G.union(a.hydratedAdapter,i(t),t,e)}function G(t,e,n,o,s,l){return r.G.offset(a.hydratedAdapter,i(t),t,e,n,o,s,l)}function w(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.G.buffer(a.hydratedAdapter,i(t),t,e,n,o)}function S(t,e,n,o,s,l){return r.G.geodesicBuffer(a.hydratedAdapter,i(t),t,e,n,o,s,l)}function R(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.G.nearestCoordinate(a.hydratedAdapter,i(t),t,e,n)}function T(t,e){return r.G.nearestVertex(a.hydratedAdapter,i(t),t,e)}function Z(t,e,n,o){return r.G.nearestVertices(a.hydratedAdapter,i(t),t,e,n,o)}function z(t){return"xmin"in t?"center"in t?t.center:null:"x"in t?t:"extent"in t?t.extent?.center??null:null}function V(t,e,n){if(null==t)throw new L;const a=t.spatialReference;if(null==(n=n??z(t)))throw new L;const i=t.constructor.fromJSON(r.G.rotate(t,e,n));return i.spatialReference=a,i}function D(t,e){if(null==t)throw new L;const n=t.spatialReference;if(null==(e=e??z(t)))throw new L;const a=t.constructor.fromJSON(r.G.flipHorizontal(t,e));return a.spatialReference=n,a}function P(t,e){if(null==t)throw new L;const n=t.spatialReference;if(null==(e=e??z(t)))throw new L;const a=t.constructor.fromJSON(r.G.flipVertical(t,e));return a.spatialReference=n,a}function W(t,e,n,o){return r.G.generalize(a.hydratedAdapter,i(t),t,e,n,o)}function H(t,e,n){return r.G.densify(a.hydratedAdapter,i(t),t,e,n)}function O(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return r.G.geodesicDensify(a.hydratedAdapter,i(t),t,e,n,o)}function I(t,e){return r.G.planarArea(a.hydratedAdapter,i(t),t,e)}function F(t,e){return r.G.planarLength(a.hydratedAdapter,i(t),t,e)}function q(t,e,n){return r.G.geodesicArea(a.hydratedAdapter,i(t),t,e,n)}function N(t,e,n){return r.G.geodesicLength(a.hydratedAdapter,i(t),t,e,n)}function Y(t,e){return r.G.intersectLinesToPoints(a.hydratedAdapter,i(t),t,e)}function X(t,e){r.G.changeDefaultSpatialReferenceTolerance(t,e)}function B(t){r.G.clearDefaultSpatialReferenceTolerance(t)}class L extends Error{constructor(){super("Illegal Argument Exception")}}},20008:(t,e,n)=>{n.d(e,{Ru:()=>u,bA:()=>c,cM:()=>h,e7:()=>l,pB:()=>s});var r=n(16889),a=n(65156),i=n(376),o=n(69662);function s(t,e,n,r){if(null==r||t.hasZ||(r=void 0),"point"===t.type)return t.x+=e,t.y+=n,t.hasZ&&null!=r&&(t.z+=r),t;if("multipoint"===t.type){const a=t.points;for(let t=0;t<a.length;t++)a[t]=d(a[t],e,n,r);return t}if("extent"===t.type)return t.xmin+=e,t.xmax+=e,t.ymin+=n,t.ymax+=n,null!=r&&(t.zmin+=r,t.zmax+=r),t;const a=(0,o.nA)(t),i="polyline"===t.type?t.paths:t.rings;for(let o=0;o<a.length;o++){const t=a[o];for(let a=0;a<t.length;a++)t[a]=d(t[a],e,n,r)}return"paths"in t?t.paths=i:t.rings=i,t}function l(t,e,n,r,a){const i=t.clone(),l=r.resolution;if("point"===i.type){if(a)s(i,e*l,-n*l);else{const t=r.state.transform,a=r.state.inverseTransform,o=t[0]*i.x+t[2]*i.y+t[4],s=t[1]*i.x+t[3]*i.y+t[5];i.x=a[0]*(o+e)+a[2]*(s+n)+a[4],i.y=a[1]*(o+e)+a[3]*(s+n)+a[5]}return i}if("multipoint"===i.type){if(a)s(i,e*l,-n*l);else{const t=i.points,a=r.state.transform,o=r.state.inverseTransform;for(let r=0;r<t.length;r++){const i=t[r],s=a[0]*i[0]+a[2]*i[1]+a[4],l=a[1]*i[0]+a[3]*i[1]+a[5],c=o[0]*(s+e)+o[2]*(l+n)+o[4],u=o[1]*(s+e)+o[3]*(l+n)+o[5];t[r]=p(i,c,u,void 0)}}return i}if("extent"===i.type){if(a)s(i,e*l,-n*l);else{const t=r.state.transform,a=r.state.inverseTransform,o=t[0]*i.xmin+t[2]*i.ymin+t[4],s=t[1]*i.xmin+t[3]*i.ymin+t[5],l=t[0]*i.xmax+t[2]*i.ymax+t[4],c=t[1]*i.xmax+t[3]*i.ymax+t[5];i.xmin=a[0]*(o+e)+a[2]*(s+n)+a[4],i.ymin=a[1]*(o+e)+a[3]*(s+n)+a[5],i.xmax=a[0]*(l+e)+a[2]*(c+n)+a[4],i.ymax=a[1]*(l+e)+a[3]*(c+n)+a[5]}return i}if(a)s(i,e*l,-n*l);else{const t=(0,o.nA)(i),a="polyline"===i.type?i.paths:i.rings,s=r.state.transform,l=r.state.inverseTransform;for(let r=0;r<t.length;r++){const a=t[r];for(let t=0;t<a.length;t++){const r=a[t],i=s[0]*r[0]+s[2]*r[1]+s[4],o=s[1]*r[0]+s[3]*r[1]+s[5],c=l[0]*(i+e)+l[2]*(o+n)+l[4],u=l[1]*(i+e)+l[3]*(o+n)+l[5];a[t]=p(r,c,u,void 0)}}"paths"in i?i.paths=a:i.rings=a}return i}function c(t,e,n,r){if("point"===t.type){const{x:a,y:i}=t,o=r?r[0]:a,s=r?r[1]:i,l=t.clone(),c=(a-o)*e+o,u=(i-s)*n+s;return l.x=c,l.y=u,l}if("multipoint"===t.type){const s=(0,o.nA)(t),l=(0,a.Ue)(),[c,u,h,d]=(0,i.C6)(l,[s]),f=r?r[0]:(c+h)/2,m=r?r[1]:(d+u)/2,y=t.clone(),g=y.points;for(let t=0;t<g.length;t++){const r=g[t],[a,i]=r,o=(a-f)*e+f,s=(i-m)*n+m;g[t]=p(r,o,s,void 0)}return y}if("extent"===t.type){const{xmin:a,xmax:i,ymin:o,ymax:s}=t,l=r?r[0]:(a+i)/2,c=r?r[1]:(s+o)/2,u=t.clone();if(u.xmin=(a-l)*e+l,u.ymax=(s-c)*n+c,u.xmax=(i-l)*e+l,u.ymin=(o-c)*n+c,u.xmin>u.xmax){const t=u.xmin,e=u.xmax;u.xmin=e,u.xmax=t}if(u.ymin>u.ymax){const t=u.ymin,e=u.ymax;u.ymin=e,u.ymax=t}return u}const s=(0,o.nA)(t),l=(0,a.Ue)(),[c,u,h,d]=(0,i.C6)(l,s),f=r?r[0]:(c+h)/2,m=r?r[1]:(d+u)/2,y=t.clone(),g="polyline"===y.type?y.paths:y.rings;for(let a=0;a<s.length;a++){const t=s[a];for(let r=0;r<t.length;r++){const i=t[r],[o,s]=i,l=(o-f)*e+f,c=(s-m)*n+m;g[a][r]=p(i,l,c,void 0)}}return"paths"in y?y.paths=g:y.rings=g,y}function u(t,e,n,r,a,i){const o=Math.sqrt((n-t)*(n-t)+(r-e)*(r-e));return Math.sqrt((a-t)*(a-t)+(i-e)*(i-e))/o}function h(t,e,n){const a=Math.atan2(e.y-n.y,e.x-n.x)-Math.atan2(t.y-n.y,t.x-n.x),i=Math.atan2(Math.sin(a),Math.cos(a));return(0,r.BV)(i)}function d(t,e,n,r){return p(t,t[0]+e,t[1]+n,null!=t[2]&&null!=r?t[2]+r:void 0)}function p(t,e,n,r){const a=[e,n];return t.length>2&&a.push(null!=r?r:t[2]),t.length>3&&a.push(t[3]),a}},45900:(t,e,n)=>{n.d(e,{m:()=>d});var r=n(27366),a=n(85015),i=n(32718),o=n(92026),s=n(66978),l=n(49861),c=(n(63780),n(25243),n(69912)),u=n(99034),h=n(92853);let d=class extends a.Z{constructor(t){super(t),this.manipulators=new h.D,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[u.bH.MANAGER,!0],[u.bH.USER,!0]]),this._creationFinishedResolver=(0,s.hh)()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get("visible")!==t&&(this._set("visible",t),this._syncVisible())}get editable(){return this.getEditableFlag(u.bH.USER)}set editable(t){this.setEditableFlag(u.bH.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){(0,o.Wi)(this.view)?i.Z.getLogger(this.declaredClass).error("Can't activate tool if view is not defined."):(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===u.bH.USER&&this.notifyChange("editable"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(u.bH.USER)&&this.getEditableFlag(u.bH.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};(0,r._)([(0,l.Cb)({constructOnly:!0})],d.prototype,"view",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],d.prototype,"active",null),(0,r._)([(0,l.Cb)({value:!0})],d.prototype,"visible",null),(0,r._)([(0,l.Cb)({value:!0})],d.prototype,"editable",null),(0,r._)([(0,l.Cb)({readOnly:!0})],d.prototype,"manipulators",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],d.prototype,"updating",null),(0,r._)([(0,l.Cb)()],d.prototype,"cursor",null),(0,r._)([(0,l.Cb)({readOnly:!0})],d.prototype,"automaticManipulatorSelection",void 0),(0,r._)([(0,l.Cb)()],d.prototype,"hasFocusedManipulators",null),(0,r._)([(0,l.Cb)()],d.prototype,"hasGrabbedManipulators",void 0),(0,r._)([(0,l.Cb)()],d.prototype,"hasHoveredManipulators",void 0),(0,r._)([(0,l.Cb)()],d.prototype,"firstGrabbedManipulator",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],d.prototype,"created",void 0),(0,r._)([(0,l.Cb)({readOnly:!0})],d.prototype,"removeIncompleteOnCancel",void 0),d=(0,r._)([(0,c.j)("esri.views.interactive.InteractiveToolBase")],d)},92853:(t,e,n)=>{n.d(e,{D:()=>o});var r,a=n(40281),i=n(92026);!function(t){t[t.WhenToolEditable=0]="WhenToolEditable",t[t.WhenToolNotEditable=1]="WhenToolNotEditable",t[t.Always=2]="Always"}(r||(r={}));class o{constructor(){this._isToolEditable=!0,this._manipulators=new a.Z,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.WhenToolEditable;this.addMany([t],e)}addMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.WhenToolEditable;for(const n of t){const t={manipulator:n,visibilityPredicate:e,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let e=0;e<this._manipulators.length;e++)if(this._manipulators.getItemAt(e).manipulator===t){const t=this._manipulators.splice(e,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((t=>{let{manipulator:e}=t;e.destroy&&e.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(t,e){return this._manipulators.on(t,(t=>{e(t)}))}forEach(t){for(const e of this._manipulators.items)t(e)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((e=>t.push(e.manipulator))),t}intersect(t,e){let n=null,r=Number.MAX_VALUE;return this._manipulators.forEach((a=>{let{manipulator:o,attached:s}=a;if(!s||!o.interactive)return;const l=o.intersectionDistance(t,e);(0,i.pC)(l)&&l<r&&(r=l,n=o)})),n}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const e=t.manipulator;e.grabbing=!1,e.dragging=!1,e.hovering=!1,e.selected=!1,e.detach&&e.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===r.Always||(this._isToolEditable?t.visibilityPredicate===r.WhenToolEditable:t.visibilityPredicate===r.WhenToolNotEditable)}}},74229:(t,e,n)=>{n.d(e,{AN:()=>A,BS:()=>w,Cf:()=>x,M2:()=>m,QY:()=>E,Xd:()=>f,a9:()=>y,bD:()=>_,di:()=>b,hM:()=>G,kY:()=>C,oq:()=>v,zh:()=>M});n(59486);var r=n(84652),a=n(16889),i=n(92026),o=n(17842),s=n(71353),l=n(79803),c=n(37818),u=n(74509),h=n(50951),d=n(20008),p=n(585);function f(t,e){return t.events.on("drag",function(t,e){let n=null,r=null;return a=>{if("cancel"===a.action)return void((0,i.pC)(r)&&(r.execute({action:"cancel"}),n=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};"start"===a.action&&(0,i.Wi)(n)&&(n=new G,r=new G,e(t,n,r,a.pointerType,o)),(0,i.pC)(n)&&n.execute(o),"end"===a.action&&(0,i.pC)(n)&&(n=null,r=null)}}(t,e))}function m(t,e){const n=[t.x,t.y,t.z],r=e,a=[Math.cos(r),Math.sin(r)],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===i)return null;a[0]/=i,a[1]/=i;const o=t=>{const e=(t.x-n[0])*a[0]+(t.y-n[1])*a[1];t.x=n[0]+e*a[0],t.y=n[1]+e*a[1]};return t=>(o(t.mapStart),o(t.mapEnd),{...t,axis:a})}function y(t,e){let n=null;return r=>{if("start"===r.action&&(n=function(t,e,n){const r=t.geometry,a=(0,c.D)(e);if((0,i.Wi)(r))return null;if("mesh"===r.type)return function(t,e,n,r){if((0,i.pC)(e.transform))return function(t,e,n,r){const a=g(n.getOriginPoint(e.spatialReference),r),o=e.spatialReference;return(0,i.Wi)(a)?null:{move:(e,r,c)=>{const u=(0,d.pB)(a.clone(),e,r,c);if(u.spatialReference.equals(o))n.origin=(0,s.f)(u.x,u.y,u.z);else{const t=(0,l.iV)(u,o);(0,i.pC)(t)&&(n.origin=(0,s.f)(t.x,t.y,t.z))}t.notifyMeshTransformChanged(),t.notifyGeometryChanged()}}}(t,e,e.transform,n);if(!e.spatialReference.equals(n))return null;let a=0,o=0,c=0;return{move:(n,i,s)=>{const l=n-a,u=i-o,d=s-c;if(l||u||d){const f=new p.Z(e.origin.x+l,e.origin.y+u,e.origin.z+d,e.origin.spatialReference);e.centerAt(f,{geographic:r===h.JY.Global}),t.notifyGeometryChanged(),a=n,o=i,c=s}}}}(t,r,a,n);const o=g(r,a),u=r.spatialReference;return(0,i.Wi)(o)?null:{move:(e,n,r)=>{const a=(0,d.pB)(o.clone(),e,n,r);a.spatialReference.equals(u)?t.geometry=a:t.geometry=(0,l.iV)(a,u)}}}(t,r.mapStart.spatialReference,e)),(0,i.Wi)(n))return null;const a=r.mapEnd.x-r.mapStart.x,o=r.mapEnd.y-r.mapStart.y,u=r.mapEnd.z-r.mapStart.z;return n.move(a,o,u),{...r,translationX:a,translationY:o,translationZ:u}}}function g(t,e){return(0,i.Wi)(t)?null:t.spatialReference.equals(e)?t.clone():(0,l.iV)(t,e)}function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=null;const a=(0,i.pC)(e)&&!t.spatialReference.equals(e)?t=>(0,i.pC)(t)?(0,l.iV)(t,e):t:t=>t,o={exclude:[],...n};return e=>{if("start"===e.action&&(r=a(t.toMap(e.screenStart,o))),(0,i.Wi)(r))return null;const n=a(t.toMap(e.screenEnd,o));return(0,i.pC)(n)?{...e,mapStart:r,mapEnd:n}:null}}function v(t,e){const n=t.map((t=>(0,i.Wg)(y(t,e)))).filter((t=>(0,i.pC)(t)));return t=>{const e=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return n.forEach((e=>e(t))),{...t,translationX:e,translationY:r,translationZ:a}}}function b(t,e){const n=new Map;for(const a of e)n.set(a,(0,r.d9)(t[a]));return e=>(n.forEach(((e,n)=>{t[n]=e})),e)}function _(t){return(0,i.pC)(t.geometry)&&"mesh"===t.geometry.type?function(t,e){const n=(0,i.pC)(e.transform)?e.transform.clone():null,r=e.vertexAttributes.clonePositional();return a=>(e.transform=n,e.vertexAttributes=r,t.notifyGeometryChanged(),a)}(t,t.geometry):b(t,["geometry"])}function E(t){const e=t.map((t=>(0,i.Wg)(_(t)))).filter((t=>(0,i.pC)(t)));return t=>(e.forEach((e=>e(t))),t)}function A(){let t=0,e=0,n=0;return r=>{"start"===r.action&&(t=r.mapStart.x,e=r.mapStart.y,n=r.mapStart.z);const a=r.mapEnd.x-t,i=r.mapEnd.y-e,o=r.mapEnd.z-n;return t=r.mapEnd.x,e=r.mapEnd.y,n=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:i,mapDeltaZ:o,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function M(){let t=0,e=0;return n=>{"start"===n.action&&(t=n.screenStart.x,e=n.screenStart.y);const r=n.screenEnd.x-t,a=n.screenEnd.y-e;return t=n.screenEnd.x,e=n.screenEnd.y,{...n,screenDeltaX:r,screenDeltaY:a}}}function C(t,e){let n=null,r=0,i=0;return s=>{if("start"===s.action&&(n=t.toScreen(e),n.x<0||n.x>t.width||n.y<0||n.y>t.height?n=null:(r=s.screenStart.x-n.x,i=s.screenStart.y-n.y)),null==n)return null;const l=(0,a.uZ)(s.screenEnd.x-r,0,t.width),c=(0,a.uZ)(s.screenEnd.y-i,0,t.height),u=(0,o.vW)(l,c);return s.screenStart=n,s.screenEnd=u,s}}class G{constructor(){this.execute=()=>{}}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new G;return(0,i.pC)(t)&&(this.execute=n=>{const r=t(n);(0,i.pC)(r)&&e.execute(r)}),e}}function w(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("2d"===t.type)return t=>t;let r=null;return a=>{"start"===a.action&&(r=t.toMap(a.screenStart,{exclude:n}),(0,i.pC)(r)&&(r.z=(0,u.Ou)(r,t,e)));const o=t.toMap(a.screenEnd,{exclude:n});(0,i.pC)(o)&&(o.z=(0,u.Ou)(o,t,e));const s=(0,i.pC)(r)&&(0,i.pC)(o)?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:s}}}}}]);
//# sourceMappingURL=7842.1551da94.chunk.js.map