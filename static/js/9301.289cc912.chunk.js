"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[9301],{59301:(t,e,a)=>{a.r(e),a.d(e,{executeAttachmentQuery:()=>p,fetchAttachments:()=>d,processAttachmentQueryResult:()=>h});var n=a(19545),s=a(76200),o=a(35995),c=a(22585),r=a(11812);function u(t){const e=t.toJSON();return e.attachmentTypes&&(e.attachmentTypes=e.attachmentTypes.join(",")),e.keywords&&(e.keywords=e.keywords.join(",")),e.globalIds&&(e.globalIds=e.globalIds.join(",")),e.objectIds&&(e.objectIds=e.objectIds.join(",")),e.size&&(e.size=e.size.join(",")),e}function h(t,e){const a={};for(const s of e){const{parentObjectId:e,parentGlobalId:c,attachmentInfos:u}=s;for(const s of u){const{id:u}=s,h=(0,o.qg)((0,n.Dp)(`${t.path}/${e}/attachments/${u}`)),p=r.Z.fromJSON(s);p.set({url:h,parentObjectId:e,parentGlobalId:c}),a[e]?a[e].push(p):a[e]=[p]}}return a}function p(t,e,a){let n={query:(0,c.A)({...t.query,f:"json",...u(e)})};return a&&(n={...a,...n,query:{...a.query,...n.query}}),(0,s.default)(t.path+"/queryAttachments",n).then((t=>t.data.attachmentGroups))}async function d(t,e,a){const{objectIds:n}=e,o=[];for(const c of n)o.push((0,s.default)(t.path+"/"+c+"/attachments",a));return Promise.all(o).then((t=>n.map(((e,a)=>({parentObjectId:e,attachmentInfos:t[a].data.attachmentInfos})))))}}}]);
//# sourceMappingURL=9301.289cc912.chunk.js.map