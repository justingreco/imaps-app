"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[1743],{31743:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var l=a(85580),s=a(72791),i=a(76200),n=a(78952),o=a(29686),r=a(62920),c=a(6764),p=a(79422);const u={results:[{paramName:"Output_JSON",dataType:"GPString",value:[{layoutTemplate:"85x11_landscape",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[10,6.7],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"85x11_landscape_attributes",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}},{layoutTemplate:"85x11_landscape_attributes_legend",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}},{layoutTemplate:"85x11_landscape_legend",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[10,6.7],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"85x11_portrait",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}},{layoutTemplate:"85x11_portrait_attributes",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"},{PropertyInfo:""}]}},{layoutTemplate:"85x11_portrait_attributes_legend",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"},{PropertyInfo:""}]}},{layoutTemplate:"85x11_portrait_legend",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}},{layoutTemplate:"11x17_landscape",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[16,9],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_landscape_attributes",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[13,10],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_landscape_attributes_legend",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[13,10],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_landscape_legend",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[16,9],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_portrait",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_portrait_attributes",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"},{PropertyInfo:" "}]}},{layoutTemplate:"11x17_portrait_attributes_legend",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"},{PropertyInfo:" "}]}},{layoutTemplate:"11x17_portrait_legend",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"24x36_landscape",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[35,21],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_landscape_attributes",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[28,23],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:"Text"},{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_landscape_attributes_legend",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[28,23],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:"Text"},{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_landscape_legend",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[35,21],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_portrait",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_portrait_attributes",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"24x36_portrait_attributes_legend",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"24x36_portrait_legend",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[47,32.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape_attributes",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[38,35],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape_attributes_legend",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[38,35],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape_legend",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[47,32.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_portrait",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_portrait_attributes",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!1,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"36x48_portrait_attributes_legend",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!1,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"36x48_portrait_legend",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}}]}],messages:[]},x=e=>{const t=Math.round(600*e/564.248588);return t<=75?75:t>75&&t<=150?150:t>150&&t<=300?300:t>300&&t<=600?600:t>600&&t<=1200?1200:t>1200&&t<=2400?2400:t>2400&&t<=4800?4800:t>4800&&t<=9600?9600:t>9600&&t<=19200?19200:t>19200&&t<=38400?38400:t>38400&&t<=76800?76800:t>76800&&t<=153600?153600:t>153600&&t<=307200?307200:t>307200&&t<=614400?614400:t>614400&&t<=1228800?1228800:0},h=e=>{var t;const a=null===(t=e.constraints._defaultLODs.filter((e=>e.scale>=300&&e.scale<614400)).map((e=>{const t=x(e.scale);return{scale:t,label:`1" = ${(t/12).toLocaleString("en")}'`}})))||void 0===t?void 0:t.reverse();return a.push({scale:"custom",label:"User Defined"}),a};const T=(e,t,a,l)=>{const s=[];if(s.push({Scale:(t/12).toString()}),e<24?(s.push({HalfScale:(t/12/2).toString()}),s.push({"2xScale":t/12*2+" ft"})):e<36?(s.push({"2xScale":t/12*2}),s.push({"4xScale":t/12*4+" ft"})):(s.push({"2xScale":t/12*2}),s.push({"4xScale":t/12*4}),s.push({"6xScale":t/12*6+" ft"})),a){const e=(e=>{let t="";return e.layer.fields.forEach((a=>{if(!["OBJECTID"].includes(a.name)&&e.getAttribute(a.name))if("date"===a.type){const l=new Date(e.getAttribute(a.name));t+=`${a.alias}: ${l.getUTCMonth()+1}/${l.getUTCDate()}/${l.getUTCFullYear()}\n`}else t+=`${a.alias}: ${e.getAttribute(a.name)}\n`})),t})(l);s.push({PropertyInfo:e})}return s};var S=a(9283),m=a(80184);function g(e){const t=(0,s.useRef)(!1),[a,g]=(0,s.useState)(!1),d=(0,s.useRef)(null),y=(0,s.useRef)(null),f=(0,s.useRef)(null),C=(0,s.useRef)(null),b=(0,s.useRef)(null),_=(0,s.useRef)([]),[z,v]=(0,s.useState)([]),[w,I]=(0,s.useState)([]),[H,O]=(0,s.useState)(),[E,L]=(0,s.useState)("current"),[j,N]=(0,s.useState)(),[U,F]=(0,s.useState)(),[A,M]=(0,s.useState)(),[P,$]=(0,s.useState)(),[k,Z]=(0,s.useState)([]);(0,s.useEffect)((()=>{var a;t.current||(t.current=!0,O(e.view),new Promise((e=>{const t=[],a=[];u.results[0].value.forEach((e=>{const l=e.pageSize[0],s=e.pageSize[1];let i=`${l}"x${s}"`,n="Portrait",o=l,r=`${l}x${s}_${n.toLowerCase()}`;l>s&&(i=`${s}"x${l}"`,n="Landscape",r=`${s}x${l}_${n.toLowerCase()}`,o=s),i+=` ${n}`;const c={label:i,template:r,size:o};a.includes(c.template)||(t.push(c),a.push(c.template))})),t.sort(((e,t)=>e.size-t.size)),e(t)})).then((e=>{v(e),M(e[0])})),(a=e.exportUrl,new Promise(((e,t)=>(0,i.default)(a,{query:{f:"json"}}).then((t=>{t.data.parameters.forEach((t=>{"Format"===t.name&&e(t.choiceList)}))})).catch((e=>{t(e)}))))).then((e=>{I(e),$(e[0])})))}),[]),(0,s.useEffect)((()=>{F(e.selectedProperty)}),[e.selectedProperty]),(0,s.useEffect)((()=>{g(e.isActive)}),[e.isActive]);const K=(0,s.useCallback)((t=>{e.toolDismissed()}),[]);return(0,m.jsxs)(l.N$,{id:"print-panel",heading:"Print","data-panel":"print",hidden:!a,closed:!a||void 0,dismissed:!a||void 0,dismissible:!0,onCalcitePanelDismiss:K,children:[(0,m.jsx)(l.G1,{icon:"chevron-up",text:"",slot:"header-actions-end",onClick:S.F$}),(0,m.jsxs)("div",{id:"print-container",children:[(0,m.jsxs)(l.ZK,{children:["Title",(0,m.jsx)(l.e,{ref:b,maxLength:50})]}),(0,m.jsxs)(l.ZK,{children:["Page size",(0,m.jsx)(l.ko,{label:"",onCalciteSelectChange:e=>M(e.target.selectedOption.value),children:z.map(((e,t)=>(0,m.jsx)(l.GB,{label:e.label,value:JSON.stringify(e)},t)))})]}),(0,m.jsxs)(l.ZK,{children:["File format",(0,m.jsx)(l.ko,{label:"",onCalciteSelectChange:e=>$(e.target.selectedOption.value),children:w.map(((e,t)=>(0,m.jsx)(l.GB,{label:e,value:e},t)))})]}),(0,m.jsxs)(l.vb,{name:"scale-radio",onCalciteRadioButtonGroupChange:e=>{L(e.detail)},children:[(0,m.jsxs)(l.ZK,{layout:"inline",children:[(0,m.jsx)(l.xG,{checked:"current"===E||void 0,value:"current"}),"Current Scale"]}),(0,m.jsxs)(l.ZK,{layout:"inline",children:[(0,m.jsx)(l.xG,{checked:"custom"===E||void 0,value:"custom"}),"Custom Scale"]})]}),"custom"===E&&(0,m.jsxs)(l.ZK,{children:["Scale",(0,m.jsx)(l.ko,{ref:d,label:"",onCalciteSelectChange:e=>N(e.target.selectedOption.value),children:H&&h(H).map(((e,t)=>(0,m.jsx)(l.GB,{label:e.label,value:e.scale},t)))})]}),"custom"===E&&"custom"===j&&(0,m.jsx)(l.e,{ref:C,type:"number",prefixText:'1" = ',suffixText:"'",min:1,max:5e4}),(0,m.jsx)("br",{}),U&&(0,m.jsxs)(l.ZK,{layout:"inline",children:[(0,m.jsx)(l.xV,{ref:y,value:"attributes"}),"Include attributes?"]}),(0,m.jsxs)(l.ZK,{layout:"inline",children:[(0,m.jsx)(l.xV,{ref:f,value:"legend"}),"Include Legend?"]}),(0,m.jsxs)(l.ZK,{layout:"inline",children:[(0,m.jsx)(l.xV,{value:"showFrame"}),"Show map frame?"]}),(0,m.jsx)(l.ln,{width:"full",onClick:()=>{if(H){var t,a,l,s,i;const u=function(e,t,a,l){let s="current"===e?t:a;return"custom"===a&&l&&(s=12*l),x(s)}(E,null===H||void 0===H?void 0:H.scale,j,null!==C&&void 0!==C&&C.current?parseInt(C.current.value):void 0),h=T(A.size,u,null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.checked,U),S=function(e,t,a){let l=e.template?e.template.replace(".",""):JSON.parse(e).template.replace(".","");return t&&(l+="_attributes"),a&&(l+="_legend"),l}(A,null===y||void 0===y||null===(a=y.current)||void 0===a?void 0:a.checked,null===f||void 0===f||null===(l=f.current)||void 0===l?void 0:l.checked),m=((e,t,a,l,s,i)=>new p.Z({attributionVisible:!1,outScale:e,showLabels:!0,format:t,scalePreserved:!0,exportOptions:{dpi:200},layoutOptions:{titleText:a,scalebarUnit:"Feet",customTextElements:l,legendLayers:s.map.allLayers.filter((e=>"imagery"!==e.type&&"imagery-tile"!==e.type&&"selection-layer"!==e.id)).map((e=>new r.Z({layerId:e.id,title:e.title})))},layout:i}))(u,P,null===b||void 0===b||null===(s=b.current)||void 0===s?void 0:s.value,h,H,S),g={title:null===(i=b.current)||void 0===i?void 0:i.value,loading:!0,submitted:(new Date).getTime().toString(),href:null};Z([...k,g]),_.current=[..._.current,g];const d=H.scale;m.outScale!==H.scale&&(H.scale=m.outScale),setTimeout((()=>{((e,t,a,l,s)=>(t.format=s,new Promise(((s,i)=>{o.ht(e,new c.Z({template:t,view:a,outSpatialReference:new n.Z({wkid:3632})})).then((e=>{s(e)})).catch((e=>{i(e)})),setTimeout((()=>{a.scale=l}),1e3)}))))(e.exportUrl,m,H,d,P).then((e=>{setTimeout((()=>{const t=_.current.indexOf(g);_.current[t]={..._.current[t],url:e.url,loading:!1},Z([..._.current])}))})).catch((e=>{console.log(e);const t=_.current.indexOf(g);_.current[t]={..._.current[t],error:!0,loading:!1},Z([..._.current])}))}),1e3)}},children:"Export"}),(0,m.jsx)("hr",{}),(0,m.jsx)("h4",{children:"Exported files"}),k.length<=0&&(0,m.jsx)("p",{children:"Your exported files will appear here"}),(0,m.jsx)("div",{id:"printJobs",children:k.map((e=>(0,m.jsxs)("div",{className:"print-job",children:[e.loading&&(0,m.jsxs)("div",{children:[(0,m.jsx)(l.Eg,{scale:"s",inline:!0,active:!0,label:""}),(0,m.jsx)("span",{className:"loader-text",children:`${""!==e.title?e.title:"untitled"}`})]}),e.url&&!e.loading&&(0,m.jsxs)("div",{children:[(0,m.jsx)(l.g$,{target:"_blank","icon-start":"download",href:e.url,children:`${""!==e.title?e.title:"untitled"}`}),(0,m.jsx)(l.ln,{appearance:"transparent","icon-start":"x",scale:"s",onClick:()=>{_.current=k.filter((t=>t.title!==e.title)),Z(k.filter((t=>t!==e)))}})]})]},`printjob_${e.submitted}`)))})]})]})}const d=s.memo(g)}}]);
//# sourceMappingURL=1743.da6a072d.chunk.js.map