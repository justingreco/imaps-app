"use strict";(globalThis.webpackChunkimaps_app=globalThis.webpackChunkimaps_app||[]).push([[8933,2463,2170],{58933:(e,t,n)=>{n.r(t),n.d(t,{Select:()=>w,default:()=>P});var r=n(85580),i=n(72791),a=n(9283),o=n(93655),c=n(97426),s=n(52639),l=n(2170);let d,u,f,p,h=0;function y(){u.cancel(),f&&f.remove(),p.removeAll()}function g(e,t,n,r){p=new o.Z({listMode:"hide"}),t.map.add(p),u=new c.Z({view:t,layer:p,defaultCreateOptions:{mode:"hybrid"}}),d=t.allLayerViews.find((e=>e.layer.title.includes("Property")&&"feature"===e.layer.type));const i=t.map.allLayers.find((e=>e.title.includes("Property")&&"feature"===e.type));return t.whenLayerView(i).then((e=>{d=e})),u.watch("activeTool",(e=>{r(e)})),u.on("create",(e=>{if("start"===e.state&&(p.graphics.removeAll(),f&&f.remove()),"complete"===e.state&&(n(h>0?m(h,e.graphic):e.graphic.geometry),u.create(e.tool),f&&f.remove(),p.graphics.removeAll()),"active"===e.state)if(0===h)x(t,e.graphic.geometry).then((e=>{f&&f.remove(),f=e}));else{const n=m(h,e.graphic);u.layer.removeAll();const r={type:"simple-fill",color:[255,255,0,.2],style:"solid"};u.layer.add(new s.Z({geometry:n,symbol:r})),x(t,n).then((e=>{f&&f.remove(),f=e}))}})),u}function m(e,t){return l.buffer(t.geometry,e,"feet")}function x(e,t){return new Promise(((n,r)=>{d.queryFeatures({geometry:t,outSpatialReference:e.spatialReference}).then((e=>{const t=d.highlight(e.features);n(t)}))}))}function v(e,t){h=""===e.target.value?0:parseInt(e.target.value),t(h)}function A(e,t){e.create(t)}var G=n(80184);const w=e=>{const t=(0,i.useRef)(),n=(0,i.useRef)(!1),[o,c]=(0,i.useState)(!1),[s,d]=(0,i.useState)(""),[u,f]=(0,i.useState)(0),[p,h]=(0,i.useState)(),[m,x]=(0,i.useState)(void 0);(0,i.useEffect)((()=>(n.current||(n.current=!0,h(g(t.current,e.view,e.geometrySet,d))),()=>{p&&p.destroy()})),[]),(0,i.useEffect)((()=>{e.selectedProperty&&x(e.selectedProperty)}),[e.selectedProperty]),(0,i.useEffect)((()=>{p&&e.selectDismissed&&(p.cancel(),d(""))}),[e.selectDismissed]),(0,i.useEffect)((()=>{c(e.isActive)}),[e.isActive]);const w=(0,i.useCallback)((t=>{e.toolDismissed(),y()}),[]);return(0,G.jsxs)(r.N$,{id:"select-panel",heading:"Select","data-panel":"select",hidden:!o,closed:!o||void 0,dismissed:!o||void 0,dismissible:!0,onCalcitePanelDismiss:w,children:[(0,G.jsx)(r.G1,{icon:"chevron-up",text:"",slot:"header-actions-end",onClick:a.F$}),(0,G.jsxs)("div",{id:"select-tools",children:[(0,G.jsxs)("div",{className:"select-container",children:[(0,G.jsx)(r.G1,{icon:"pin",text:"Point",active:"point"===s||void 0,onClick:()=>{d("point"),p&&A(p,"point")}}),(0,G.jsx)(r.G1,{icon:"line",text:"Line",active:"line"===s||void 0,onClick:()=>{d("line"),p&&A(p,"polyline")}}),(0,G.jsx)(r.G1,{icon:"polygon",text:"Polygon",active:"polygon"===s||void 0,onClick:()=>{d("polygon"),p&&A(p,"polygon")}}),(0,G.jsx)(r.G1,{icon:"pins",text:"Multi-Point",active:"multipoint"===s||void 0,onClick:()=>{d("multipoint"),p&&A(p,"multipoint")}}),(0,G.jsx)(r.G1,{icon:"trash",text:"Clear"})]}),(0,G.jsxs)("div",{className:"buffer-container",children:[(0,G.jsxs)(r.ZK,{children:["Buffer Distance",(0,G.jsx)(r.e,{type:"number",suffixText:"feet",step:50,min:0,max:5280,value:u.toString(),clearable:!0,onCalciteInputChange:e=>v(e,f)})]}),(0,G.jsx)(r.ln,{disabled:void 0===m||void 0,hidden:u<=0,width:"full",onClick:()=>function(e,t,n){n(l.buffer(e.geometry,t,"feet"))}(m,u,e.geometrySet),children:"Buffer Property"})]})]})]})},P=i.memo(w)},92463:(e,t,n)=>{n.r(t),n.d(t,{hydratedAdapter:()=>s});var r=n(53866),i=n(77577),a=n(7882),o=n(80885),c=n(29909);const s={convertToGEGeometry:function(e,t){if(null==t)return null;let n="cache"in t?t.cache._geVersion:void 0;return null==n&&(n=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=n)),n},exportPoint:function(e,t,n){const r=e.hasZ(t),i=e.hasM(t),o=new a.Z({x:e.getPointX(t),y:e.getPointY(t),spatialReference:n});return r&&(o.z=e.getPointZ(t)),i&&(o.m=e.getPointM(t)),o.cache._geVersion=t,o},exportPolygon:function(e,t,n){const r=new o.Z({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportPolyline:function(e,t,n){const r=new c.Z({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportMultipoint:function(e,t,n){const r=new i.Z({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:n});return r.cache._geVersion=t,r},exportExtent:function(e,t,n){const i=e.hasZ(t),a=e.hasM(t),o=new r.Z({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:n});if(i){const n=e.getZExtent(t);o.zmin=n.vmin,o.zmax=n.vmax}if(a){const n=e.getMExtent(t);o.mmin=n.vmin,o.mmax=n.vmax}return o.cache._geVersion=t,o}}},2170:(e,t,n)=>{n.r(t),n.d(t,{buffer:()=>Z,clip:()=>c,contains:()=>l,convexHull:()=>G,crosses:()=>d,cut:()=>s,densify:()=>L,difference:()=>w,disjoint:()=>g,distance:()=>u,equals:()=>f,extendedSpatialReferenceInfo:()=>o,flipHorizontal:()=>I,flipVertical:()=>D,generalize:()=>_,geodesicArea:()=>O,geodesicBuffer:()=>M,geodesicDensify:()=>z,geodesicLength:()=>B,intersect:()=>E,intersects:()=>p,isSimple:()=>v,nearestCoordinate:()=>b,nearestVertex:()=>C,nearestVertices:()=>j,offset:()=>S,overlaps:()=>m,planarArea:()=>N,planarLength:()=>T,relate:()=>x,rotate:()=>k,simplify:()=>A,symmetricDifference:()=>P,touches:()=>h,union:()=>R,within:()=>y});var r=n(99058),i=n(92463);function a(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function o(e){return r.G.extendedSpatialReferenceInfo(e)}function c(e,t){return r.G.clip(i.hydratedAdapter,a(e),e,t)}function s(e,t){return r.G.cut(i.hydratedAdapter,a(e),e,t)}function l(e,t){return r.G.contains(i.hydratedAdapter,a(e),e,t)}function d(e,t){return r.G.crosses(i.hydratedAdapter,a(e),e,t)}function u(e,t,n){return r.G.distance(i.hydratedAdapter,a(e),e,t,n)}function f(e,t){return r.G.equals(i.hydratedAdapter,a(e),e,t)}function p(e,t){return r.G.intersects(i.hydratedAdapter,a(e),e,t)}function h(e,t){return r.G.touches(i.hydratedAdapter,a(e),e,t)}function y(e,t){return r.G.within(i.hydratedAdapter,a(e),e,t)}function g(e,t){return r.G.disjoint(i.hydratedAdapter,a(e),e,t)}function m(e,t){return r.G.overlaps(i.hydratedAdapter,a(e),e,t)}function x(e,t,n){return r.G.relate(i.hydratedAdapter,a(e),e,t,n)}function v(e){return r.G.isSimple(i.hydratedAdapter,a(e),e)}function A(e){return r.G.simplify(i.hydratedAdapter,a(e),e)}function G(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.G.convexHull(i.hydratedAdapter,a(e),e,t)}function w(e,t){return r.G.difference(i.hydratedAdapter,a(e),e,t)}function P(e,t){return r.G.symmetricDifference(i.hydratedAdapter,a(e),e,t)}function E(e,t){return r.G.intersect(i.hydratedAdapter,a(e),e,t)}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.G.union(i.hydratedAdapter,a(e),e,t)}function S(e,t,n,o,c,s){return r.G.offset(i.hydratedAdapter,a(e),e,t,n,o,c,s)}function Z(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.G.buffer(i.hydratedAdapter,a(e),e,t,n,o)}function M(e,t,n,o,c,s){return r.G.geodesicBuffer(i.hydratedAdapter,a(e),e,t,n,o,c,s)}function b(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.G.nearestCoordinate(i.hydratedAdapter,a(e),e,t,n)}function C(e,t){return r.G.nearestVertex(i.hydratedAdapter,a(e),e,t)}function j(e,t,n,o){return r.G.nearestVertices(i.hydratedAdapter,a(e),e,t,n,o)}function V(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent.center:null}function k(e,t,n){if(null==e)throw new Error("Illegal Argument Exception");const i=e.spatialReference;if(null==(n=n??V(e)))throw new Error("Illegal Argument Exception");const a=e.constructor.fromJSON(r.G.rotate(e,t,n));return a.spatialReference=i,a}function I(e,t){if(null==e)throw new Error("Illegal Argument Exception");const n=e.spatialReference;if(null==(t=t??V(e)))throw new Error("Illegal Argument Exception");const i=e.constructor.fromJSON(r.G.flipHorizontal(e,t));return i.spatialReference=n,i}function D(e,t){if(null==e)throw new Error("Illegal Argument Exception");const n=e.spatialReference;if(null==(t=t??V(e)))throw new Error("Illegal Argument Exception");const i=e.constructor.fromJSON(r.G.flipVertical(e,t));return i.spatialReference=n,i}function _(e,t,n,o){return r.G.generalize(i.hydratedAdapter,a(e),e,t,n,o)}function L(e,t,n){return r.G.densify(i.hydratedAdapter,a(e),e,t,n)}function z(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return r.G.geodesicDensify(i.hydratedAdapter,a(e),e,t,n,o)}function N(e,t){return r.G.planarArea(i.hydratedAdapter,a(e),e,t)}function T(e,t){return r.G.planarLength(i.hydratedAdapter,a(e),e,t)}function O(e,t,n){return r.G.geodesicArea(i.hydratedAdapter,a(e),e,t,n)}function B(e,t,n){return r.G.geodesicLength(i.hydratedAdapter,a(e),e,t,n)}}}]);
//# sourceMappingURL=8933.d6882147.chunk.js.map