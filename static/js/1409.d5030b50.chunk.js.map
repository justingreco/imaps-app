{"version":3,"file":"static/js/1409.d5030b50.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/lineSegment.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{c as n,b as o,e as i,g as e,a as c,p as u,d as s}from\"../../chunks/vec3.js\";import{a,c as g}from\"../../chunks/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function v(t){return t?{origin:a(t.origin),vector:a(t.vector)}:{origin:g(),vector:g()}}function p(t,r){const n=x.get();return n.origin=t,n.vector=r,n}function h(t,r=v()){return m(t.origin,t.vector,r)}function m(t,r,o=v()){return n(o.origin,t),n(o.vector,r),o}function l(t,r,i=v()){return n(i.origin,t),o(i.vector,r,t),i}function b(r,n){const c=o(f.get(),n,r.origin),u=i(r.vector,c),s=i(r.vector,r.vector),a=t(u/s,0,1),g=o(f.get(),e(f.get(),r.vector,a),c);return i(g,g)}function M(t,r){return Math.sqrt(b(t,r))}function d(t,r,n){return A(t,r,0,1,n)}function j(t,r,n){return c(n,t.origin,e(n,t.vector,r))}function A(r,n,s,a,g){const{vector:v,origin:p}=r,h=o(f.get(),n,p),m=i(v,h)/u(v);return e(g,v,t(m,s,a)),c(g,g,r.origin)}function B(t,r){if(q(t,p(r.origin,r.direction),!1,w)){const{tA:r,pB:n,distance2:o}=w;if(r>=0&&r<=1)return o;if(r<0)return s(t.origin,n);if(r>1)return s(c(f.get(),t.origin,t.vector),n)}return null}function k(t,r,o){return!!q(t,r,!0,w)&&(n(o,w.pA),!0)}function S(t,r){return q(t,r,!0,w)?w.distance2:null}function q(r,n,o,i){const e=1e-6,u=r.origin,a=c(f.get(),u,r.vector),g=n.origin,v=c(f.get(),g,n.vector),p=f.get(),h=f.get();if(p[0]=u[0]-g[0],p[1]=u[1]-g[1],p[2]=u[2]-g[2],h[0]=v[0]-g[0],h[1]=v[1]-g[1],h[2]=v[2]-g[2],Math.abs(h[0])<e&&Math.abs(h[1])<e&&Math.abs(h[2])<e)return!1;const m=f.get();if(m[0]=a[0]-u[0],m[1]=a[1]-u[1],m[2]=a[2]-u[2],Math.abs(m[0])<e&&Math.abs(m[1])<e&&Math.abs(m[2])<e)return!1;const l=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],b=h[0]*m[0]+h[1]*m[1]+h[2]*m[2],M=p[0]*m[0]+p[1]*m[1]+p[2]*m[2],d=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],j=(m[0]*m[0]+m[1]*m[1]+m[2]*m[2])*d-b*b;if(Math.abs(j)<e)return!1;let A=(l*b-M*d)/j,B=(l+b*A)/d;o&&(A=t(A,0,1),B=t(B,0,1));const k=f.get(),S=f.get();return k[0]=u[0]+A*m[0],k[1]=u[1]+A*m[1],k[2]=u[2]+A*m[2],S[0]=g[0]+B*h[0],S[1]=g[1]+B*h[1],S[2]=g[2]+B*h[2],i.tA=A,i.tB=B,i.pA=k,i.pB=S,i.distance2=s(k,S),!0}const w={tA:0,tB:0,pA:g(),pB:g(),distance2:0},x=new r((()=>({origin:null,vector:null})));export{S as closestLineSegmentDistance2,k as closestLineSegmentPoint,B as closestRayDistance2,h as copy,v as create,M as distance,b as distance2,l as fromPoints,m as fromValues,j as pointAt,d as projectPoint,A as projectPointClamp,p as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../../../chunks/vec2f64.js\";import{t as n}from\"../../../../chunks/vec4.js\";import{c as r}from\"../../../../chunks/vec4f64.js\";const a=r();class o{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function e(t,n){if(!t)throw n=n||\"assert\",console.log(new Error(n).stack),new o(n)}function s(t,n){t||(n=n||\"\",console.warn(\"Verify failed: \"+n+\"\\n\"+new Error(\"verify\").stack))}function c(t,n,r,a){let o,e=(r[0]-t[0])/n[0],s=(a[0]-t[0])/n[0];e>s&&(o=e,e=s,s=o);let c=(r[1]-t[1])/n[1],u=(a[1]-t[1])/n[1];if(c>u&&(o=c,c=u,u=o),e>u||c>s)return!1;c>e&&(e=c),u<s&&(s=u);let i=(r[2]-t[2])/n[2],f=(a[2]-t[2])/n[2];return i>f&&(o=i,i=f,f=o),!(e>f||i>s)&&(f<s&&(s=f),!(s<0))}function u(n,r,a,o,e,s=t()){const c=(o[e]-a[e])*(r[0]-n[0])-(o[0]-a[0])*(r[e]-n[e]),u=(o[0]-a[0])*(n[e]-a[e])-(o[e]-a[e])*(n[0]-a[0]);if(0===c)return!1;const i=u/c;return s[0]=n[0]+i*(r[0]-n[0]),s[1]=n[e]+i*(r[e]-n[e]),!0}function i(t,r,o,s,c){c||(c=t),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1,n(a,a,r),c.length>2&&(c[2]=-a[2]),n(a,a,o),e(0!==a[3]),c[0]=a[0]/a[3],c[1]=a[1]/a[3],c[2]=a[2]/a[3],c[0]=(.5*c[0]+.5)*s[2]+s[0],c[1]=(.5*c[1]+.5)*s[3]+s[1]}function f(t,n){return Math.log(t)/Math.log(n)}function h(t,n,r,a){t[12]=n,t[13]=r,t[14]=a}function M(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}function l(t,n,r){return 2*Math.atan(Math.sqrt(n*n+r*r)*Math.tan(.5*t)/n)}function m(t,n,r){return 2*Math.atan(Math.sqrt(n*n+r*r)*Math.tan(.5*t)/r)}function g(t,n,r){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(n*n+r*r))}function k(t,n,r){return 2*Math.atan(r*Math.tan(.5*t)/Math.sqrt(n*n+r*r))}export{e as assert,g as fovd2fovx,k as fovd2fovy,l as fovx2fovd,m as fovy2fovd,M as isTranslationMatrix,f as logWithBase,i as project,c as rayBoxTest,u as rayRay2D,h as setMatrixTranslation3,s as verify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{isNone as t,unwrapOr as s}from\"../../../../../core/maybe.js\";import{throwIfAborted as o}from\"../../../../../core/promiseUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/set.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{C as i,a as r,i as d}from\"../../../../../chunks/vec3.js\";import{c,a}from\"../../../../../chunks/vec3f64.js\";import{create as p,fromPoints as u,projectPoint as m}from\"../../../../../geometry/support/lineSegment.js\";import{g as h,m as g,c as l}from\"../../../../../chunks/sphere.js\";import{SnappingTypes as f}from\"../../../../../layers/graphics/data/QueryEngineResult.js\";import _ from\"../../../../3d/webgl-engine/lib/Octree.js\";import{extractComponentsEdgeLocationsLayout as b}from\"../../../../3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js\";let j=class{constructor(){this._idToComponent=new Map,this._components=new _((e=>e.bounds)),this._edges=new _((e=>e.bounds)),this._tmpLineSegment=p(),this._tmpP1=c(),this._tmpP2=c(),this._tmpP3=c(),this.remoteClient=null}async fetchCandidates(e,t){await Promise.resolve(),o(t),await this._ensureEdgeLocations(e,t);const s=[];return this._edges.forEachNeighbor((t=>this._addCandidates(e,t,s)),e.bounds),{result:{candidates:s}}}async _ensureEdgeLocations(e,o){const n=[];if(this._components.forEachNeighbor((e=>{if(t(e.info)){const{id:t,uid:s}=e;n.push({id:t,uid:s})}}),e.bounds),!n.length)return;const i={components:n},r=await this.remoteClient.invoke(\"fetchAllEdgeLocations\",i,s(o,{}));for(const t of r.components)this._setFetchEdgeLocations(t)}async add(e){const t=new C(e.id,e.bounds);return this._idToComponent.set(t.id,t),this._components.add([t]),{result:{}}}async remove(e){const t=this._idToComponent.get(e.id);if(t){const e=[];this._edges.forEachNeighbor((s=>{s.component===t&&e.push(s)}),t.bounds),this._edges.remove(e),this._components.remove([t]),this._idToComponent.delete(t.id)}return{result:{}}}_setFetchEdgeLocations(e){const s=this._idToComponent.get(e.id);if(t(s)||e.uid!==s.uid)return;const o=b.createView(e.locations),n=new Array(o.count),a=c(),p=c();for(let t=0;t<o.count;t++){const c=l(),u=h(c);o.position0.getVec(t,a),o.position1.getVec(t,p),i(u,u,a,.5),i(u,u,p,.5),r(u,u,e.origin),c[3]=d(u,a);const m=new E(s,t,c);n[t]=m}this._edges.add(n);const{objectIds:u,origin:m}=e;s.info={locations:o,objectIds:u,origin:m}}_addCandidates(e,t,s){const{locations:o,origin:n,objectIds:i}=t.component.info,d=o.position0.getVec(t.index,this._tmpP1),c=o.position1.getVec(t.index,this._tmpP2);r(d,d,n),r(c,c,n);const a=i[o.componentIndex.get(t.index)];this._addEdgeCandidate(e,a,d,c,s),this._addVertexCandidate(e,a,d,s),this._addVertexCandidate(e,a,c,s)}_addEdgeCandidate(e,t,s,o,n){if(!(e.types&f.EDGE))return;const i=h(e.bounds),r=u(s,o,this._tmpLineSegment),c=m(r,i,this._tmpP3);if(!g(e.bounds,c))return null;n.push({type:\"edge\",objectId:t,target:a(c),distance:d(i,c),start:a(s),end:a(o)})}_addVertexCandidate(e,t,s,o){if(!(e.types&f.VERTEX))return;const n=h(e.bounds);if(!g(e.bounds,s))return null;o.push({type:\"vertex\",objectId:t,target:a(s),distance:d(n,s)})}};function y(){return new j}j=e([n(\"esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker\")],j);class C{constructor(e,t){this.id=e,this.bounds=t,this.info=null,this.uid=++C.uid}}C.uid=0;class E{constructor(e,t,s){this.component=e,this.index=t,this.bounds=s}}export{j as SceneLayerSnappingSourceWorker,y as default};\n"],"names":["v","t","origin","a","vector","g","h","r","m","o","n","l","i","b","c","f","u","s","e","d","A","j","p","B","q","x","get","direction","w","tA","pB","distance2","k","pA","Math","abs","M","S","tB","constructor","this","message","toString","console","log","Error","stack","warn","atan","sqrt","tan","_idToComponent","Map","_components","_","bounds","_edges","_tmpLineSegment","_tmpP1","_tmpP2","_tmpP3","remoteClient","Promise","resolve","_ensureEdgeLocations","forEachNeighbor","_addCandidates","result","candidates","info","id","uid","push","length","components","invoke","_setFetchEdgeLocations","C","set","add","component","remove","delete","locations","Array","count","position0","getVec","position1","E","objectIds","index","componentIndex","_addEdgeCandidate","_addVertexCandidate","types","type","objectId","target","distance","start","end","y"],"sourceRoot":""}